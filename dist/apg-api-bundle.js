var{isArray:a}=Array,b=a=>typeof a=='function',c=a=>typeof a=='string',d=a=>typeof a=='number',{defineProperty:e}=Object;(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require,a=Error(`Cannot find module '${i}'`);if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw (a.code="MODULE_NOT_FOUND",a)}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(A,_,B){B.byteLength=k;B.toByteArray=m;B.fromByteArray=p;var D=[],E=[],f=Uint8Array!==void 0?Uint8Array:Array,g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';for(var i=0,I=g.length;i<I;++i){D[i]=g[i];E[g.charCodeAt(i)]=i}E['-'.charCodeAt(0)]=62;E['_'.charCodeAt(0)]=63;function j(C){var _b=C.length,_c=C.indexOf('='),_d=_c==_b?0:4-(_c%4);if(_b%4>0)throw Error('Invalid string. Length must be a multiple of 4');_c==-1&&(_c=_b);return[_c,_d]}function k(C){var _b=j(C),_c=_b[0],_d=_b[1];return ((_c+_d)*3/4)-_d}function l(C,_b,_c){return ((_b+_c)*3/4)-_c}function m(C){var _b,_c=j(C),_d=_c[0],_e=_c[1],F=new f(l(C,_d,_e)),G=0,h=_e>0?_d-4:_d,i;for(i=0;i<h;i+=4){_b=(E[C.charCodeAt(i)]<<18)|(E[C.charCodeAt(i+1)]<<12)|(E[C.charCodeAt(i+2)]<<6)|E[C.charCodeAt(i+3)];F[G++]=(_b>>16)&0xFF;F[G++]=(_b>>8)&0xFF;F[G++]=_b&0xFF}_e==2&&(_b=(E[C.charCodeAt(i)]<<2)|(E[C.charCodeAt(i+1)]>>4),F[G++]=_b&0xFF);_e==1&&(_b=(E[C.charCodeAt(i)]<<10)|(E[C.charCodeAt(i+1)]<<4)|(E[C.charCodeAt(i+2)]>>2),F[G++]=(_b>>8)&0xFF,F[G++]=_b&0xFF);return F}function n(C){return D[C>>18&0x3F]+D[C>>12&0x3F]+D[C>>6&0x3F]+D[C&0x3F]}function o(C,_b,_c){var _d,_e=[];for(var i=_b;i<_c;i+=3){_d=((C[i]<<16)&0xFF0000)+((C[i+1]<<8)&0xFF00)+(C[i+2]&0xFF);_e.push(n(_d))}return _e.join('')}function p(C){var _b,_c=C.length,_d=_c%3,_e=[],F=16383;for(var i=0,h=_c-_d;i<h;i+=F)_e.push(o(C,i,h<(i+F)?h:(i+F)));if(_d==1){_b=C[_c-1];_e.push(D[_b>>2]+D[(_b<<4)&0x3F]+'==')}else _d==2&&(_b=(C[_c-2]<<8)+C[_c-1],_e.push(D[_b>>10]+D[(_b>>4)&0x3F]+D[(_b<<2)&0x3F]+'='));return _e.join('')}},{}],2:[function(A,_,B){function(...args){function(){var C=A('base64-js'),_b=A('ieee754'),_c=0x7fffffff,aD=0x1000,aO=/[^\w+/-]/g;B.Buffer=f;B.SlowBuffer=p;B.INSPECT_MAX_BYTES=50;B.kMaxLength=_c;f.TYPED_ARRAY_SUPPORT=D();!f.TYPED_ARRAY_SUPPORT&&console!==void 0&&typeof console.error=='function'&&console.error('This browser lacks typed array (Uint8Array) support which is required by '+'`buffer` v5.x. Use `buffer` v4.x if you require old browser support.');function D(){try {var _a=new Uint8Array(1);_a.__proto__={__proto__:Uint8Array.prototype,foo(){return 42}};return _a.foo()==42} catch {return!1}}e(f.prototype,'parent',{enumerable:!0,get(){if(!f.isBuffer(this))return;return this.buffer}});e(f.prototype,'offset',{enumerable:!0,get(){if(!f.isBuffer(this))return;return this.byteOffset}});function E(_a){if(_a>_c)throw new RangeError(`The value "${_a}" is invalid for option "size"`);var _B=new Uint8Array(_a);_B.__proto__=f.prototype;return _B}function f(_a,_B,_C){if(d(_a)){if(c(_B))throw TypeError('The "string" argument must be of type string. Received type number');return j(_a)}return g(_a,_B,_C)}Symbol!==void 0&&Symbol.species!=null&&f[Symbol.species]==f&&e(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});f.poolSize=8192;function g(_a,_B,_C){if(c(_a))return k(_a,_B);if(ArrayBuffer.isView(_a))return l(_a);if(_a==null)throw TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, '+'or Array-like Object. Received type '+typeof _a);if(aW(_a,ArrayBuffer)||(_a&&aW(_a.buffer,ArrayBuffer)))return m(_a,_B,_C);if(d(_a))throw TypeError('The "value" argument must not be of type number. Received type number');var _d=_a.valueOf&&_a.valueOf(),b=n(_a);if(_d!=null&&_d!==_a)return f.from(_d,_B,_C);if(b)return b;if(Symbol!==void 0&&Symbol.toPrimitive!=null&&b(_a[Symbol.toPrimitive]))return f.from(_a[Symbol.toPrimitive]('string'),_B,_C);throw TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, '+'or Array-like Object. Received type '+typeof _a)}f.from=(value,encodingOrOffset,length)=>g(value,encodingOrOffset,length);f.prototype.__proto__=Uint8Array.prototype;f.__proto__=Uint8Array;function h(_a){if(typeof _a!=='number')throw TypeError('"size" argument must be of type number'); else if(_a<0)throw new RangeError(`The value "${_a}" is invalid for option "size"`)}function i(_a,_B,_C){h(_a);if(_a<=0)return E(_a);if(_B!==void 0)return c(_C)?E(_a).fill(_B,_C):E(_a).fill(_B);return E(_a)}f.alloc=(size,fill,encoding)=>i(size,fill,encoding);function j(_a){h(_a);return E(_a<0?0:o(_a)|0)}f.allocUnsafe=size=>j(size);f.allocUnsafeSlow=size=>j(size);function k(_a,_B){typeof _B!=='string'||_B==''&&(_B='utf8');if(!f.isEncoding(_B))throw TypeError(`Unknown encoding: ${_B}`);var _C=q(_a,_B)|0,_d=E(_C),_e=_d.write(_a,_B);_e!==_C&&(_d=_d.slice(0,_e));return _d}function l(_a){var _B=_a.length<0?0:o(_a.length)|0,_C=E(_B);for(var i=0;i<_B;i+=1)_C[i]=_a[i]&255;return _C}function m(_a,_B,_C){if(_B<0||_a.byteLength<_B)throw new RangeError('"offset" is outside of buffer bounds');if(_a.byteLength<_B+(_C||0))throw new RangeError('"length" is outside of buffer bounds');var _d;_B==void 0&&_C==void 0?_d=new Uint8Array(_a):_C==void 0?_d=new Uint8Array(_a, _B):_d=new Uint8Array(_a, _B, _C);_d.__proto__=f.prototype;return _d}function n(_a){if(f.isBuffer(_a)){var _B=o(_a.length)|0,_C=E(_B);if(!_C.length)return _C;_a.copy(_C,0,0,_B);return _C}if(_a.length!==void 0){if(typeof _a.length!=='number'||aX(_a.length))return E(0);return l(_a)}if(_a.type=='Buffer'&&a(_a.data))return l(_a.data)}function o(_a){if(_a>=_c)throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+_c.toString(16)+' bytes');return _a|0}function p(_a){+_a!=_a&&(_a=0);return f.alloc(+_a)}f.isBuffer=function _B(b){return b!=null&&b._isBuffer&&b!==f.prototype};f.compare=function _C(a,b){aW(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength));aW(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength));if(!f.isBuffer(a)||!f.isBuffer(b))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a==b)return 0;var x=a.length,y=b.length;for(var i=0,G=Math.min(x,y);i<G;++i)if(a[i]!==b[i]){x=a[i];y=b[i];break}if(x<y)return -1;if(y<x)return 1;return 0};f.isEncoding=function _B(_a){switch(''+_a.toLowerCase()) {case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'latin1':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':return!0;default:return!1}};f.concat=function _C(_a,_B){if(!a(_a))throw TypeError('"list" argument must be an Array of Buffers');if(!_a.length)return f.alloc(0);var i,_e=f.allocUnsafe(_B),F=0;if(_B==void 0){_B=0;for(i=0;i<_a.length;++i)_B+=_a[i].length}for(i=0;i<_a.length;++i){var G=_a[i];aW(G,Uint8Array)&&(G=f.from(G));if(!f.isBuffer(G))throw TypeError('"list" argument must be an Array of Buffers');G.copy(_e,F);F+=G.length}return _e};function q(_a,_B){if(f.isBuffer(_a))return _a.length;if(ArrayBuffer.isView(_a)||aW(_a,ArrayBuffer))return _a.byteLength;if(typeof _a!=='string')throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+'Received type '+typeof _a);var _C=_a.length,_d=(args.length>2&&args[2]),_e=!1;if(!_d&&!_C)return 0;for(;;)switch(_B) {case 'ascii':case 'latin1':case 'binary':return _C;case 'utf8':case 'utf-8':return aR(_a).length;case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':return _C*2;case 'hex':return _C>>>1;case 'base64':return aU(_a).length;default:if(_e)return _d?-1:aR(_a).length;_B=`${_B}`.toLowerCase();_e=!0}}f.byteLength=q;function r(_a,_B,_C){var _d=!1;_B==void 0||_B<0&&(_B=0);if(_B>this.length)return'';_C==void 0||_C>this.length&&(_C=this.length);if(_C<=0)return'';_C>>>=0;_B>>>=0;if(_C<=_B)return'';!_a&&(_a='utf8');while (!0)switch(_a) {case 'hex':return aH(this,_B,_C);case 'utf8':case 'utf-8':return aC(this,_B,_C);case 'ascii':return aF(this,_B,_C);case 'latin1':case 'binary':return aG(this,_B,_C);case 'base64':return aB(this,_B,_C);case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':return aI(this,_B,_C);default:if(_d)throw TypeError(`Unknown encoding: ${_a}`);_a=`${_a}`.toLowerCase();_d=!0}}f.prototype._isBuffer=!0;function s(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}f.prototype.swap16=function _a(){var _B=this.length;if(_B%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var i=0;i<_B;i+=2)s(this,i,i+1);return this};f.prototype.swap32=function _a(){var _B=this.length;if(_B%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var i=0;i<_B;i+=4){s(this,i,i+3);s(this,i+1,i+2)}return this};f.prototype.swap64=function _a(){var _B=this.length;if(_B%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var i=0;i<_B;i+=8){s(this,i,i+7);s(this,i+1,i+6);s(this,i+2,i+5);s(this,i+3,i+4)}return this};f.prototype.toString=function _a(){var _B=this.length;if(!_B)return'';if(!args.length)return aC(this,0,_B);return r.apply(this,args)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function _B(b){if(!f.isBuffer(b))throw TypeError('Argument must be a Buffer');if(b==this)return!0;return!f.compare(this,b)};f.prototype.inspect=function _a(){var _B='',_C=B.INSPECT_MAX_BYTES;_B=this.toString('hex',0,_C).replace(/(.{2})/g,'$1 ').trim();this.length>_C&&(_B+=' ... ');return`<Buffer ${_B}>`};f.prototype.compare=function F(_a,_B,_C,_d,_e){aW(_a,Uint8Array)&&(_a=f.from(_a,_a.offset,_a.byteLength));if(!f.isBuffer(_a))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+'Received type '+typeof _a);_B==void 0&&(_B=0);_C==void 0&&(_C=_a?_a.length:0);_d==void 0&&(_d=0);_e==void 0&&(_e=this.length);if(_B<0||_C>_a.length||_d<0||_e>this.length)throw new RangeError('out of range index');if(_d>=_e&&_B>=_C)return 0;if(_d>=_e)return -1;if(_B>=_C)return 1;_B>>>=0;_C>>>=0;_d>>>=0;_e>>>=0;if(_a==this)return 0;var x=_e-_d,y=_C-_B,I=Math.min(x,y),J=this.slice(_d,_e),K=_a.slice(_B,_C);for(var i=0;i<I;++i)if(J[i]!==K[i]){x=J[i];y=K[i];break}if(x<y)return -1;if(y<x)return 1;return 0};function t(_a,_B,_C,_d,_e){if(!_a.length)return -1;if(c(_C)){_d=_C;_C=0}else _C>0x7fffffff?_C=0x7fffffff:_C<-0x80000000&&(_C=-0x80000000);_C=+_C;aX(_C)&&(_C=_e?0:(_a.length-1));_C<0&&(_C=_a.length+_C);if(_C>=_a.length){if(_e)return -1;_C=_a.length-1} else if(_C<0)if(_e)_C=0;else return -1;c(_B)&&(_B=f.from(_B,_d));if(f.isBuffer(_B)){if(!_B.length)return -1;return u(_a,_B,_C,_d,_e)}if(d(_B)){_B=_B&0xFF;if(typeof Uint8Array.prototype.indexOf=='function'){if(_e)return Uint8Array.prototype.indexOf.call(_a,_B,_C);return Uint8Array.prototype.lastIndexOf.call(_a,_B,_C)}return u(_a,[_B],_C,_d,_e)}throw TypeError('val must be string, number or Buffer')}function u(_a,_B,_C,_d,_e){var F=1,G=_a.length,H=_B.length,i;if(_d!==void 0){_d=''+_d.toLowerCase();if(_d=='ucs2'||_d=='ucs-2'||_d=='utf16le'||_d=='utf-16le'){if(_a.length<2||_B.length<2)return -1;F=2;G/=2;H/=2;_C/=2}}function I(_A,i){if(F==1)return _A[i];return _A.readUInt16BE(i*F)}if(_e){var K=-1;for(i=_C;i<G;i++)if(I(_a,i)==I(_B,K===-1?0:i-K)){K==-1&&(K=i);if(H==i-K+1)return K*F}else{K!==-1&&(i-=i-K);K=-1}}else{G<_C+H&&(_C=G-H);for(i=_C;i>=0;i--){var L=!0;for(var j=0;j<H;j++)if(I(_a,i+j)!==I(_B,j)){L=!1;break}if(L)return i}}return -1}f.prototype.includes=function _d(_a,_B,_C){return this.indexOf(_a,_B,_C)!==-1};f.prototype.indexOf=function _d(_a,_B,_C){return t(this,_a,_B,_C,!0)};f.prototype.lastIndexOf=function _d(_a,_B,_C){return t(this,_a,_B,_C,!1)};function v(_a,_B,_C,_d){_C=+_C||0;var _e=_a.length-_C,F=_B.length;if(!_d)_d=_e;else{_d=+_d;_d>_e&&(_d=_e)}_d>F/2&&(_d=F/2);for(var i=0;i<_d;++i){var H=parseInt(_B.substr(i*2,2),16);if(aX(H))return i;_a[_C+i]=H}return i}function w(_a,_B,_C,_d){return aV(aR(_B,_a.length-_C),_a,_C,_d)}function x(_a,_B,_C,_d){return aV(aS(_B),_a,_C,_d)}function y(_a,_B,_C,_d){return x(_a,_B,_C,_d)}function z(_a,_B,_C,_d){return aV(aU(_B),_a,_C,_d)}function aA(_a,_B,_C,_d){return aV(aT(_B,_a.length-_C),_a,_C,_d)}f.prototype.write=function _e(_a,_B,_C,_d){if(_B==void 0){_d='utf8';_C=this.length;_B=0} else if(_C==void 0&&c(_B)){_d=_B;_C=this.length;_B=0} else if(isFinite(_B)){_B=_B>>>0;isFinite(_C)?(_C=_C>>>0,_d==void 0&&(_d='utf8')):(_d=_C,_C=void 0)}else throw Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var F=this.length-_B,G=!1;_C==void 0||_C>F&&(_C=F);if((_a.length>0&&(_C<0||_B<0))||_B>this.length)throw new RangeError('Attempt to write outside buffer bounds');!_d&&(_d='utf8');for(;;)switch(_d) {case 'hex':return v(this,_a,_B,_C);case 'utf8':case 'utf-8':return w(this,_a,_B,_C);case 'ascii':return x(this,_a,_B,_C);case 'latin1':case 'binary':return y(this,_a,_B,_C);case 'base64':return z(this,_a,_B,_C);case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':return aA(this,_a,_B,_C);default:if(G)throw TypeError(`Unknown encoding: ${_d}`);_d=`${_d}`.toLowerCase();G=!0}};f.prototype.toJSON=function _a(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};function aB(_a,_B,_C){if(!_B&&_C==_a.length)return C.fromByteArray(_a);return C.fromByteArray(_a.slice(_B,_C))}function aC(_a,_B,_C){_C=Math.min(_a.length,_C);var _d=[],i=_B;while (i<_C) {var F=_a[i],G=null,H=(F>0xEF)?4:(F>0xDF)?3:(F>0xBF)?2:1;if(_C>=i+H){var I,J,K,L;switch(H) {case 1:F<0x80&&(G=F);break;case 2:I=_a[i+1];(I&0xC0)==0x80&&(L=(F&0x1F)<<0x6|(I&0x3F),L>0x7F&&(G=L));break;case 3:I=_a[i+1];J=_a[i+2];(I&0xC0)==0x80&&(J&0xC0)==0x80&&(L=(F&0xF)<<0xC|(I&0x3F)<<0x6|(J&0x3F),L>0x7FF&&(L<0xD800||L>0xDFFF)&&(G=L));break;case 4:I=_a[i+1];J=_a[i+2];K=_a[i+3];(I&0xC0)==0x80&&(J&0xC0)==0x80&&(K&0xC0)==0x80&&(L=(F&0xF)<<0x12|(I&0x3F)<<0xC|(J&0x3F)<<0x6|(K&0x3F),L>0xFFFF&&L<0x110000&&(G=L))}}if(G==null){G=0xFFFD;H=1}else G>0xFFFF&&(G-=0x10000,_d.push(G>>>10&0x3FF|0xD800),G=0xDC00|G&0x3FF);_d.push(G);i+=H}return aE(_d)}function aE(_a){var _B=_a.length,_C='',i=0;if(_B<=aD)return String.fromCharCode.apply(String,_a);while (i<_B)_C+=String.fromCharCode.apply(String,_a.slice(i,i+=aD));return _C}function aF(_a,_B,_C){var _d='';_C=Math.min(_a.length,_C);for(var i=_B;i<_C;++i)_d+=String.fromCharCode(_a[i]&0x7F);return _d}function aG(_a,_B,_C){var _d='';_C=Math.min(_a.length,_C);for(var i=_B;i<_C;++i)_d+=String.fromCharCode(_a[i]);return _d}function aH(_a,_B,_C){var _d=_a.length,_e='';!_B||_B<0&&(_B=0);!_C||_C<0||_C>_d&&(_C=_d);for(var i=_B;i<_C;++i)_e+=aQ(_a[i]);return _e}function aI(_a,_B,_C){var _d=_a.slice(_B,_C),_e='';for(var i=0;i<_d.length;i+=2)_e+=String.fromCharCode(_d[i]+(_d[i+1]*256));return _e}f.prototype.slice=function _C(_a,_B){var _d=this.length,_e=this.subarray(_a,_B);_a=~~_a;_B=_B==void 0?_d:~~_B;if(_a<0){_a+=_d;_a<0&&(_a=0)}else _a>_d&&(_a=_d);if(_B<0){_B+=_d;_B<0&&(_B=0)}else _B>_d&&(_B=_d);_B<_a&&(_B=_a);_e.__proto__=f.prototype;return _e};function aJ(_a,_B,_C){if((_a%1)||_a<0)throw new RangeError('offset is not uint');if(_C<_a+_B)throw new RangeError('Trying to access beyond buffer length')}f.prototype.readUIntLE=function _d(_a,_B,_C){_a=_a>>>0;_B=_B>>>0;!_C&&aJ(_a,_B,this.length);var _e=this[_a],F=1,i=0;while (++i<_B&&(F*=0x100))_e+=this[_a+i]*F;return _e};f.prototype.readUIntBE=function _d(_a,_B,_C){_a=_a>>>0;_B=_B>>>0;!_C&&aJ(_a,_B,this.length);var _e=this[_a+--_B],F=1;while (_B>0&&(F*=0x100))_e+=this[_a+--_B]*F;return _e};f.prototype.readUInt8=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,1,this.length);return this[_a]};f.prototype.readUInt16LE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,2,this.length);return this[_a]|(this[_a+1]<<8)};f.prototype.readUInt16BE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,2,this.length);return (this[_a]<<8)|this[_a+1]};f.prototype.readUInt32LE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return (this[_a]|(this[_a+1]<<8)|(this[_a+2]<<16))+(this[_a+3]*0x1000000)};f.prototype.readUInt32BE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return (this[_a]*0x1000000)+((this[_a+1]<<16)|(this[_a+2]<<8)|this[_a+3])};f.prototype.readIntLE=function _d(_a,_B,_C){_a=_a>>>0;_B=_B>>>0;!_C&&aJ(_a,_B,this.length);var _e=this[_a],F=1,i=0;while (++i<_B&&(F*=0x100))_e+=this[_a+i]*F;F*=0x80;_e>=F&&(_e-=Math.pow(2,8*_B));return _e};f.prototype.readIntBE=function _d(_a,_B,_C){_a=_a>>>0;_B=_B>>>0;!_C&&aJ(_a,_B,this.length);var i=_B,F=1,G=this[_a+--i];while (i>0&&(F*=0x100))G+=this[_a+--i]*F;F*=0x80;G>=F&&(G-=Math.pow(2,8*_B));return G};f.prototype.readInt8=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,1,this.length);if(!(this[_a]&0x80))return this[_a];return ((0xff-this[_a]+1)*-1)};f.prototype.readInt16LE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,2,this.length);var _d=this[_a]|(this[_a+1]<<8);return (_d&0x8000)?_d|0xFFFF0000:_d};f.prototype.readInt16BE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,2,this.length);var _d=this[_a+1]|(this[_a]<<8);return (_d&0x8000)?_d|0xFFFF0000:_d};f.prototype.readInt32LE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return this[_a]|(this[_a+1]<<8)|(this[_a+2]<<16)|(this[_a+3]<<24)};f.prototype.readInt32BE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return (this[_a]<<24)|(this[_a+1]<<16)|(this[_a+2]<<8)|this[_a+3]};f.prototype.readFloatLE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return _b.read(this,_a,!0,23,4)};f.prototype.readFloatBE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,4,this.length);return _b.read(this,_a,!1,23,4)};f.prototype.readDoubleLE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,8,this.length);return _b.read(this,_a,!0,52,8)};f.prototype.readDoubleBE=function _C(_a,_B){_a=_a>>>0;!_B&&aJ(_a,8,this.length);return _b.read(this,_a,!1,52,8)};function aK(_a,_B,_C,_d,_e,F){if(!f.isBuffer(_a))throw TypeError('"buffer" argument must be a Buffer instance');if(_B>_e||_B<F)throw new RangeError('"value" argument is out of bounds');if(_a.length<_C+_d)throw new RangeError('Index out of range')}f.prototype.writeUIntLE=function _e(_a,_B,_C,_d){_a=+_a;_B=_B>>>0;_C=_C>>>0;if(!_d){var F=Math.pow(2,8*_C)-1;aK(this,_a,_B,_C,F,0)}var G=1,i=0;this[_B]=_a&0xFF;while (++i<_C&&(G*=0x100))this[_B+i]=(_a/G)&0xFF;return _B+_C};f.prototype.writeUIntBE=function _e(_a,_B,_C,_d){_a=+_a;_B=_B>>>0;_C=_C>>>0;if(!_d){var F=Math.pow(2,8*_C)-1;aK(this,_a,_B,_C,F,0)}var i=_C-1,H=1;this[_B+i]=_a&0xFF;while (--i>=0&&(H*=0x100))this[_B+i]=(_a/H)&0xFF;return _B+_C};f.prototype.writeUInt8=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,1,0xff,0);this[_B]=(_a&0xff);return _B+1};f.prototype.writeUInt16LE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,2,0xffff,0);this[_B]=(_a&0xff);this[_B+1]=(_a>>>8);return _B+2};f.prototype.writeUInt16BE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,2,0xffff,0);this[_B]=(_a>>>8);this[_B+1]=(_a&0xff);return _B+2};f.prototype.writeUInt32LE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,4,0xffffffff,0);this[_B+3]=(_a>>>24);this[_B+2]=(_a>>>16);this[_B+1]=(_a>>>8);this[_B]=(_a&0xff);return _B+4};f.prototype.writeUInt32BE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,4,0xffffffff,0);this[_B]=(_a>>>24);this[_B+1]=(_a>>>16);this[_B+2]=(_a>>>8);this[_B+3]=(_a&0xff);return _B+4};f.prototype.writeIntLE=function _e(_a,_B,_C,_d){_a=+_a;_B=_B>>>0;if(!_d){var F=Math.pow(2,(8*_C)-1);aK(this,_a,_B,_C,F-1,-F)}var i=0,H=1,I=0;this[_B]=_a&0xFF;while (++i<_C&&(H*=0x100)) {_a<0&&!I&&this[_B+i-1]&&(I=1);this[_B+i]=((_a/H)>>0)-I&0xFF}return _B+_C};f.prototype.writeIntBE=function _e(_a,_B,_C,_d){_a=+_a;_B=_B>>>0;if(!_d){var F=Math.pow(2,(8*_C)-1);aK(this,_a,_B,_C,F-1,-F)}var i=_C-1,H=1,I=0;this[_B+i]=_a&0xFF;while (--i>=0&&(H*=0x100)) {_a<0&&!I&&this[_B+i+1]&&(I=1);this[_B+i]=((_a/H)>>0)-I&0xFF}return _B+_C};f.prototype.writeInt8=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,1,0x7f,-0x80);_a<0&&(_a=0xff+_a+1);this[_B]=(_a&0xff);return _B+1};f.prototype.writeInt16LE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,2,0x7fff,-0x8000);this[_B]=(_a&0xff);this[_B+1]=(_a>>>8);return _B+2};f.prototype.writeInt16BE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,2,0x7fff,-0x8000);this[_B]=(_a>>>8);this[_B+1]=(_a&0xff);return _B+2};f.prototype.writeInt32LE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,4,0x7fffffff,-0x80000000);this[_B]=(_a&0xff);this[_B+1]=(_a>>>8);this[_B+2]=(_a>>>16);this[_B+3]=(_a>>>24);return _B+4};f.prototype.writeInt32BE=function _d(_a,_B,_C){_a=+_a;_B=_B>>>0;!_C&&aK(this,_a,_B,4,0x7fffffff,-0x80000000);_a<0&&(_a=0xffffffff+_a+1);this[_B]=(_a>>>24);this[_B+1]=(_a>>>16);this[_B+2]=(_a>>>8);this[_B+3]=(_a&0xff);return _B+4};function aL(_a,_B,_C,_d){if(_a.length<_C+_d)throw new RangeError('Index out of range');if(_C<0)throw new RangeError('Index out of range')}function aM(_a,_B,_C,_d,_e){_B=+_B;_C=_C>>>0;!_e&&aL(_a,_B,_C,4,3.4028234663852886e+38,-3.4028234663852886e+38);_b.write(_a,_B,_C,_d,23,4);return _C+4}f.prototype.writeFloatLE=function _d(_a,_B,_C){return aM(this,_a,_B,!0,_C)};f.prototype.writeFloatBE=function _d(_a,_B,_C){return aM(this,_a,_B,!1,_C)};function aN(_a,_B,_C,_d,_e){_B=+_B;_C=_C>>>0;!_e&&aL(_a,_B,_C,8,1.7976931348623157E+308,-1.7976931348623157E+308);_b.write(_a,_B,_C,_d,52,8);return _C+8}f.prototype.writeDoubleLE=function _d(_a,_B,_C){return aN(this,_a,_B,!0,_C)};f.prototype.writeDoubleBE=function _d(_a,_B,_C){return aN(this,_a,_B,!1,_C)};f.prototype.copy=function _e(_a,_B,_C,_d){if(!f.isBuffer(_a))throw TypeError('argument should be a Buffer');!_C&&(_C=0);!_d&&_d&&(_d=this.length);_B>=_a.length&&(_B=_a.length);!_B&&(_B=0);_d>0&&_d<_C&&(_d=_C);if(_d==_C)return 0;if(!_a.length||!this.length)return 0;if(_B<0)throw new RangeError('targetStart out of bounds');if(_C<0||_C>=this.length)throw new RangeError('Index out of range');if(_d<0)throw new RangeError('sourceEnd out of bounds');_d>this.length&&(_d=this.length);_a.length-_B<_d-_C&&(_d=_a.length-_B+_C);var F=_d-_C;if(_a==this&&typeof Uint8Array.prototype.copyWithin=='function')this.copyWithin(_B,_C,_d); else if(_a==this&&_C<_B&&_B<_d)for(var i=F-1;i>=0;--i)_a[i+_B]=this[i+_C];else Uint8Array.prototype.set.call(_a,this.subarray(_C,_d),_B);return F};f.prototype.fill=function _e(_a,_B,_C,_d){if(c(_a)){if(c(_B)){_d=_B;_B=0;_C=this.length}else c(_C)&&(_d=_C,_C=this.length);if(_d!==void 0&&typeof _d!=='string')throw TypeError('encoding must be a string');if(c(_d)&&!f.isEncoding(_d))throw TypeError(`Unknown encoding: ${_d}`);if(_a.length==1){var F=_a.charCodeAt(0);(_d=='utf8'&&F<128)||_d=='latin1'&&(_a=F)}}else d(_a)&&(_a=_a&255);if(_B<0||this.length<_B||this.length<_C)throw new RangeError('Out of range index');if(_C<=_B)return this;_B=_B>>>0;_C=_C==void 0?this.length:_C>>>0;!_a&&(_a=0);var i;if(d(_a))for(i=_B;i<_C;++i)this[i]=_a;else{var H=f.isBuffer(_a)?_a:f.from(_a,_d),I=H.length;if(!I)throw TypeError(`The value "${_a}" is invalid for argument "value"`);for(i=0;i<_C-_B;++i)this[i+_B]=H[i%I]}return this};function aP(_a){_a=_a.split('=')[0];_a=_a.trim().replace(aO,'');if(_a.length<2)return'';while (_a.length%4)_a=`${_a}=`;return _a}function aQ(n){if(n<16)return '0'+n.toString(16);return n.toString(16)}function aR(_a,_B){_B=_B||Infinity;var _C,_d=_a.length,_e=null,F=[];for(var i=0;i<_d;++i){_C=_a.charCodeAt(i);if(_C>0xD7FF&&_C<0xE000){if(!_e){if(_C>0xDBFF){(_B-=3)>-1&&F.push(0xEF,0xBF,0xBD);continue} else if(_d==i+1){(_B-=3)>-1&&F.push(0xEF,0xBF,0xBD);continue}_e=_C;continue}if(_C<0xDC00){(_B-=3)>-1&&F.push(0xEF,0xBF,0xBD);_e=_C;continue}_C=(_e-0xD800<<10|_C-0xDC00)+0x10000}else _e&&(_B-=3)>-1&&F.push(0xEF,0xBF,0xBD);_e=null;if(_C<0x80){if((_B-=1)<0)break;F.push(_C)} else if(_C<0x800){if((_B-=2)<0)break;F.push(_C>>0x6|0xC0,_C&0x3F|0x80)} else if(_C<0x10000){if((_B-=3)<0)break;F.push(_C>>0xC|0xE0,_C>>0x6&0x3F|0x80,_C&0x3F|0x80)} else if(_C<0x110000){if((_B-=4)<0)break;F.push(_C>>0x12|0xF0,_C>>0xC&0x3F|0x80,_C>>0x6&0x3F|0x80,_C&0x3F|0x80)}else throw Error('Invalid code point')}return F}function aS(_a){var _B=[];for(var i=0;i<_a.length;++i)_B.push(_a.charCodeAt(i)&0xFF);return _B}function aT(_a,_B){var c,_d,_e;var F=[];for(var i=0;i<_a.length;++i){if((_B-=2)<0)break;c=_a.charCodeAt(i);_d=c>>8;_e=c%256;F.push(_e);F.push(_d)}return F}function aU(_a){return C.toByteArray(aP(_a))}function aV(_a,_B,_C,_d){for(var i=0;i<_d;++i){if((_B.length<=i+_C)||(i>=_a.length))break;_B[i+_C]=_a[i]}return i}function aW(_a,_B){return _a instanceof _B||(_a!=null&&_a.constructor!=null&&_a.constructor.name!=null&&_a.constructor.name==_B.name)}function aX(){return!1}}.call(this)}.call(this,A("buffer").Buffer)},{"base64-js":1,"buffer":2,"ieee754":3}],3:[function(A,_,B){B.read=(C,_b,_c,D,E)=>{var e,m;var h=(E*8)-D-1,I=(1<<h)-1,j=I>>1,k=-7,i=_c?(E-1):0,d=_c?-1:1,s=C[_b+i];i+=d;e=s&((1<<-k)-1);s>>=-k;k+=h;m=e&((1<<-k)-1);e>>=-k;k+=D;if(!e)e=1-j;else{if(e==I)return m?NaN:(s?-1:1*Infinity);m=m+Math.pow(2,D);e=e-j}return s?-1:1*m*Math.pow(2,e-D)};B.write=(C,_b,_c,D,E,f)=>{var e,m,c;var j=(f*8)-E-1,k=(1<<j)-1,l=k>>1,M=E==23?Math.pow(2,-24)-Math.pow(2,-77):0,i=D?0:(f-1),d=D?1:-1,s=_b<0||(!_b&&1/_b<0)?1:0;_b=Math.abs(_b);if(isNaN(_b)||_b==Infinity){m=isNaN(_b)?1:0;e=k}else{e=Math.floor(Math.log(_b)/Math.LN2);_b*(c=Math.pow(2,-e))<1&&(e--,c*=2);e+l>=1?_b+=M/c:_b+=M*Math.pow(2,1-l);_b*c>=2&&(e++,c/=2);if(k<=e+l){m=0;e=k}else e+l>=1?(m=((_b*c)-1)*Math.pow(2,E),e=e+l):(m=_b*Math.pow(2,l-1)*Math.pow(2,E),e=0)}e=(e<<E)|m;j+=E;C[_c+i-d]|=s*128}},{}],4:[function(A,_){_.exports=obj=>obj!=null&&(B(obj)||D(obj)||!!obj._isBuffer);function B(C){return C.constructor&&b(C.constructor.isBuffer)&&C.constructor.isBuffer(C)}function D(C){return b(C.readFloatLE)&&b(C.slice)&&B(C.slice(0,0))}},{}],5:[function(A,_){function(B){function(){_.exports=function _b(C){var _c='api.js: ',D=this,E=A('../apg-lib/node-exports'),f=A('../apg-conv-api/converter'),g=A('./scanner'),h=new A('./parser')(),{attributes:i,showAttributes:j,showAttributeErrors:k,showRuleDependencies:l}=A('./attributes'),m=A('./show-rules'),n=function _d(_a,_B,_C){const _e=0,F=1,G=2,H=`<span class="${E.style.CLASS_CTRLCHAR}">`,I='</span>',J=`<span class="${E.style.CLASS_NOMATCH}">`,K='</span>',L,M='';while (TRUE) {if(!a(_a)||!_a.length)break;if(typeof _B!=='number')throw Error('abnfToHtml: beg must be type number');if(_B>=_a.length)break;typeof _C!=='number'||_a.length<=_B+_C?L=_a.length:L=_B+_C;let _A=_e;for(let i=_B;i<L;i+=1){const aA=_a[i];if(aA>=32&&aA<=126){if(_A==F){M+=I;_A=_e}else _A==G&&(M+=K,_A=_e);switch(aA) {case 32:M+='&nbsp;';break;case 60:M+='&lt;';break;case 62:M+='&gt;';break;case 38:M+='&amp;';break;case 34:M+='&quot;';break;case 39:M+='&#039;';break;case 92:M+='&#092;';break;default:M+=String.fromCharCode(aA);break}} else if(aA==9||aA==10||aA==13){if(_A==_e){M+=H;_A=F}else _A==G&&(M+=K+H,_A=F);aA==9&&(M+='TAB');aA==10&&(M+='LF');aA==13&&(M+='CR')}else{if(_A==_e){M+=J;_A=G}else _A==F&&(M+=I+J,_A=G);M+=`\\x${E.utils.charToHex(aA)}`}}_A==G&&(M+=K);_A==F&&(M+=I);break}return M},o=function _d(_a,_B,_C){let _e='';for(let i=_B;i<_B+_C;i+=1){const _A=_a[i];if(_A>=32&&_A<=126)_e+=String.fromCharCode(_A);else switch(_A) {case 9:_e+='\\t';break;case 10:_e+='\\n';break;case 13:_e+='\\r';break;default:_e+='\\unknown';break}}return _e},p=function _B(_a){let _C='Annotated Input Grammar';for(const _A of _a){_C+='\n';_C+=`line no: ${_A.lineNo}`;_C+=` : char index: ${_A.beginChar}`;_C+=` : length: ${_A.length}`;_C+=` : abnf: ${o(D.chars,_A.beginChar,_A.length)}`}_C+='\n';return _C},q=function _B(_a){let _C='',_d='Annotated Input Grammar';_C+=`<table class="${E.style.CLASS_GRAMMAR}">\n`;_C+=`<caption>${_d}</caption>\n`;_C+='<tr>';_C+='<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>';_C+='</tr>\n';for(const _A of _a){_C+='<tr>';_C+=`<td>${_A.lineNo}`;_C+=`</td><td>${_A.beginChar}`;_C+=`</td><td>${_A.length}`;_C+=`</td><td>${n(D.chars,_A.beginChar,_A.length)}`;_C+='</td>';_C+='</tr>\n'}_C+='</table>\n';return _C},r=function _e(_a,_B,_C,_d){const[F]=E,G='',H=`<span class="${F.CLASS_NOMATCH}">&raquo;</span>`;G+=`<p><table class="${F.CLASS_GRAMMAR}">\n`;_d&&c(_d)&&(G+=`<caption>${_d}</caption>\n`);G+='<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n';for(const _A of _a){let aA,aB,aC,_D,_E,_f='',_g='';!_B.length?(_E=H,aB=0):(aA=_B[_A.line],aC=aA.beginChar,_A.char>aC&&(_f=n(_C,aC,_A.char-aC)),aC=_A.char,_D=aA.beginChar+aA.length,aC<_D&&(_g=n(_C,aC,_D-aC)),_E=_f+H+_g,aB=_A.char-aA.beginChar,G+='<tr>',G+=`<td>${_A.line}</td><td>${aA.beginChar}</td><td>${aB}</td><td>${_E}</td>`,G+='</tr>\n',G+='<tr>',G+=`<td colspan="3"></td><td>&uarr;:&nbsp;${E.utils.stringToAsciiHtml(_A.msg)}</td>`,G+='</tr>\n')}G+='</table></p>\n';return G},s=function _d(_a,_B,_C){let _e,F,G,H;_e='';for(const _A of _a){F=_B[_A.line];_e+=`${F.lineNo}: `;_e+=`${F.beginChar}: `;_e+=`${_A.char-F.beginChar}: `;G=F.beginChar;H=_A.char-F.beginChar;_e+=o(_C,G,H);_e+=' >> ';G=_A.char;H=F.beginChar+F.length-_A.char;_e+=o(_C,G,H);_e+='\n';_e+=`${F.lineNo}: `;_e+=`${F.beginChar}: `;_e+=`${_A.char-F.beginChar}: `;_e+='error: ';_e+=_A.msg;_e+='\n'}return _e},t=!1,u=!1,v=!1,w=!1,x=0,y;this.errors=[];if(B.isBuffer(C))this.chars=f.decode('BINARY',C); else if(a(C))this.chars=C.slice(); else if(c(C))this.chars=f.decode('STRING',C);else throw Error(`${_c}input source is not a string, byte Buffer or character array`);this.sabnf=f.encode('STRING',this.chars);this.scan=function _C(_a,_B){this.lines=g(this.chars,this.errors,_a,_B);t=!0};this.parse=function _C(_a,_B){if(!t)throw Error(`${_c}grammar not scanned`);h.syntax(this.chars,this.lines,this.errors,_a,_B);u=!0};this.translate=function _a(){if(!u)throw Error(`${_c}grammar not scanned and parsed`);var _B=h.semantic(this.chars,this.lines,this.errors);!this.errors.length&&(this.rules=_B.rules,this.udts=_B.udts,y=_B.lineMap,v=!0)};this.attributes=function _a(){if(!v)throw Error(`${_c}grammar not scanned, parsed and translated`);x=i(this.rules,this.udts,y,this.errors);w=!0;return x};this.generate=function _B(_a){this.lines=g(this.chars,this.errors,_a);if(this.errors.length)return;h.syntax(this.chars,this.lines,this.errors,_a);if(this.errors.length)return;var _C=h.semantic(this.chars,this.lines,this.errors);if(this.errors.length)return;this.rules=_C.rules;this.udts=_C.udts;y=_C.lineMap;x=i(this.rules,this.udts,y,this.errors);w=!0};this.displayRules=function _B(_a='index'){if(!v)throw Error(`${_c}grammar not scanned, parsed and translated`);return m(this.rules,this.udts,_a)};this.displayRuleDependencies=function _B(_a='index'){if(!w)throw Error(`${_c}no attributes - must be preceeded by call to attributes()`);return l(_a)};this.displayAttributes=function _B(_a='index'){if(!w)throw Error(`${_c}no attributes - must be preceeded by call to attributes()`);x&&k(_a);return j(_a)};this.displayAttributeErrors=function _a(){if(!w)throw Error(`${_c}no attributes - must be preceeded by call to attributes()`);return k()};this.toSource=function _B(_a){if(!w)throw Error(`${_c}can't generate parser source - must be preceeded by call to attributes()`);if(x)throw Error(`${_c}can't generate parser source - attributes have ${x} errors`);return h.generateSource(this.chars,this.lines,this.rules,this.udts,_a)};this.toObject=function _a(){if(!w)throw Error(`${_c}can't generate parser source - must be preceeded by call to attributes()`);if(x)throw Error(`${_c}can't generate parser source - attributes have ${x} errors`);return h.generateObject(this.sabnf,this.rules,this.udts)};this.errorsToAscii=function _a(){return s(this.errors,this.lines,this.chars)};this.errorsToHtml=function _B(_a){return r(this.errors,this.lines,this.chars,_a)};this.linesToAscii=function _a(){return p(this.lines)};this.linesToHtml=function _a(){return q(this.lines)}}}.call(this)}.call(this,{"isBuffer":A("../../node_modules/is-buffer/index.js")})},{"../../node_modules/is-buffer/index.js":4,"../apg-conv-api/converter":18,"../apg-lib/node-exports":25,"./attributes":6,"./parser":7,"./scanner":13,"./show-rules":15}],6:[function(A,_){_.exports=(function B(){var C=A('../apg-lib/identifiers'),{ruleAttributes:_c,showAttributes:D,showAttributeErrors:E}=A('./rule-attributes'),{ruleDependencies:f,showRuleDependencies:g}=A('./rule-dependencies'),i=function _d(_a=[],_b=[],_C=[]){const _e=new State(_a, _b);f(_e);_c(_e);_e.attrsErrorCount&&_C.push({line:0,char:0,msg:`${_e.attrsErrorCount} attribute errors`});return _e.attrsErrorCount};class State {constructor(_a,_b){this.rules=_a;this.udts=_b;this.ruleCount=_a.length;this.udtCount=_b.length;this.startRule=0;this.dependenciesComplete=!1;this.attributesComplete=!1;this.isMutuallyRecursive=!1;this.ruleIndexes=this.indexArray(this.ruleCount);this.ruleAlphaIndexes=this.indexArray(this.ruleCount);this.ruleTypeIndexes=this.indexArray(this.ruleCount);this.udtIndexes=this.indexArray(this.udtCount);this.udtAlphaIndexes=this.indexArray(this.udtCount);this.attrsErrorCount=0;this.attrs=[];this.attrsErrors=[];this.attrsWorking=[];this.ruleDeps=[];for(let i=0;i<this.ruleCount;i+=1){this.attrs.push(this.attrGen(this.rules[i]));this.attrsWorking.push(this.attrGen(this.rules[i]));this.ruleDeps.push(this.rdGen(_a[i],this.ruleCount,this.udtCount))}this.compRulesAlpha=this.compRulesAlpha.bind(this);this.compUdtsAlpha=this.compUdtsAlpha.bind(this);this.compRulesType=this.compRulesType.bind(this);this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(_a){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:_a}}attrInit(_a){_a.left=!1;_a.nested=!1;_a.right=!1;_a.empty=!1;_a.finite=!1;_a.cyclic=!1;_a.leaf=!1;_a.isOpen=!1;_a.isComplete=!1}attrCopy(_a,_b){_a.left=_b.left;_a.nested=_b.nested;_a.right=_b.right;_a.empty=_b.empty;_a.finite=_b.finite;_a.cyclic=_b.cyclic;_a.leaf=_b.leaf;_a.isOpen=_b.isOpen;_a.isComplete=_b.isComplete;_a.rule=_b.rule}rdGen(_a,_b,_C){var _d={rule:_a,recursiveType:C.ATTR_N,groupNumber:-1,refersTo:this.falseArray(_b),refersToUdt:this.falseArray(_C),referencedBy:this.falseArray(_b)};return _d}typeToString(_a){switch(_a) {case C.ATTR_N:return' N';case C.ATTR_R:return' R';case C.ATTR_MR:return'MR';default:return'UNKNOWN'}}falseArray(_a){var _b=[];if(_a>0)for(let i=0;i<_a;i+=1)_b.push(!1);return _b}falsifyArray(a){for(let i=0;i<a.length;i+=1)a[i]=!1}indexArray(_a){var _b=[];if(_a>0)for(let i=0;i<_a;i+=1)_b.push(i);return _b}compRulesAlpha(_a,_b){if(this.rules[_a].lower<this.rules[_b].lower)return -1;if(this.rules[_a].lower>this.rules[_b].lower)return 1;return 0}compUdtsAlpha(_a,_b){if(this.udts[_a].lower<this.udts[_b].lower)return -1;if(this.udts[_a].lower>this.udts[_b].lower)return 1;return 0}compRulesType(_a,_b){if(this.ruleDeps[_a].recursiveType<this.ruleDeps[_b].recursiveType)return -1;if(this.ruleDeps[_a].recursiveType>this.ruleDeps[_b].recursiveType)return 1;return 0}compRulesGroup(_a,_b){if(this.ruleDeps[_a].recursiveType==C.ATTR_MR&&this.ruleDeps[_b].recursiveType==C.ATTR_MR){if(this.ruleDeps[_a].groupNumber<this.ruleDeps[_b].groupNumber)return -1;if(this.ruleDeps[_a].groupNumber>this.ruleDeps[_b].groupNumber)return 1}return 0}}return{attributes:i,showAttributes:D,showAttributeErrors:E,showRuleDependencies:g}})()},{"../apg-lib/identifiers":24,"./rule-attributes":8,"./rule-dependencies":9}],7:[function(A,_){_.exports=function B(){var C='parser: ',_c=A('../apg-lib/node-exports'),D=_c.ids,E=new A('./syntax-callbacks')(),f=new A('./semantic-callbacks')(),g=new A('./sabnf-grammar')(),h=new _c.parser(),i=function _d(_a,_b,_C){if(_b<0||_b>=_C)return -1;for(let i=0;i<_a.length;i+=1)if(_b>=_a[i].beginChar&&_b<_a[i].beginChar+_a[i].length)return i;return -1},j=function _C(_a,_b){let _d=-1;if(_b<_a.length)for(let i=_b;i<_a.length;i+=1)if(_a[i]!==null){_d=_a[i];break}return _d},k=function _b(_a){for(const _A of _a){const aA=[],_B=[],_C=0;for(const aB of _A.opcodes)if(aB.type==D.ALT&&aB.children.length==1)_B.push(null);else aB.type==D.CAT&&aB.children.length==1?_B.push(null):aB.type==D.REP&&aB.min==1&&aB.max==1?_B.push(null):_B.push(_C);_B.push(_C);for(const aB of aA)if(aB.type==D.ALT||aB.type==D.CAT)for(let i=0;i<aB.children.length;i+=1)aB.children[i]=j(_B,aB.children[i]);_A.opcodes=aA}};h.ast=new _c.ast();h.callbacks=E.callbacks;h.ast.callbacks=f.callbacks;this.syntax=function F(_a,_b,_C,_d,_e){if(_e){if(_e.traceObject!=='traceObject')throw TypeError(`${C}trace argument is not a trace object`);h.trace=_e}var G={},H=h.parse(g,'file',_a,G);G.errors=_C;G.strict=!!_d;G.lines=_b;G.findLine=i;G.charsLength=_a.length;G.ruleCount=0;!H.success&&_C.push({line:0,char:0,msg:'syntax analysis of input grammar failed'})};this.semantic=function _d(_a,_b,_C){var _e={};_e.errors=_C;_e.lines=_b;_e.findLine=i;_e.charsLength=_a.length;h.ast.translate(_e);if(_C.length)return null;k(_e.rules);return{rules:_e.rules,udts:_e.udts,lineMap:_e.rulesLineMap}};this.generateSource=function F(_a,_b,_C,_d,_e){let G='',i,I,J,K=0,l=Infinity,m=0,n=[],o=[],p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,aA=0,aB=0,aC=0,aD=0,aE='module.exports',aF;for(const _A of _C){n.push(_A.lower);K+=_A.opcodes.length;for(const aG of _A.opcodes)switch(aG.type) {case D.ALT:p+=1;break;case D.CAT:q+=1;break;case D.RNM:r+=1;break;case D.UDT:s+=1;break;case D.REP:t+=1;break;case D.AND:u+=1;break;case D.NOT:v+=1;break;case D.BKA:aA+=1;break;case D.BKN:aB+=1;break;case D.BKR:z+=1;break;case D.ABG:aC+=1;break;case D.AEN:aD+=1;break;case D.TLS:w+=1;for(i=0;i<aG.string.length;i+=1){aG.string[i]<l&&(l=aG.string[i]);aG.string[i]>m&&(m=aG.string[i])}break;case D.TBS:x+=1;for(i=0;i<aG.string.length;i+=1){aG.string[i]<l&&(l=aG.string[i]);aG.string[i]>m&&(m=aG.string[i])}break;case D.TRG:y+=1;aG.min<l&&(l=aG.min);aG.max>m&&(m=aG.max);break;default:throw Error('generateSource: unrecognized opcode')}}n.sort();if(_d.length>0){for(const _A of _d)o.push(_A.lower);o.sort()}_e&&c(_e)&&(aE=`let ${_e}`);G+='// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>\n';G+='//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n';G+='//\n';G+='// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)\n';G+=`${aE} = function grammar(){\n`;G+='  // ```\n';G+='  // SUMMARY\n';G+=`  //      rules = ${_C.length}\n`;G+=`  //       udts = ${_d.length}\n`;G+=`  //    opcodes = ${K}\n`;G+='  //        ---   ABNF original opcodes\n';G+=`  //        ALT = ${p}\n`;G+=`  //        CAT = ${q}\n`;G+=`  //        REP = ${t}\n`;G+=`  //        RNM = ${r}\n`;G+=`  //        TLS = ${w}\n`;G+=`  //        TBS = ${x}\n`;G+=`  //        TRG = ${y}\n`;G+='  //        ---   SABNF superset opcodes\n';G+=`  //        UDT = ${s}\n`;G+=`  //        AND = ${u}\n`;G+=`  //        NOT = ${v}\n`;G+=`  //        BKA = ${aA}\n`;G+=`  //        BKN = ${aB}\n`;G+=`  //        BKR = ${z}\n`;G+=`  //        ABG = ${aC}\n`;G+=`  //        AEN = ${aD}\n`;G+='  // characters = [';!w+x+y?G+=' none defined ]':G+=`${l} - ${m}]`;s>0&&(G+=' + user defined');G+='\n';G+='  // ```\n';G+='  /* OBJECT IDENTIFIER (for internal parser use) */\n';G+="  this.grammarObject = 'grammarObject';\n";G+='\n';G+='  /* RULES */\n';G+='  this.rules = [];\n';for(const[_A,_B] of _C.entries()){let aG='  this.rules[';aG+=_A;aG+="] = {name: '";aG+=_B.name;aG+="', lower: '";aG+=_B.lower;aG+="', index: ";aG+=_B.index;aG+=', isBkr: ';aG+=_B.isBkr;aG+='};\n';G+=aG}G+='\n';G+='  /* UDTS */\n';G+='  this.udts = [];\n';if(_d.length>0)for(const[_A,_B] of _d.entries()){let aG='  this.udts[';aG+=_A;aG+="] = {name: '";aG+=_B.name;aG+="', lower: '";aG+=_B.lower;aG+="', index: ";aG+=_B.index;aG+=', empty: ';aG+=_B.empty;aG+=', isBkr: ';aG+=_B.isBkr;aG+='};\n';G+=aG}G+='\n';G+='  /* OPCODES */\n';for(const[_A,_B] of _C.entries()){_A>0&&(G+='\n');G+=`  /* ${_B.name} */\n`;G+=`  this.rules[${_A}].opcodes = [];\n`;for(const[aG,aH] of _B.opcodes.entries()){let aI;switch(aH.type) {case D.ALT:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, children: [${aH.children.toString()}]};// ALT\n`;break;case D.CAT:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, children: [${aH.children.toString()}]};// CAT\n`;break;case D.RNM:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, index: ${aH.index}};// RNM(${_C[aH.index].name})\n`;break;case D.BKR:aH.index>=_C.length?(I=_d[aH.index-_C.length].name,J=_d[aH.index-_C.length].lower):(I=_C[aH.index].name,J=_C[aH.index].lower);aI='%i';aH.bkrCase==D.BKR_MODE_CS&&(aI='%s');aH.bkrMode==D.BKR_MODE_UM?aI+='%u':aI+='%p';I=aI+I;G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, index: ${aH.index}, lower: '${J}'`+`, bkrCase: ${aH.bkrCase}, bkrMode: ${aH.bkrMode}};// BKR(\\${I})\n`;break;case D.UDT:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, empty: ${aH.empty}, index: ${aH.index}};// UDT(${_d[aH.index].name})\n`;break;case D.REP:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, min: ${aH.min}, max: ${aH.max}};// REP\n`;break;case D.AND:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// AND\n`;break;case D.NOT:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// NOT\n`;break;case D.ABG:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// ABG(%^)\n`;break;case D.AEN:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// AEN(%$)\n`;break;case D.BKA:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// BKA\n`;break;case D.BKN:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}};// BKN\n`;break;case D.TLS:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, string: [${aH.string.toString()}]};// TLS\n`;break;case D.TBS:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, string: [${aH.string.toString()}]};// TBS\n`;break;case D.TRG:G+=`  this.rules[${_A}].opcodes[${aG}] = {type: ${aH.type}, min: ${aH.min}, max: ${aH.max}};// TRG\n`;break;default:throw Error('parser.js: ~143: unrecognized opcode')}}}G+='\n';G+='  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n';G+='  this.toString = function toString(){\n';G+='    let str = "";\n';for(const _A of _b){var aG=_A.beginChar+_A.length;aF='';G+='    str += "';for(let aH=_A.beginChar;aH<aG;aH+=1){switch(_a[aH]) {case 9:aF=' ';break;case 10:aF='\\n';break;case 13:aF='\\r';break;case 34:aF='\\"';break;case 92:aF='\\\\';break;default:aF=String.fromCharCode(_a[aH]);break}G+=aF}G+='";\n'}G+='    return str;\n';G+='  }\n';G+='}\n';return G};this.generateObject=function _d(_a,_b,_C){var _e={},F=[],G=[],H=_a.slice(0);_e.grammarObject='grammarObject';for(const _A of _b)F.push(_A.lower);F.sort();if(_C.length>0){for(const _A of _C)G.push(_A.lower);G.sort()}_e.callbacks=[];for(const _A of F)_e.callbacks[_A]=!1;if(_C.length>0)for(const _A of G)_e.callbacks[_A]=!1;_e.rules=_b;_e.udts=_C;_e.toString=function _A(){return H};return _e}}},{"../apg-lib/node-exports":25,"./sabnf-grammar":10,"./semantic-callbacks":14,"./syntax-callbacks":16}],8:[function(A,_){_.exports=(function B(){var C=A('../apg-lib/identifiers'),_c='rule-attributes.js',D=null,r=_a=>{D=_a;let i=0,j=0,_d=D.attrGen(),_e=null;for(i=0;i<D.ruleCount;i+=1){for(j=0;j<D.ruleCount;j+=1)D.attrInit(D.attrsWorking[j]);D.startRule=i;q(D,i,_d);D.attrCopy(D.attrs[i],D.attrsWorking[i])}D.attributesComplete=!0;for(i=0;i<D.ruleCount;i+=1){_e=D.attrs[i];if(_e.left||!_e.finite||_e.cyclic){const _A=D.attrGen(_e.rule);D.attrCopy(_A,_e);D.attrsErrors.push(_A);D.attrsErrorCount+=1}}},s=val=>val?'t':'f',t=val=>val?'e':'f',u=val=>val?'t':'e',v=(_a,_b,_C,_d)=>{let _e=`${_a}:${_b}:`;_e+=`${t(_C.left)} `;_e+=`${s(_C.nested)} `;_e+=`${s(_C.right)} `;_e+=`${t(_C.cyclic)} `;_e+=`${u(_C.finite)} `;_e+=`${s(_C.empty)}:`;_e+=`${D.typeToString(_d.recursiveType)}:`;_e+=_d.recursiveType==C.ATTR_MR?_d.groupNumber:'-';_e+=`:${_C.rule.name}\n`;return _e},w=()=>{let _a='LEGEND - t=true, f=false, e=error\n';_a+='sequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n';return _a},x=()=>{let _a=null,_b=null,_C='';_C+='RULE ATTRIBUTES WITH ERRORS\n';_C+=w();if(D.attrsErrorCount)for(let i=0;i<D.attrsErrorCount;i+=1){_a=D.attrsErrors[i];_b=D.ruleDeps[_a.rule.index];_C+=v(i,_a.rule.index,_a,_b)}else _C+='<none>\n';return _C},y=_a=>{let i=0,_C=0,_d=null,_e=null,F='',{ruleIndexes:G}=D;_a==97?G=D.ruleAlphaIndexes:_a==116&&(G=D.ruleTypeIndexes);for(i=0;i<D.ruleCount;i+=1){_C=G[i];_d=D.attrs[_C];_e=D.ruleDeps[_C];F+=v(i,_C,_d,_e)}return F},z=(_a='index')=>{if(!D.attributesComplete)throw Error(`${_c}:showAttributes: attributes not available`);let _b='',_C='RULE ATTRIBUTES\n';if(_a.charCodeAt(0)==97){_b+='alphabetical by rule name\n';_b+=_C;_b+=w();_b+=y(97)}else _a.charCodeAt(0)==116?(_b+='ordered by rule type\n',_b+=_C,_b+=w(),_b+=y(116)):(_b+='ordered by rule index\n',_b+=_C,_b+=w(),_b+=y());return _b};function E(_a){if(_a.left||_a.nested||_a.right||_a.cyclic)return!1;return _a.empty}function f(_a){if(_a.left||_a.nested||_a.right||_a.cyclic)return!0;return!1}function g(_a,_b){let i=0,j=0,k=0;for(i=0;i<_b;i+=1)if(_a[i].nested)return!0;for(i=0;i<_b;i+=1)if(_a[i].right&&!_a[i].leaf)for(j=i+1;j<_b;j+=1)if(!E(_a[j]))return!0;for(i=_b-1;i>=0;i-=1)if(_a[i].left&&!_a[i].leaf)for(j=i-1;j>=0;j-=1)if(!E(_a[j]))return!0;for(i=0;i<_b;i+=1)if(!_a[i].empty&&!f(_a[i]))for(j=i+1;j<_b;j+=1)if(f(_a[j]))for(k=j+1;k<_b;k+=1)if(!_a[k].empty&&!f(_a[k]))return!0;return!1}function h(_a,_b){for(let i=0;i<_b;i+=1)if(!_a[i].cyclic)return!1;return!0}function i(_a,_b){for(let i=0;i<_b;i+=1){if(_a[i].left)return!0;if(!_a[i].empty)return!1}return!1}function j(_a,_b){for(let i=_b-1;i>=0;i-=1){if(_a[i].right)return!0;if(!_a[i].empty)return!1}return!1}function k(_a,_b){for(let i=0;i<_b;i+=1)if(!_a[i].empty)return!1;return!0}function l(_a,_b){for(let i=0;i<_b;i+=1)if(!_a[i].finite)return!1;return!0}function m(_a,_b,_C,_d){let i=0,F=_b[_C],G=F.children.length,H=[];for(i=0;i<G;i+=1)H.push(_a.attrGen());for(i=0;i<G;i+=1)p(_a,_b,F.children[i],H[i]);_d.left=i(H,G);_d.right=j(H,G);_d.nested=g(H,G);_d.empty=k(H,G);_d.finite=l(H,G);_d.cyclic=h(H,G)}function n(_a,_b,_C,_d){let i=0,F=_b[_C],G=F.children.length,H=[];for(i=0;i<G;i+=1)H.push(_a.attrGen());for(i=0;i<G;i+=1)p(_a,_b,F.children[i],H[i]);_d.left=!1;_d.right=!1;_d.nested=!1;_d.empty=!1;_d.finite=!1;_d.cyclic=!1;for(i=0;i<G;i+=1){H[i].left&&(_d.left=!0);H[i].nested&&(_d.nested=!0);H[i].right&&(_d.right=!0);H[i].empty&&(_d.empty=!0);H[i].finite&&(_d.finite=!0);H[i].cyclic&&(_d.cyclic=!0)}}function o(_a,_b,_C,_d){var _e=_b[_C];_e.index>=_a.ruleCount?(_d.empty=_a.udts[_e.index-_a.ruleCount].empty,_d.finite=!0):(q(_a,_e.index,_d),_d.left=!1,_d.nested=!1,_d.right=!1,_d.cyclic=!1)}function p(_a,_b,_C,_d){_a.attrInit(_d);var _e=_b[_C];switch(_e.type) {case C.ALT:n(_a,_b,_C,_d);break;case C.CAT:m(_a,_b,_C,_d);break;case C.REP:p(_a,_b,_C+1,_d);!_e.min&&(_d.empty=!0,_d.finite=!0);break;case C.RNM:q(_a,_b[_C].index,_d);break;case C.BKR:o(_a,_b,_C,_d);break;case C.AND:case C.NOT:case C.BKA:case C.BKN:p(_a,_b,_C+1,_d);_d.empty=!0;break;case C.TLS:_d.empty=!_b[_C].string.length;_d.finite=!0;_d.cyclic=!1;break;case C.TBS:case C.TRG:_d.empty=!1;_d.finite=!0;_d.cyclic=!1;break;case C.UDT:_d.empty=_e.empty;_d.finite=!0;_d.cyclic=!1;break;case C.ABG:case C.AEN:_d.empty=!0;_d.finite=!0;_d.cyclic=!1;break;default:throw Error(`unknown opcode type: ${_e}`)}}function q(_a,_b,_C){var _d=_a.attrsWorking[_b];if(_d.isComplete)_a.attrCopy(_C,_d); else if(!_d.isOpen){_d.isOpen=!0;p(_a,_d.rule.opcodes,0,_C);_d.left=_C.left;_d.right=_C.right;_d.nested=_C.nested;_d.empty=_C.empty;_d.finite=_C.finite;_d.cyclic=_C.cyclic;_d.leaf=!1;_d.isOpen=!1;_d.isComplete=!0}else _b==_a.startRule?_b==_a.startRule&&(_C.left=!0,_C.right=!0,_C.cyclic=!0,_C.leaf=!0):_C.finite=!0}return{ruleAttributes:r,showAttributes:z,showAttributeErrors:x}})()},{"../apg-lib/identifiers":24}],9:[function(A,_){_.exports=(()=>{var B=A('../apg-lib/identifiers'),C=null,_c=(_a,_b,_C,_d)=>{let i=0,j=0,g=_b[_C],h=g.rule.opcodes;_d[_C]=!0;for(i=0;i<h.length;i+=1){const _A=h[i];if(_A.type==B.RNM){g.refersTo[_A.index]=!0;!_d[_A.index]&&_c(_a,_b,_A.index,_d);for(j=0;j<_a;j+=1)_b[_A.index].refersTo[j]&&(g.refersTo[j]=!0)} else if(_A.type==B.UDT)g.refersToUdt[_A.index]=!0; else if(_A.type==B.BKR)if(_A.index<_a){g.refersTo[_A.index]=!0;!_d[_A.index]&&_c(_a,_b,_A.index,_d)}else g.refersToUdt[_a-_A.index]=!0}},D=_a=>{C=_a;let i=0,j=0,_d=0,_e=null,F=null,g=!1,h=C.falseArray(C.ruleCount);C.dependenciesComplete=!1;for(i=0;i<C.ruleCount;i+=1){C.falsifyArray(h);_c(C.ruleCount,C.ruleDeps,i,h)}for(i=0;i<C.ruleCount;i+=1)for(j=0;j<C.ruleCount;j+=1)i!==j&&C.ruleDeps[j].refersTo[i]&&(C.ruleDeps[i].referencedBy[j]=!0);for(i=0;i<C.ruleCount;i+=1){C.ruleDeps[i].recursiveType=B.ATTR_N;C.ruleDeps[i].refersTo[i]&&(C.ruleDeps[i].recursiveType=B.ATTR_R)}_d=-1;for(i=0;i<C.ruleCount;i+=1){_e=C.ruleDeps[i];if(_e.recursiveType==B.ATTR_R){g=!0;for(j=0;j<C.ruleCount;j+=1)if(i!==j){F=C.ruleDeps[j];if(F.recursiveType==B.ATTR_R)_e.refersTo[j]&&F.refersTo[i]&&(g&&(_d+=1,_e.recursiveType=B.ATTR_MR,_e.groupNumber=_d,g=!1),F.recursiveType=B.ATTR_MR,F.groupNumber=_d)}}}C.isMutuallyRecursive=_d>-1;C.ruleAlphaIndexes.sort(C.compRulesAlpha);C.ruleTypeIndexes.sort(C.compRulesAlpha);C.ruleTypeIndexes.sort(C.compRulesType);C.isMutuallyRecursive&&C.ruleTypeIndexes.sort(C.compRulesGroup);C.udtCount&&C.udtAlphaIndexes.sort(C.compUdtsAlpha);C.dependenciesComplete=!0},E=(_a=null)=>{let i=0,j=0,_d=0,_e=0,F=C.ruleCount-1,g=C.udtCount-1,h=100,I='',J='',k='=> ',l='<= ',m=!1,n=null,{ruleIndexes:o,udtIndexes:p}=C;if(_a==97){o=C.ruleAlphaIndexes;p=C.udtAlphaIndexes}else _a==116&&(o=C.ruleTypeIndexes,p=C.udtAlphaIndexes);for(i=0;i<C.ruleCount;i+=1){n=C.ruleDeps[o[i]];J=`${o[i]}:${C.typeToString(n.recursiveType)}:`;C.isMutuallyRecursive&&(J+=n.groupNumber>-1?n.groupNumber:'-',J+=':');J+=' ';I+=`${J+C.rules[o[i]].name}\n`;m=!0;_d=0;_e=I.length;I+=J;for(j=0;j<C.ruleCount;j+=1){n.refersTo[o[j]]&&(m?(I+=k,m=!1,I+=C.ruleDeps[o[j]].rule.name):(I+=`, ${C.ruleDeps[o[j]].rule.name}`),_d+=1);h<I.length-_e&&j!==F&&(I+=`\n${J}${k}`,_e=I.length)}if(C.udtCount)for(j=0;j<C.udtCount;j+=1){n.refersToUdt[p[j]]&&(m?(I+=k,m=!1,I+=C.udts[p[j]].name):(I+=`, ${C.udts[p[j]].name}`),_d+=1);h<I.length-_e&&j!==g&&(I+=`\n${J}${k}`,_e=I.length)}!_d&&(I+='=> <none>\n');!m&&(I+='\n');m=!0;_d=0;_e=I.length;I+=J;for(j=0;j<C.ruleCount;j+=1){n.referencedBy[o[j]]&&(m?(I+=l,m=!1,I+=C.ruleDeps[o[j]].rule.name):(I+=`, ${C.ruleDeps[o[j]].rule.name}`),_d+=1);h<I.length-_e&&j!==F&&(I+=`\n${J}${k}`,_e=I.length)}!_d&&(I+='<= <none>\n');!m&&(I+='\n');I+='\n'}return I},f=(_a='index')=>{let _b='RULE DEPENDENCIES(index:type:[group number:])\n';_b+='=> refers to rule names\n';_b+='<= referenced by rule names\n';if(!C.dependenciesComplete)return _b;if(_a.charCodeAt(0)==97){_b+='alphabetical by rule name\n';_b+=E(97)}else _a.charCodeAt(0)==116?(_b+='ordered by rule type\n',_b+=E(116)):(_b+='ordered by rule index\n',_b+=E(null));return _b};return{ruleDependencies:D,showRuleDependencies:f}})()},{"../apg-lib/identifiers":24}],10:[function(A,_){_.exports=function B(){this.grammarObject='grammarObject';this.rules=[];this.rules[0]={name:'File',lower:'file',index:0,isBkr:!1};this.rules[1]={name:'BlankLine',lower:'blankline',index:1,isBkr:!1};this.rules[2]={name:'Rule',lower:'rule',index:2,isBkr:!1};this.rules[3]={name:'RuleLookup',lower:'rulelookup',index:3,isBkr:!1};this.rules[4]={name:'RuleNameTest',lower:'rulenametest',index:4,isBkr:!1};this.rules[5]={name:'RuleName',lower:'rulename',index:5,isBkr:!1};this.rules[6]={name:'RuleNameError',lower:'rulenameerror',index:6,isBkr:!1};this.rules[7]={name:'DefinedAsTest',lower:'definedastest',index:7,isBkr:!1};this.rules[8]={name:'DefinedAsError',lower:'definedaserror',index:8,isBkr:!1};this.rules[9]={name:'DefinedAs',lower:'definedas',index:9,isBkr:!1};this.rules[10]={name:'Defined',lower:'defined',index:10,isBkr:!1};this.rules[11]={name:'IncAlt',lower:'incalt',index:11,isBkr:!1};this.rules[12]={name:'RuleError',lower:'ruleerror',index:12,isBkr:!1};this.rules[13]={name:'LineEndError',lower:'lineenderror',index:13,isBkr:!1};this.rules[14]={name:'Alternation',lower:'alternation',index:14,isBkr:!1};this.rules[15]={name:'Concatenation',lower:'concatenation',index:15,isBkr:!1};this.rules[16]={name:'Repetition',lower:'repetition',index:16,isBkr:!1};this.rules[17]={name:'Modifier',lower:'modifier',index:17,isBkr:!1};this.rules[18]={name:'Predicate',lower:'predicate',index:18,isBkr:!1};this.rules[19]={name:'BasicElement',lower:'basicelement',index:19,isBkr:!1};this.rules[20]={name:'BasicElementErr',lower:'basicelementerr',index:20,isBkr:!1};this.rules[21]={name:'Group',lower:'group',index:21,isBkr:!1};this.rules[22]={name:'GroupError',lower:'grouperror',index:22,isBkr:!1};this.rules[23]={name:'GroupOpen',lower:'groupopen',index:23,isBkr:!1};this.rules[24]={name:'GroupClose',lower:'groupclose',index:24,isBkr:!1};this.rules[25]={name:'Option',lower:'option',index:25,isBkr:!1};this.rules[26]={name:'OptionError',lower:'optionerror',index:26,isBkr:!1};this.rules[27]={name:'OptionOpen',lower:'optionopen',index:27,isBkr:!1};this.rules[28]={name:'OptionClose',lower:'optionclose',index:28,isBkr:!1};this.rules[29]={name:'RnmOp',lower:'rnmop',index:29,isBkr:!1};this.rules[30]={name:'BkrOp',lower:'bkrop',index:30,isBkr:!1};this.rules[31]={name:'bkrModifier',lower:'bkrmodifier',index:31,isBkr:!1};this.rules[32]={name:'cs',lower:'cs',index:32,isBkr:!1};this.rules[33]={name:'ci',lower:'ci',index:33,isBkr:!1};this.rules[34]={name:'um',lower:'um',index:34,isBkr:!1};this.rules[35]={name:'pm',lower:'pm',index:35,isBkr:!1};this.rules[36]={name:'bkr-name',lower:'bkr-name',index:36,isBkr:!1};this.rules[37]={name:'rname',lower:'rname',index:37,isBkr:!1};this.rules[38]={name:'uname',lower:'uname',index:38,isBkr:!1};this.rules[39]={name:'ename',lower:'ename',index:39,isBkr:!1};this.rules[40]={name:'UdtOp',lower:'udtop',index:40,isBkr:!1};this.rules[41]={name:'udt-non-empty',lower:'udt-non-empty',index:41,isBkr:!1};this.rules[42]={name:'udt-empty',lower:'udt-empty',index:42,isBkr:!1};this.rules[43]={name:'RepOp',lower:'repop',index:43,isBkr:!1};this.rules[44]={name:'AltOp',lower:'altop',index:44,isBkr:!1};this.rules[45]={name:'CatOp',lower:'catop',index:45,isBkr:!1};this.rules[46]={name:'StarOp',lower:'starop',index:46,isBkr:!1};this.rules[47]={name:'AndOp',lower:'andop',index:47,isBkr:!1};this.rules[48]={name:'NotOp',lower:'notop',index:48,isBkr:!1};this.rules[49]={name:'BkaOp',lower:'bkaop',index:49,isBkr:!1};this.rules[50]={name:'BknOp',lower:'bknop',index:50,isBkr:!1};this.rules[51]={name:'AbgOp',lower:'abgop',index:51,isBkr:!1};this.rules[52]={name:'AenOp',lower:'aenop',index:52,isBkr:!1};this.rules[53]={name:'TrgOp',lower:'trgop',index:53,isBkr:!1};this.rules[54]={name:'TbsOp',lower:'tbsop',index:54,isBkr:!1};this.rules[55]={name:'TlsOp',lower:'tlsop',index:55,isBkr:!1};this.rules[56]={name:'TlsCase',lower:'tlscase',index:56,isBkr:!1};this.rules[57]={name:'TlsOpen',lower:'tlsopen',index:57,isBkr:!1};this.rules[58]={name:'TlsClose',lower:'tlsclose',index:58,isBkr:!1};this.rules[59]={name:'TlsString',lower:'tlsstring',index:59,isBkr:!1};this.rules[60]={name:'StringTab',lower:'stringtab',index:60,isBkr:!1};this.rules[61]={name:'ClsOp',lower:'clsop',index:61,isBkr:!1};this.rules[62]={name:'ClsOpen',lower:'clsopen',index:62,isBkr:!1};this.rules[63]={name:'ClsClose',lower:'clsclose',index:63,isBkr:!1};this.rules[64]={name:'ClsString',lower:'clsstring',index:64,isBkr:!1};this.rules[65]={name:'ProsVal',lower:'prosval',index:65,isBkr:!1};this.rules[66]={name:'ProsValOpen',lower:'prosvalopen',index:66,isBkr:!1};this.rules[67]={name:'ProsValString',lower:'prosvalstring',index:67,isBkr:!1};this.rules[68]={name:'ProsValClose',lower:'prosvalclose',index:68,isBkr:!1};this.rules[69]={name:'rep-min',lower:'rep-min',index:69,isBkr:!1};this.rules[70]={name:'rep-min-max',lower:'rep-min-max',index:70,isBkr:!1};this.rules[71]={name:'rep-max',lower:'rep-max',index:71,isBkr:!1};this.rules[72]={name:'rep-num',lower:'rep-num',index:72,isBkr:!1};this.rules[73]={name:'dString',lower:'dstring',index:73,isBkr:!1};this.rules[74]={name:'xString',lower:'xstring',index:74,isBkr:!1};this.rules[75]={name:'bString',lower:'bstring',index:75,isBkr:!1};this.rules[76]={name:'Dec',lower:'dec',index:76,isBkr:!1};this.rules[77]={name:'Hex',lower:'hex',index:77,isBkr:!1};this.rules[78]={name:'Bin',lower:'bin',index:78,isBkr:!1};this.rules[79]={name:'dmin',lower:'dmin',index:79,isBkr:!1};this.rules[80]={name:'dmax',lower:'dmax',index:80,isBkr:!1};this.rules[81]={name:'bmin',lower:'bmin',index:81,isBkr:!1};this.rules[82]={name:'bmax',lower:'bmax',index:82,isBkr:!1};this.rules[83]={name:'xmin',lower:'xmin',index:83,isBkr:!1};this.rules[84]={name:'xmax',lower:'xmax',index:84,isBkr:!1};this.rules[85]={name:'dnum',lower:'dnum',index:85,isBkr:!1};this.rules[86]={name:'bnum',lower:'bnum',index:86,isBkr:!1};this.rules[87]={name:'xnum',lower:'xnum',index:87,isBkr:!1};this.rules[88]={name:'alphanum',lower:'alphanum',index:88,isBkr:!1};this.rules[89]={name:'owsp',lower:'owsp',index:89,isBkr:!1};this.rules[90]={name:'wsp',lower:'wsp',index:90,isBkr:!1};this.rules[91]={name:'space',lower:'space',index:91,isBkr:!1};this.rules[92]={name:'comment',lower:'comment',index:92,isBkr:!1};this.rules[93]={name:'LineEnd',lower:'lineend',index:93,isBkr:!1};this.rules[94]={name:'LineContinue',lower:'linecontinue',index:94,isBkr:!1};this.udts=[];this.rules[0].opcodes=[];this.rules[0].opcodes[0]={type:3,min:0,max:Infinity};this.rules[0].opcodes[1]={type:1,children:[2,3,4]};this.rules[0].opcodes[2]={type:4,index:1};this.rules[0].opcodes[3]={type:4,index:2};this.rules[0].opcodes[4]={type:4,index:12};this.rules[1].opcodes=[];this.rules[1].opcodes[0]={type:2,children:[1,5,7]};this.rules[1].opcodes[1]={type:3,min:0,max:Infinity};this.rules[1].opcodes[2]={type:1,children:[3,4]};this.rules[1].opcodes[3]={type:6,string:[32]};this.rules[1].opcodes[4]={type:6,string:[9]};this.rules[1].opcodes[5]={type:3,min:0,max:1};this.rules[1].opcodes[6]={type:4,index:92};this.rules[1].opcodes[7]={type:4,index:93};this.rules[2].opcodes=[];this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]};this.rules[2].opcodes[1]={type:4,index:3};this.rules[2].opcodes[2]={type:4,index:89};this.rules[2].opcodes[3]={type:4,index:14};this.rules[2].opcodes[4]={type:1,children:[5,8]};this.rules[2].opcodes[5]={type:2,children:[6,7]};this.rules[2].opcodes[6]={type:4,index:89};this.rules[2].opcodes[7]={type:4,index:93};this.rules[2].opcodes[8]={type:2,children:[9,10]};this.rules[2].opcodes[9]={type:4,index:13};this.rules[2].opcodes[10]={type:4,index:93};this.rules[3].opcodes=[];this.rules[3].opcodes[0]={type:2,children:[1,2,3]};this.rules[3].opcodes[1]={type:4,index:4};this.rules[3].opcodes[2]={type:4,index:89};this.rules[3].opcodes[3]={type:4,index:7};this.rules[4].opcodes=[];this.rules[4].opcodes[0]={type:1,children:[1,2]};this.rules[4].opcodes[1]={type:4,index:5};this.rules[4].opcodes[2]={type:4,index:6};this.rules[5].opcodes=[];this.rules[5].opcodes[0]={type:4,index:88};this.rules[6].opcodes=[];this.rules[6].opcodes[0]={type:3,min:1,max:Infinity};this.rules[6].opcodes[1]={type:1,children:[2,3]};this.rules[6].opcodes[2]={type:5,min:33,max:60};this.rules[6].opcodes[3]={type:5,min:62,max:126};this.rules[7].opcodes=[];this.rules[7].opcodes[0]={type:1,children:[1,2]};this.rules[7].opcodes[1]={type:4,index:9};this.rules[7].opcodes[2]={type:4,index:8};this.rules[8].opcodes=[];this.rules[8].opcodes[0]={type:3,min:1,max:2};this.rules[8].opcodes[1]={type:5,min:33,max:126};this.rules[9].opcodes=[];this.rules[9].opcodes[0]={type:1,children:[1,2]};this.rules[9].opcodes[1]={type:4,index:11};this.rules[9].opcodes[2]={type:4,index:10};this.rules[10].opcodes=[];this.rules[10].opcodes[0]={type:6,string:[61]};this.rules[11].opcodes=[];this.rules[11].opcodes[0]={type:6,string:[61,47]};this.rules[12].opcodes=[];this.rules[12].opcodes[0]={type:2,children:[1,6]};this.rules[12].opcodes[1]={type:3,min:1,max:Infinity};this.rules[12].opcodes[2]={type:1,children:[3,4,5]};this.rules[12].opcodes[3]={type:5,min:32,max:126};this.rules[12].opcodes[4]={type:6,string:[9]};this.rules[12].opcodes[5]={type:4,index:94};this.rules[12].opcodes[6]={type:4,index:93};this.rules[13].opcodes=[];this.rules[13].opcodes[0]={type:3,min:1,max:Infinity};this.rules[13].opcodes[1]={type:1,children:[2,3,4]};this.rules[13].opcodes[2]={type:5,min:32,max:126};this.rules[13].opcodes[3]={type:6,string:[9]};this.rules[13].opcodes[4]={type:4,index:94};this.rules[14].opcodes=[];this.rules[14].opcodes[0]={type:2,children:[1,2]};this.rules[14].opcodes[1]={type:4,index:15};this.rules[14].opcodes[2]={type:3,min:0,max:Infinity};this.rules[14].opcodes[3]={type:2,children:[4,5,6]};this.rules[14].opcodes[4]={type:4,index:89};this.rules[14].opcodes[5]={type:4,index:44};this.rules[14].opcodes[6]={type:4,index:15};this.rules[15].opcodes=[];this.rules[15].opcodes[0]={type:2,children:[1,2]};this.rules[15].opcodes[1]={type:4,index:16};this.rules[15].opcodes[2]={type:3,min:0,max:Infinity};this.rules[15].opcodes[3]={type:2,children:[4,5]};this.rules[15].opcodes[4]={type:4,index:45};this.rules[15].opcodes[5]={type:4,index:16};this.rules[16].opcodes=[];this.rules[16].opcodes[0]={type:2,children:[1,3]};this.rules[16].opcodes[1]={type:3,min:0,max:1};this.rules[16].opcodes[2]={type:4,index:17};this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]};this.rules[16].opcodes[4]={type:4,index:21};this.rules[16].opcodes[5]={type:4,index:25};this.rules[16].opcodes[6]={type:4,index:19};this.rules[16].opcodes[7]={type:4,index:20};this.rules[17].opcodes=[];this.rules[17].opcodes[0]={type:1,children:[1,5]};this.rules[17].opcodes[1]={type:2,children:[2,3]};this.rules[17].opcodes[2]={type:4,index:18};this.rules[17].opcodes[3]={type:3,min:0,max:1};this.rules[17].opcodes[4]={type:4,index:43};this.rules[17].opcodes[5]={type:4,index:43};this.rules[18].opcodes=[];this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]};this.rules[18].opcodes[1]={type:4,index:49};this.rules[18].opcodes[2]={type:4,index:50};this.rules[18].opcodes[3]={type:4,index:47};this.rules[18].opcodes[4]={type:4,index:48};this.rules[19].opcodes=[];this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]};this.rules[19].opcodes[1]={type:4,index:40};this.rules[19].opcodes[2]={type:4,index:29};this.rules[19].opcodes[3]={type:4,index:53};this.rules[19].opcodes[4]={type:4,index:54};this.rules[19].opcodes[5]={type:4,index:55};this.rules[19].opcodes[6]={type:4,index:61};this.rules[19].opcodes[7]={type:4,index:30};this.rules[19].opcodes[8]={type:4,index:51};this.rules[19].opcodes[9]={type:4,index:52};this.rules[19].opcodes[10]={type:4,index:65};this.rules[20].opcodes=[];this.rules[20].opcodes[0]={type:3,min:1,max:Infinity};this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]};this.rules[20].opcodes[2]={type:5,min:33,max:40};this.rules[20].opcodes[3]={type:5,min:42,max:46};this.rules[20].opcodes[4]={type:5,min:48,max:92};this.rules[20].opcodes[5]={type:5,min:94,max:126};this.rules[21].opcodes=[];this.rules[21].opcodes[0]={type:2,children:[1,2,3]};this.rules[21].opcodes[1]={type:4,index:23};this.rules[21].opcodes[2]={type:4,index:14};this.rules[21].opcodes[3]={type:1,children:[4,5]};this.rules[21].opcodes[4]={type:4,index:24};this.rules[21].opcodes[5]={type:4,index:22};this.rules[22].opcodes=[];this.rules[22].opcodes[0]={type:3,min:1,max:Infinity};this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]};this.rules[22].opcodes[2]={type:5,min:33,max:40};this.rules[22].opcodes[3]={type:5,min:42,max:46};this.rules[22].opcodes[4]={type:5,min:48,max:92};this.rules[22].opcodes[5]={type:5,min:94,max:126};this.rules[23].opcodes=[];this.rules[23].opcodes[0]={type:2,children:[1,2]};this.rules[23].opcodes[1]={type:6,string:[40]};this.rules[23].opcodes[2]={type:4,index:89};this.rules[24].opcodes=[];this.rules[24].opcodes[0]={type:2,children:[1,2]};this.rules[24].opcodes[1]={type:4,index:89};this.rules[24].opcodes[2]={type:6,string:[41]};this.rules[25].opcodes=[];this.rules[25].opcodes[0]={type:2,children:[1,2,3]};this.rules[25].opcodes[1]={type:4,index:27};this.rules[25].opcodes[2]={type:4,index:14};this.rules[25].opcodes[3]={type:1,children:[4,5]};this.rules[25].opcodes[4]={type:4,index:28};this.rules[25].opcodes[5]={type:4,index:26};this.rules[26].opcodes=[];this.rules[26].opcodes[0]={type:3,min:1,max:Infinity};this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]};this.rules[26].opcodes[2]={type:5,min:33,max:40};this.rules[26].opcodes[3]={type:5,min:42,max:46};this.rules[26].opcodes[4]={type:5,min:48,max:92};this.rules[26].opcodes[5]={type:5,min:94,max:126};this.rules[27].opcodes=[];this.rules[27].opcodes[0]={type:2,children:[1,2]};this.rules[27].opcodes[1]={type:6,string:[91]};this.rules[27].opcodes[2]={type:4,index:89};this.rules[28].opcodes=[];this.rules[28].opcodes[0]={type:2,children:[1,2]};this.rules[28].opcodes[1]={type:4,index:89};this.rules[28].opcodes[2]={type:6,string:[93]};this.rules[29].opcodes=[];this.rules[29].opcodes[0]={type:4,index:88};this.rules[30].opcodes=[];this.rules[30].opcodes[0]={type:2,children:[1,2,4]};this.rules[30].opcodes[1]={type:6,string:[92]};this.rules[30].opcodes[2]={type:3,min:0,max:1};this.rules[30].opcodes[3]={type:4,index:31};this.rules[30].opcodes[4]={type:4,index:36};this.rules[31].opcodes=[];this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]};this.rules[31].opcodes[1]={type:2,children:[2,3]};this.rules[31].opcodes[2]={type:4,index:32};this.rules[31].opcodes[3]={type:3,min:0,max:1};this.rules[31].opcodes[4]={type:1,children:[5,6]};this.rules[31].opcodes[5]={type:4,index:34};this.rules[31].opcodes[6]={type:4,index:35};this.rules[31].opcodes[7]={type:2,children:[8,9]};this.rules[31].opcodes[8]={type:4,index:33};this.rules[31].opcodes[9]={type:3,min:0,max:1};this.rules[31].opcodes[10]={type:1,children:[11,12]};this.rules[31].opcodes[11]={type:4,index:34};this.rules[31].opcodes[12]={type:4,index:35};this.rules[31].opcodes[13]={type:2,children:[14,15]};this.rules[31].opcodes[14]={type:4,index:34};this.rules[31].opcodes[15]={type:3,min:0,max:1};this.rules[31].opcodes[16]={type:1,children:[17,18]};this.rules[31].opcodes[17]={type:4,index:32};this.rules[31].opcodes[18]={type:4,index:33};this.rules[31].opcodes[19]={type:2,children:[20,21]};this.rules[31].opcodes[20]={type:4,index:35};this.rules[31].opcodes[21]={type:3,min:0,max:1};this.rules[31].opcodes[22]={type:1,children:[23,24]};this.rules[31].opcodes[23]={type:4,index:32};this.rules[31].opcodes[24]={type:4,index:33};this.rules[32].opcodes=[];this.rules[32].opcodes[0]={type:6,string:[37,115]};this.rules[33].opcodes=[];this.rules[33].opcodes[0]={type:6,string:[37,105]};this.rules[34].opcodes=[];this.rules[34].opcodes[0]={type:6,string:[37,117]};this.rules[35].opcodes=[];this.rules[35].opcodes[0]={type:6,string:[37,112]};this.rules[36].opcodes=[];this.rules[36].opcodes[0]={type:1,children:[1,2,3]};this.rules[36].opcodes[1]={type:4,index:38};this.rules[36].opcodes[2]={type:4,index:39};this.rules[36].opcodes[3]={type:4,index:37};this.rules[37].opcodes=[];this.rules[37].opcodes[0]={type:4,index:88};this.rules[38].opcodes=[];this.rules[38].opcodes[0]={type:2,children:[1,2]};this.rules[38].opcodes[1]={type:6,string:[117,95]};this.rules[38].opcodes[2]={type:4,index:88};this.rules[39].opcodes=[];this.rules[39].opcodes[0]={type:2,children:[1,2]};this.rules[39].opcodes[1]={type:6,string:[101,95]};this.rules[39].opcodes[2]={type:4,index:88};this.rules[40].opcodes=[];this.rules[40].opcodes[0]={type:1,children:[1,2]};this.rules[40].opcodes[1]={type:4,index:42};this.rules[40].opcodes[2]={type:4,index:41};this.rules[41].opcodes=[];this.rules[41].opcodes[0]={type:2,children:[1,2]};this.rules[41].opcodes[1]={type:6,string:[117,95]};this.rules[41].opcodes[2]={type:4,index:88};this.rules[42].opcodes=[];this.rules[42].opcodes[0]={type:2,children:[1,2]};this.rules[42].opcodes[1]={type:6,string:[101,95]};this.rules[42].opcodes[2]={type:4,index:88};this.rules[43].opcodes=[];this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]};this.rules[43].opcodes[1]={type:2,children:[2,3,4]};this.rules[43].opcodes[2]={type:4,index:69};this.rules[43].opcodes[3]={type:4,index:46};this.rules[43].opcodes[4]={type:4,index:71};this.rules[43].opcodes[5]={type:2,children:[6,7]};this.rules[43].opcodes[6]={type:4,index:69};this.rules[43].opcodes[7]={type:4,index:46};this.rules[43].opcodes[8]={type:2,children:[9,10]};this.rules[43].opcodes[9]={type:4,index:46};this.rules[43].opcodes[10]={type:4,index:71};this.rules[43].opcodes[11]={type:4,index:46};this.rules[43].opcodes[12]={type:4,index:70};this.rules[44].opcodes=[];this.rules[44].opcodes[0]={type:2,children:[1,2]};this.rules[44].opcodes[1]={type:6,string:[47]};this.rules[44].opcodes[2]={type:4,index:89};this.rules[45].opcodes=[];this.rules[45].opcodes[0]={type:4,index:90};this.rules[46].opcodes=[];this.rules[46].opcodes[0]={type:6,string:[42]};this.rules[47].opcodes=[];this.rules[47].opcodes[0]={type:6,string:[38]};this.rules[48].opcodes=[];this.rules[48].opcodes[0]={type:6,string:[33]};this.rules[49].opcodes=[];this.rules[49].opcodes[0]={type:6,string:[38,38]};this.rules[50].opcodes=[];this.rules[50].opcodes[0]={type:6,string:[33,33]};this.rules[51].opcodes=[];this.rules[51].opcodes[0]={type:6,string:[37,94]};this.rules[52].opcodes=[];this.rules[52].opcodes[0]={type:6,string:[37,36]};this.rules[53].opcodes=[];this.rules[53].opcodes[0]={type:2,children:[1,2]};this.rules[53].opcodes[1]={type:6,string:[37]};this.rules[53].opcodes[2]={type:1,children:[3,8,13]};this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]};this.rules[53].opcodes[4]={type:4,index:76};this.rules[53].opcodes[5]={type:4,index:79};this.rules[53].opcodes[6]={type:6,string:[45]};this.rules[53].opcodes[7]={type:4,index:80};this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]};this.rules[53].opcodes[9]={type:4,index:77};this.rules[53].opcodes[10]={type:4,index:83};this.rules[53].opcodes[11]={type:6,string:[45]};this.rules[53].opcodes[12]={type:4,index:84};this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]};this.rules[53].opcodes[14]={type:4,index:78};this.rules[53].opcodes[15]={type:4,index:81};this.rules[53].opcodes[16]={type:6,string:[45]};this.rules[53].opcodes[17]={type:4,index:82};this.rules[54].opcodes=[];this.rules[54].opcodes[0]={type:2,children:[1,2]};this.rules[54].opcodes[1]={type:6,string:[37]};this.rules[54].opcodes[2]={type:1,children:[3,10,17]};this.rules[54].opcodes[3]={type:2,children:[4,5,6]};this.rules[54].opcodes[4]={type:4,index:76};this.rules[54].opcodes[5]={type:4,index:73};this.rules[54].opcodes[6]={type:3,min:0,max:Infinity};this.rules[54].opcodes[7]={type:2,children:[8,9]};this.rules[54].opcodes[8]={type:6,string:[46]};this.rules[54].opcodes[9]={type:4,index:73};this.rules[54].opcodes[10]={type:2,children:[11,12,13]};this.rules[54].opcodes[11]={type:4,index:77};this.rules[54].opcodes[12]={type:4,index:74};this.rules[54].opcodes[13]={type:3,min:0,max:Infinity};this.rules[54].opcodes[14]={type:2,children:[15,16]};this.rules[54].opcodes[15]={type:6,string:[46]};this.rules[54].opcodes[16]={type:4,index:74};this.rules[54].opcodes[17]={type:2,children:[18,19,20]};this.rules[54].opcodes[18]={type:4,index:78};this.rules[54].opcodes[19]={type:4,index:75};this.rules[54].opcodes[20]={type:3,min:0,max:Infinity};this.rules[54].opcodes[21]={type:2,children:[22,23]};this.rules[54].opcodes[22]={type:6,string:[46]};this.rules[54].opcodes[23]={type:4,index:75};this.rules[55].opcodes=[];this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]};this.rules[55].opcodes[1]={type:4,index:56};this.rules[55].opcodes[2]={type:4,index:57};this.rules[55].opcodes[3]={type:4,index:59};this.rules[55].opcodes[4]={type:4,index:58};this.rules[56].opcodes=[];this.rules[56].opcodes[0]={type:3,min:0,max:1};this.rules[56].opcodes[1]={type:1,children:[2,3]};this.rules[56].opcodes[2]={type:7,string:[37,105]};this.rules[56].opcodes[3]={type:7,string:[37,115]};this.rules[57].opcodes=[];this.rules[57].opcodes[0]={type:6,string:[34]};this.rules[58].opcodes=[];this.rules[58].opcodes[0]={type:6,string:[34]};this.rules[59].opcodes=[];this.rules[59].opcodes[0]={type:3,min:0,max:Infinity};this.rules[59].opcodes[1]={type:1,children:[2,3,4]};this.rules[59].opcodes[2]={type:5,min:32,max:33};this.rules[59].opcodes[3]={type:5,min:35,max:126};this.rules[59].opcodes[4]={type:4,index:60};this.rules[60].opcodes=[];this.rules[60].opcodes[0]={type:6,string:[9]};this.rules[61].opcodes=[];this.rules[61].opcodes[0]={type:2,children:[1,2,3]};this.rules[61].opcodes[1]={type:4,index:62};this.rules[61].opcodes[2]={type:4,index:64};this.rules[61].opcodes[3]={type:4,index:63};this.rules[62].opcodes=[];this.rules[62].opcodes[0]={type:6,string:[39]};this.rules[63].opcodes=[];this.rules[63].opcodes[0]={type:6,string:[39]};this.rules[64].opcodes=[];this.rules[64].opcodes[0]={type:3,min:0,max:Infinity};this.rules[64].opcodes[1]={type:1,children:[2,3,4]};this.rules[64].opcodes[2]={type:5,min:32,max:38};this.rules[64].opcodes[3]={type:5,min:40,max:126};this.rules[64].opcodes[4]={type:4,index:60};this.rules[65].opcodes=[];this.rules[65].opcodes[0]={type:2,children:[1,2,3]};this.rules[65].opcodes[1]={type:4,index:66};this.rules[65].opcodes[2]={type:4,index:67};this.rules[65].opcodes[3]={type:4,index:68};this.rules[66].opcodes=[];this.rules[66].opcodes[0]={type:6,string:[60]};this.rules[67].opcodes=[];this.rules[67].opcodes[0]={type:3,min:0,max:Infinity};this.rules[67].opcodes[1]={type:1,children:[2,3,4]};this.rules[67].opcodes[2]={type:5,min:32,max:61};this.rules[67].opcodes[3]={type:5,min:63,max:126};this.rules[67].opcodes[4]={type:4,index:60};this.rules[68].opcodes=[];this.rules[68].opcodes[0]={type:6,string:[62]};this.rules[69].opcodes=[];this.rules[69].opcodes[0]={type:4,index:72};this.rules[70].opcodes=[];this.rules[70].opcodes[0]={type:4,index:72};this.rules[71].opcodes=[];this.rules[71].opcodes[0]={type:4,index:72};this.rules[72].opcodes=[];this.rules[72].opcodes[0]={type:3,min:1,max:Infinity};this.rules[72].opcodes[1]={type:5,min:48,max:57};this.rules[73].opcodes=[];this.rules[73].opcodes[0]={type:4,index:85};this.rules[74].opcodes=[];this.rules[74].opcodes[0]={type:4,index:87};this.rules[75].opcodes=[];this.rules[75].opcodes[0]={type:4,index:86};this.rules[76].opcodes=[];this.rules[76].opcodes[0]={type:1,children:[1,2]};this.rules[76].opcodes[1]={type:6,string:[68]};this.rules[76].opcodes[2]={type:6,string:[100]};this.rules[77].opcodes=[];this.rules[77].opcodes[0]={type:1,children:[1,2]};this.rules[77].opcodes[1]={type:6,string:[88]};this.rules[77].opcodes[2]={type:6,string:[120]};this.rules[78].opcodes=[];this.rules[78].opcodes[0]={type:1,children:[1,2]};this.rules[78].opcodes[1]={type:6,string:[66]};this.rules[78].opcodes[2]={type:6,string:[98]};this.rules[79].opcodes=[];this.rules[79].opcodes[0]={type:4,index:85};this.rules[80].opcodes=[];this.rules[80].opcodes[0]={type:4,index:85};this.rules[81].opcodes=[];this.rules[81].opcodes[0]={type:4,index:86};this.rules[82].opcodes=[];this.rules[82].opcodes[0]={type:4,index:86};this.rules[83].opcodes=[];this.rules[83].opcodes[0]={type:4,index:87};this.rules[84].opcodes=[];this.rules[84].opcodes[0]={type:4,index:87};this.rules[85].opcodes=[];this.rules[85].opcodes[0]={type:3,min:1,max:Infinity};this.rules[85].opcodes[1]={type:5,min:48,max:57};this.rules[86].opcodes=[];this.rules[86].opcodes[0]={type:3,min:1,max:Infinity};this.rules[86].opcodes[1]={type:5,min:48,max:49};this.rules[87].opcodes=[];this.rules[87].opcodes[0]={type:3,min:1,max:Infinity};this.rules[87].opcodes[1]={type:1,children:[2,3,4]};this.rules[87].opcodes[2]={type:5,min:48,max:57};this.rules[87].opcodes[3]={type:5,min:65,max:70};this.rules[87].opcodes[4]={type:5,min:97,max:102};this.rules[88].opcodes=[];this.rules[88].opcodes[0]={type:2,children:[1,4]};this.rules[88].opcodes[1]={type:1,children:[2,3]};this.rules[88].opcodes[2]={type:5,min:97,max:122};this.rules[88].opcodes[3]={type:5,min:65,max:90};this.rules[88].opcodes[4]={type:3,min:0,max:Infinity};this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]};this.rules[88].opcodes[6]={type:5,min:97,max:122};this.rules[88].opcodes[7]={type:5,min:65,max:90};this.rules[88].opcodes[8]={type:5,min:48,max:57};this.rules[88].opcodes[9]={type:6,string:[45]};this.rules[89].opcodes=[];this.rules[89].opcodes[0]={type:3,min:0,max:Infinity};this.rules[89].opcodes[1]={type:4,index:91};this.rules[90].opcodes=[];this.rules[90].opcodes[0]={type:3,min:1,max:Infinity};this.rules[90].opcodes[1]={type:4,index:91};this.rules[91].opcodes=[];this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]};this.rules[91].opcodes[1]={type:6,string:[32]};this.rules[91].opcodes[2]={type:6,string:[9]};this.rules[91].opcodes[3]={type:4,index:92};this.rules[91].opcodes[4]={type:4,index:94};this.rules[92].opcodes=[];this.rules[92].opcodes[0]={type:2,children:[1,2]};this.rules[92].opcodes[1]={type:6,string:[59]};this.rules[92].opcodes[2]={type:3,min:0,max:Infinity};this.rules[92].opcodes[3]={type:1,children:[4,5]};this.rules[92].opcodes[4]={type:5,min:32,max:126};this.rules[92].opcodes[5]={type:6,string:[9]};this.rules[93].opcodes=[];this.rules[93].opcodes[0]={type:1,children:[1,2,3]};this.rules[93].opcodes[1]={type:6,string:[13,10]};this.rules[93].opcodes[2]={type:6,string:[10]};this.rules[93].opcodes[3]={type:6,string:[13]};this.rules[94].opcodes=[];this.rules[94].opcodes[0]={type:2,children:[1,5]};this.rules[94].opcodes[1]={type:1,children:[2,3,4]};this.rules[94].opcodes[2]={type:6,string:[13,10]};this.rules[94].opcodes[3]={type:6,string:[10]};this.rules[94].opcodes[4]={type:6,string:[13]};this.rules[94].opcodes[5]={type:1,children:[6,7]};this.rules[94].opcodes[6]={type:6,string:[32]};this.rules[94].opcodes[7]={type:6,string:[9]};this.toString=function C(){let _b="";_b+=";\n";_b+="; ABNF for JavaScript APG 2.0 SABNF\n";_b+="; RFC 5234 with some restrictions and additions.\n";_b+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n";_b+=";  - accepts %s\"string\" as a case-sensitive string\n";_b+=";  - accepts %i\"string\" as a case-insensitive string\n";_b+=";  - accepts \"string\" as a case-insensitive string\n";_b+=";\n";_b+="; Some restrictions:\n";_b+=";   1. Rules must begin at first character of each line.\n";_b+=";      Indentations on first rule and rules thereafter are not allowed.\n";_b+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n";_b+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n";_b+=";      However, a working parser cannot be generated from them.\n";_b+=";\n";_b+="; Super set (SABNF) additions:\n";_b+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n";_b+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n";_b+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n";_b+=";      e.g. &%d13 or &rule or !(A / B)\n";_b+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n";_b+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n";_b+=";      u_name may be used as an element but no rule definition is given.\n";_b+=";      e.g. rule = A / u_myUdt\n";_b+=";           A = \"a\"\n";_b+=";      would be a valid grammar.\n";_b+=";   3. Case-sensitive, single-quoted strings are accepted.\n";_b+=";      e.g. 'abc' would be equivalent to %d97.98.99\n";_b+=";      (kept for backward compatibility, but superseded by %s\"abc\")  \n";_b+="; New 12/26/2015\n";_b+=";   4. Look-behind operators are accepted as element prefixes.\n";_b+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n";_b+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n";_b+=";      e.g. &&%d13 or &&rule or !!(A / B)\n";_b+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n";_b+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n";_b+=";      to match is a phrase previously matched by the rule 'rulename'.\n";_b+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n";_b+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n";_b+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n";_b+=";      Back reference modifiers can be used to specify case and mode.\n";_b+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n";_b+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n";_b+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n";_b+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n";_b+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n";_b+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n";_b+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n";_b+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n";_b+=";\n";_b+="File            = *(BlankLine / Rule / RuleError)\n";_b+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n";_b+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n";_b+="                / (LineEndError LineEnd))\n";_b+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n";_b+="RuleNameTest    = RuleName/RuleNameError\n";_b+="RuleName        = alphanum\n";_b+="RuleNameError   = 1*(%d33-60/%d62-126)\n";_b+="DefinedAsTest   = DefinedAs / DefinedAsError\n";_b+="DefinedAsError  = 1*2%d33-126\n";_b+="DefinedAs       = IncAlt / Defined\n";_b+="Defined         = %d61\n";_b+="IncAlt          = %d61.47\n";_b+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n";_b+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n";_b+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n";_b+="Concatenation   = Repetition *(CatOp Repetition)\n";_b+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n";_b+="Modifier        = (Predicate [RepOp])\n";_b+="                / RepOp\n";_b+="Predicate       = BkaOp\n";_b+="                / BknOp\n";_b+="                / AndOp\n";_b+="                / NotOp\n";_b+="BasicElement    = UdtOp\n";_b+="                / RnmOp\n";_b+="                / TrgOp\n";_b+="                / TbsOp\n";_b+="                / TlsOp\n";_b+="                / ClsOp\n";_b+="                / BkrOp\n";_b+="                / AbgOp\n";_b+="                / AenOp\n";_b+="                / ProsVal\n";_b+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n";_b+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n";_b+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n";_b+="GroupOpen       = %d40 owsp\n";_b+="GroupClose      = owsp %d41\n";_b+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n";_b+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n";_b+="OptionOpen      = %d91 owsp\n";_b+="OptionClose     = owsp %d93\n";_b+="RnmOp           = alphanum\n";_b+="BkrOp           = %d92 [bkrModifier] bkr-name\n";_b+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n";_b+="cs              = '%s'\n";_b+="ci              = '%i'\n";_b+="um              = '%u'\n";_b+="pm              = '%p'\n";_b+="bkr-name        = uname / ename / rname\n";_b+="rname           = alphanum\n";_b+="uname           = %d117.95 alphanum\n";_b+="ename           = %d101.95 alphanum\n";_b+="UdtOp           = udt-empty\n";_b+="                / udt-non-empty\n";_b+="udt-non-empty   = %d117.95 alphanum\n";_b+="udt-empty       = %d101.95 alphanum\n";_b+="RepOp           = (rep-min StarOp rep-max)\n";_b+="                / (rep-min StarOp)\n";_b+="                / (StarOp rep-max)\n";_b+="                / StarOp\n";_b+="                / rep-min-max\n";_b+="AltOp           = %d47 owsp\n";_b+="CatOp           = wsp\n";_b+="StarOp          = %d42\n";_b+="AndOp           = %d38\n";_b+="NotOp           = %d33\n";_b+="BkaOp           = %d38.38\n";_b+="BknOp           = %d33.33\n";_b+="AbgOp           = %d37.94\n";_b+="AenOp           = %d37.36\n";_b+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n";_b+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n";_b+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n";_b+="TlsCase         = [\"%i\" / \"%s\"]\n";_b+="TlsOpen         = %d34\n";_b+="TlsClose        = %d34\n";_b+="TlsString       = *(%d32-33/%d35-126/StringTab)\n";_b+="StringTab       = %d9\n";_b+="ClsOp           = ClsOpen ClsString ClsClose\n";_b+="ClsOpen         = %d39\n";_b+="ClsClose        = %d39\n";_b+="ClsString       = *(%d32-38/%d40-126/StringTab)\n";_b+="ProsVal         = ProsValOpen ProsValString ProsValClose\n";_b+="ProsValOpen     = %d60\n";_b+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n";_b+="ProsValClose    = %d62\n";_b+="rep-min         = rep-num\n";_b+="rep-min-max     = rep-num\n";_b+="rep-max         = rep-num\n";_b+="rep-num         = 1*(%d48-57)\n";_b+="dString         = dnum\n";_b+="xString         = xnum\n";_b+="bString         = bnum\n";_b+="Dec             = (%d68/%d100)\n";_b+="Hex             = (%d88/%d120)\n";_b+="Bin             = (%d66/%d98)\n";_b+="dmin            = dnum\n";_b+="dmax            = dnum\n";_b+="bmin            = bnum\n";_b+="bmax            = bnum\n";_b+="xmin            = xnum\n";_b+="xmax            = xnum\n";_b+="dnum            = 1*(%d48-57)\n";_b+="bnum            = 1*%d48-49\n";_b+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n";_b+=";\n";_b+="; Basics\n";_b+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n";_b+="owsp            = *space\n";_b+="wsp             = 1*space\n";_b+="space           = %d32\n";_b+="                / %d9\n";_b+="                / comment\n";_b+="                / LineContinue\n";_b+="comment         = %d59 *(%d32-126 / %d9)\n";_b+="LineEnd         = %d13.10\n";_b+="                / %d10\n";_b+="                / %d13\n";_b+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n";return _b}}},{}],11:[function(A,_,B){var D=A('../apg-lib/identifiers'),E=A('../apg-lib/utilities'),n=[];function f(C,_b,_c,_d,_e){C==D.SEM_PRE?(_e.endLength=0,_e.textLength=0,_e.invalidCount=0):(_e.lines.push({lineNo:_e.lines.length,beginChar:_c,length:_d,textLength:_e.textLength,endType:_e.endType,invalidChars:_e.invalidCount}));return D.SEM_OK}function g(C,_b,_c,_d,_e){C==D.SEM_PRE&&(_e.textLength=_d);return D.SEM_OK}function h(C,_b,_c,_d,_e){if(C==D.SEM_PRE){_e.endLength=0;_e.textLength=0;_e.invalidCount=0}else _e.strict?(_e.lines.push({lineNo:_e.lines.length,beginChar:_c,length:_d,textLength:_d,endType:'none',invalidChars:_e.invalidCount}),_e.errors.push({line:_e.lineNo,char:_c+_d,msg:'no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)'})):(_b.push(10),_e.lines.push({lineNo:_e.lines.length,beginChar:_c,length:_d+1,textLength:_d,endType:'LF',invalidChars:_e.invalidCount}));return D.SEM_OK}function i(C,_b,_c,_d,_e){C==D.SEM_PRE&&_e.errors.push({line:_e.lineNo,char:_c,msg:`invalid character found '\\x${E.charToHex(_b[_c])}'`});return D.SEM_OK}function j(C,_b,_c,_d,_e){C==D.SEM_POST&&(_e.lineNo+=1);return D.SEM_OK}function k(C,_b,_c,_d,_e){C==D.SEM_PRE&&(_e.endType='LF',_e.strict&&_e.errors.push({line:_e.lineNo,char:_c,msg:'line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)'}));return D.SEM_OK}function l(C,_b,_c,_d,_e){C==D.SEM_PRE&&(_e.endType='CR',_e.strict&&_e.errors.push({line:_e.lineNo,char:_c,msg:'line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)'}));return D.SEM_OK}function m(C,_b,_c,_d,_e){C==D.SEM_PRE&&(_e.endType='CRLF');return D.SEM_OK}n.line=f;n['line-text']=g;n['last-line']=h;n.invalid=i;n.end=j;n.lf=k;n.cr=l;n.crlf=m;B.callbacks=n},{"../apg-lib/identifiers":24,"../apg-lib/utilities":30}],12:[function(A,_){_.exports=function B(){this.grammarObject='grammarObject';this.rules=[];this.rules[0]={name:'file',lower:'file',index:0,isBkr:!1};this.rules[1]={name:'line',lower:'line',index:1,isBkr:!1};this.rules[2]={name:'line-text',lower:'line-text',index:2,isBkr:!1};this.rules[3]={name:'last-line',lower:'last-line',index:3,isBkr:!1};this.rules[4]={name:'valid',lower:'valid',index:4,isBkr:!1};this.rules[5]={name:'invalid',lower:'invalid',index:5,isBkr:!1};this.rules[6]={name:'end',lower:'end',index:6,isBkr:!1};this.rules[7]={name:'CRLF',lower:'crlf',index:7,isBkr:!1};this.rules[8]={name:'LF',lower:'lf',index:8,isBkr:!1};this.rules[9]={name:'CR',lower:'cr',index:9,isBkr:!1};this.udts=[];this.rules[0].opcodes=[];this.rules[0].opcodes[0]={type:2,children:[1,3]};this.rules[0].opcodes[1]={type:3,min:0,max:Infinity};this.rules[0].opcodes[2]={type:4,index:1};this.rules[0].opcodes[3]={type:3,min:0,max:1};this.rules[0].opcodes[4]={type:4,index:3};this.rules[1].opcodes=[];this.rules[1].opcodes[0]={type:2,children:[1,2]};this.rules[1].opcodes[1]={type:4,index:2};this.rules[1].opcodes[2]={type:4,index:6};this.rules[2].opcodes=[];this.rules[2].opcodes[0]={type:3,min:0,max:Infinity};this.rules[2].opcodes[1]={type:1,children:[2,3]};this.rules[2].opcodes[2]={type:4,index:4};this.rules[2].opcodes[3]={type:4,index:5};this.rules[3].opcodes=[];this.rules[3].opcodes[0]={type:3,min:1,max:Infinity};this.rules[3].opcodes[1]={type:1,children:[2,3]};this.rules[3].opcodes[2]={type:4,index:4};this.rules[3].opcodes[3]={type:4,index:5};this.rules[4].opcodes=[];this.rules[4].opcodes[0]={type:1,children:[1,2]};this.rules[4].opcodes[1]={type:5,min:32,max:126};this.rules[4].opcodes[2]={type:6,string:[9]};this.rules[5].opcodes=[];this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]};this.rules[5].opcodes[1]={type:5,min:0,max:8};this.rules[5].opcodes[2]={type:5,min:11,max:12};this.rules[5].opcodes[3]={type:5,min:14,max:31};this.rules[5].opcodes[4]={type:5,min:127,max:4294967295};this.rules[6].opcodes=[];this.rules[6].opcodes[0]={type:1,children:[1,2,3]};this.rules[6].opcodes[1]={type:4,index:7};this.rules[6].opcodes[2]={type:4,index:8};this.rules[6].opcodes[3]={type:4,index:9};this.rules[7].opcodes=[];this.rules[7].opcodes[0]={type:6,string:[13,10]};this.rules[8].opcodes=[];this.rules[8].opcodes[0]={type:6,string:[10]};this.rules[9].opcodes=[];this.rules[9].opcodes[0]={type:6,string:[13]};this.toString=function C(){let _b="";_b+="file = *line [last-line]\n";_b+="line = line-text end\n";_b+="line-text = *(valid/invalid)\n";_b+="last-line = 1*(valid/invalid)\n";_b+="valid = %d32-126 / %d9\n";_b+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\n";_b+="end = CRLF / LF / CR\n";_b+="CRLF = %d13.10\n";_b+="LF = %d10\n";_b+="CR = %d13\n";return _b}}},{}],13:[function(A,_){_.exports=function E(B,C,_c,D){var f='scanner.js: ',g=A('../apg-lib/node-exports'),{callbacks:i}=A('./scanner-callbacks'),j=[],k=new g.parser(),l=k.parse(new A('./scanner-grammar')(),'file',B);k.ast=new g.ast();k.ast.callbacks=i;if(D){if(D.traceObject!=='traceObject')throw TypeError(`${f}trace argument is not a trace object`);k.trace=D}if(!l.success){C.push({line:0,char:0,msg:'syntax analysis error analyzing input SABNF grammar'});return}k.ast.translate({lines:j,lineNo:0,errors:C,strict:!!_c});return j}},{"../apg-lib/node-exports":25,"./scanner-callbacks":11,"./scanner-grammar":12}],14:[function(A,_){_.exports=function B(){var C=A('../apg-lib/node-exports'),_c=C.ids,D=function _a(){this.names=[];this.add=function _b(_A){let _C=-1,_d=this.get(_A);_d==-1&&(_C={name:_A,lower:_A.toLowerCase(),index:this.names.length},this.names.push(_C));return _C};this.get=function _b(_A){let _C=-1,_d=_A.toLowerCase();for(let i=0;i<this.names.length;i+=1)if(this.names[i].lower==_d){_C=this.names[i];break}return _C}},E=function _d(_a,_b,_C){let _e=0;for(let i=_b;i<_b+_C;i+=1)_e=10*_e+_a[i]-48;return _e},f=function _d(_a,_b,_C){let _e=0;for(let i=_b;i<_b+_C;i+=1)_e=2*_e+_a[i]-48;return _e},g=function _d(_a,_b,_C){let _e=0;for(let i=_b;i<_b+_C;i+=1){let _A=_a[i];if(_A>=48&&_A<=57)_A-=48; else if(_A>=65&&_A<=70)_A-=55; else if(_A>=97&&_A<=102)_A-=87;else throw Error('hexnum out of range');_e=16*_e+_A}return _e};function h(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.ruleNames=new D();_e.udtNames=new D();_e.rules=[];_e.udts=[];_e.rulesLineMap=[];_e.opcodes=[];_e.altStack=[];_e.topStack=null;_e.topRule=null} else if(_a==_c.SEM_POST){let _A;for(const aZ of _e.rules){aZ.isBkr=!1;for(const bA of aZ.opcodes)bA.type==_c.RNM&&(_A=_e.ruleNames.get(bA.index.name),_A==-1?(_e.errors.push({line:_e.findLine(_e.lines,bA.index.phraseIndex,_e.charsLength),char:bA.index.phraseIndex,msg:`Rule name '${bA.index.name}' used but not defined.`}),bA.index=-1):(bA.index=_A.index))}for(const aZ of _e.udts)aZ.isBkr=!1;for(const aZ of _e.rules)for(const bA of aZ.opcodes)if(bA.type==_c.BKR){aZ.hasBkr=!0;_A=_e.ruleNames.get(bA.index.name);_A!==-1?(_e.rules[_A.index].isBkr=!0,bA.index=_A.index):(_A=_e.udtNames.get(bA.index.name),_A!==-1?(_e.udts[_A.index].isBkr=!0,bA.index=_e.rules.length+_A.index):(_e.errors.push({line:_e.findLine(_e.lines,bA.index.phraseIndex,_e.charsLength),char:bA.index.phraseIndex,msg:`Back reference name '${bA.index.name}' refers to undefined rule or unamed UDT.`}),bA.index=-1))}}return F}function i(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_PRE&&(_e.altStack.length=0,_e.topStack=null,_e.rulesLineMap.push({line:_e.findLine(_e.lines,_C,_e.charsLength),char:_C}));return F}function j(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.ruleName='';_e.definedas=''} else if(_a==_c.SEM_POST){let _A;_e.definedas=='='?(_A=_e.ruleNames.add(_e.ruleName),_A==-1?(_e.definedas=null,_e.errors.push({line:_e.findLine(_e.lines,_C,_e.charsLength),char:_C,msg:`Rule name '${_e.ruleName}' previously defined.`})):(_e.topRule={name:_A.name,lower:_A.lower,opcodes:[],index:_A.index},_e.rules.push(_e.topRule),_e.opcodes=_e.topRule.opcodes)):(_A=_e.ruleNames.get(_e.ruleName),_A==-1?(_e.definedas=null,_e.errors.push({line:_e.findLine(_e.lines,_C,_e.charsLength),char:_C,msg:`Rule name '${_e.ruleName}' for incremental alternate not previously defined.`})):(_e.topRule=_e.rules[_A.index],_e.opcodes=_e.topRule.opcodes))}return F}function k(_a,_b,_C,_d,_e){let F=_c.SEM_OK;if(_a==_c.SEM_PRE)while (TRUE) {if(_e.definedas==null){F=_c.SEM_SKIP;break}if(_e.topStack==null){if(_e.definedas=='='){_e.topStack={alt:{type:_c.ALT,children:[]},cat:null};_e.altStack.push(_e.topStack);_e.opcodes.push(_e.topStack.alt);break}_e.topStack={alt:_e.opcodes[0],cat:null};_e.altStack.push(_e.topStack);break}_e.topStack={alt:{type:_c.ALT,children:[]},cat:null};_e.altStack.push(_e.topStack);_e.opcodes.push(_e.topStack.alt);break}else _a==_c.SEM_POST&&(_e.altStack.pop(),_e.altStack.length>0?_e.topStack=_e.altStack[_e.altStack.length-1]:_e.topStack=null);return F}function l(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.topStack.alt.children.push(_e.opcodes.length);_e.topStack.cat={type:_c.CAT,children:[]};_e.opcodes.push(_e.topStack.cat)}else _a==_c.SEM_POST&&(_e.topStack.cat=null);return F}function m(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_PRE&&_e.topStack.cat.children.push(_e.opcodes.length);return F}function n(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.REP,min:0,max:1,char:_C});return F}function o(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_PRE&&(_e.ruleName=C.utils.charsToString(_b,_C,_d));return F}function p(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.definedas='=');return F}function q(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.definedas='=/');return F}function r(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.min=0;_e.max=Infinity;_e.topRep={type:_c.REP,min:0,max:Infinity};_e.opcodes.push(_e.topRep)}else _a==_c.SEM_POST&&(_e.min>_e.max&&_e.errors.push({line:_e.findLine(_e.lines,_C,_e.charsLength),char:_C,msg:`repetition min cannot be greater than max: min: ${_e.min}: max: ${_e.max}`}),_e.topRep.min=_e.min,_e.topRep.max=_e.max);return F}function s(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.min=E(_b,_C,_d));return F}function t(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.max=E(_b,_C,_d));return F}function u(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.max=E(_b,_C,_d),_e.min=_e.max);return F}function v(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.AND});return F}function w(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.NOT});return F}function x(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.RNM,index:{phraseIndex:_C,name:C.utils.charsToString(_b,_C,_d)}});return F}function y(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.ABG});return F}function z(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.AEN});return F}function aA(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.BKA});return F}function aB(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.opcodes.push({type:_c.BKN});return F}function aC(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.ci=!0;_e.cs=!1;_e.um=!0;_e.pm=!1}else _a==_c.SEM_POST&&_e.opcodes.push({type:_c.BKR,bkrCase:_e.cs?_c.BKR_MODE_CS:_c.BKR_MODE_CI,bkrMode:_e.pm?_c.BKR_MODE_PM:_c.BKR_MODE_UM,index:{phraseIndex:_e.bkrname.phraseIndex,name:C.utils.charsToString(_b,_e.bkrname.phraseIndex,_e.bkrname.phraseLength)}});return F}function aD(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.ci=!0);return F}function aE(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.cs=!0);return F}function aF(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.um=!0);return F}function aG(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.pm=!0);return F}function aH(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.bkrname={phraseIndex:_C,phraseLength:_d});return F}function aI(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_POST){var _A=C.utils.charsToString(_b,_C,_d),_B=_e.udtNames.add(_A);if(_B==-1){_B=_e.udtNames.get(_A);if(_B==-1)throw Error('semUdtEmpty: name look up error')}else _e.udts.push({name:_B.name,lower:_B.lower,index:_B.index,empty:!0});_e.opcodes.push({type:_c.UDT,empty:!0,index:_B.index})}return F}function aJ(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_POST){var _A=C.utils.charsToString(_b,_C,_d),_B=_e.udtNames.add(_A);if(_B==-1){_B=_e.udtNames.get(_A);if(_B==-1)throw Error('semUdtNonEmpty: name look up error')}else _e.udts.push({name:_B.name,lower:_B.lower,index:_B.index,empty:!1});_e.opcodes.push({type:_c.UDT,empty:!1,index:_B.index,syntax:null,semantic:null})}return F}function aK(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_PRE&&(_e.tlscase=!0);return F}function aL(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_d>0&&(_b[_C+1]==83||_b[_C+1]==115)&&(_e.tlscase=!1);return F}function aM(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_POST)if(_e.tlscase){var _A=_b.slice(_C,_C+_d);for(let i=0;i<_A.length;i+=1)_A[i]>=65&&_A[i]<=90&&(_A[i]+=32);_e.opcodes.push({type:_c.TLS,string:_A})}else _e.opcodes.push({type:_c.TBS,string:_b.slice(_C,_C+_d)});return F}function aN(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_d<=2?_e.opcodes.push({type:_c.TLS,string:[]}):_e.opcodes.push({type:_c.TBS,string:_b.slice(_C+1,_C+_d-1)});return F}function aO(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_PRE?_e.tbsstr=[]:_a==_c.SEM_POST&&_e.opcodes.push({type:_c.TBS,string:_e.tbsstr});return F}function aP(_a,_b,_C,_d,_e){var F=_c.SEM_OK;if(_a==_c.SEM_PRE){_e.min=0;_e.max=0}else _a==_c.SEM_POST&&(_e.min>_e.max&&_e.errors.push({line:_e.findLine(_e.lines,_C,_e.charsLength),char:_C,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${_e.min}: max: ${_e.max}`}),_e.opcodes.push({type:_c.TRG,min:_e.min,max:_e.max}));return F}function aQ(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.min=E(_b,_C,_d));return F}function aR(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.max=E(_b,_C,_d));return F}function aS(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.min=f(_b,_C,_d));return F}function aT(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.max=f(_b,_C,_d));return F}function aU(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.min=g(_b,_C,_d));return F}function aV(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&(_e.max=g(_b,_C,_d));return F}function aW(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.tbsstr.push(E(_b,_C,_d));return F}function aX(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.tbsstr.push(f(_b,_C,_d));return F}function aY(_a,_b,_C,_d,_e){var F=_c.SEM_OK;_a==_c.SEM_POST&&_e.tbsstr.push(g(_b,_C,_d));return F}this.callbacks=[];this.callbacks.abgop=y;this.callbacks.aenop=z;this.callbacks.alternation=k;this.callbacks.andop=v;this.callbacks.bmax=aT;this.callbacks.bmin=aS;this.callbacks.bkaop=aA;this.callbacks.bknop=aB;this.callbacks.bkrop=aC;this.callbacks['bkr-name']=aH;this.callbacks.bstring=aX;this.callbacks.clsop=aN;this.callbacks.ci=aD;this.callbacks.cs=aE;this.callbacks.um=aF;this.callbacks.pm=aG;this.callbacks.concatenation=l;this.callbacks.defined=p;this.callbacks.dmax=aR;this.callbacks.dmin=aQ;this.callbacks.dstring=aW;this.callbacks.file=h;this.callbacks.incalt=q;this.callbacks.notop=w;this.callbacks.optionopen=n;this.callbacks['rep-max']=t;this.callbacks['rep-min']=s;this.callbacks['rep-min-max']=u;this.callbacks.repetition=m;this.callbacks.repop=r;this.callbacks.rnmop=x;this.callbacks.rule=i;this.callbacks.rulelookup=j;this.callbacks.rulename=o;this.callbacks.tbsop=aO;this.callbacks.tlscase=aL;this.callbacks.tlsstring=aM;this.callbacks.tlsop=aK;this.callbacks.trgop=aP;this.callbacks['udt-empty']=aI;this.callbacks['udt-non-empty']=aJ;this.callbacks.xmax=aV;this.callbacks.xmin=aU;this.callbacks.xstring=aY}},{"../apg-lib/node-exports":25}],15:[function(A,_){_.exports=(function B(){var C='show-rules.js',_c=function _d(_a=[],_b=[],D='index'){const E='showRules',f=[],g=[],h=[],I=[],j=_a,k=_b,l=_a.length,m=_b.length,n='RULE/UDT NAMES',i;function p(_A,_B){if(j[_A].lower<j[_B].lower)return -1;if(j[_A].lower>j[_B].lower)return 1;return 0}function q(_A,_B){if(k[_A].lower<k[_B].lower)return -1;if(k[_A].lower>k[_B].lower)return 1;return 0}if(!(a(_a)&&_a.length))throw Error(`${C}:${E}: rules arg must be array with length > 0`);if(!a(_b))throw Error(`${C}:${E}: udts arg must be array`);for(i=0;i<l;i+=1)h.push(i);f=h.slice(0);f.sort(p);if(m){for(i=0;i<m;i+=1)I.push(i);g=I.slice(0);g.sort(q)}if(D.charCodeAt(0)==97){n+=' - alphabetical by rule/UDT name\n';for(i=0;i<l;i+=1)n+=`${i}: ${f[i]}: ${j[f[i]].name}\n`;if(m)for(i=0;i<m;i+=1)n+=`${i}: ${g[i]}: ${k[g[i]].name}\n`}else{n+=' - ordered by rule/UDT index\n';for(i=0;i<l;i+=1)n+=`${i}: ${j[i].name}\n`;if(m)for(i=0;i<m;i+=1)n+=`${i}: ${k[i].name}\n`}return n};return _c})()},{}],16:[function(A,_){_.exports=function B(){var C='syntax-callbacks.js: ',_c=A('../apg-lib/node-exports'),D=_c.ids,E,f=function _e(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:_d.altStack=[];_d.repCount=0;break;case D.EMPTY:_d.errors.push({line:0,char:0,msg:'grammar file is empty'});break;case D.MATCH:!_d.ruleCount&&_d.errors.push({line:0,char:0,msg:'no rules defined'});break;case D.NOMATCH:throw Error(`${C}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw Error(`${C}synFile: unrecognized case.`)}},g=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:_d.altStack.length=0;E={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1};_d.altStack.push(E);break;case D.EMPTY:throw Error(`${C}synRule: EMPTY: rule cannot be empty`);case D.NOMATCH:break;case D.MATCH:_d.ruleCount+=1;break;default:throw Error(`${C}synFile: unrecognized case.`)}},h=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Unrecognized SABNF line. Invalid rule, comment or blank line.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},i=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Rule names must be alphanum and begin with alphabetic character.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},j=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:"Expected '=' or '=/'. Not found."});break;default:throw Error(`${C}synFile: unrecognized case.`)}},k=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'AND operator(&) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},l=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'NOT operator(!) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},m=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Positive look-behind operator(&&) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},n=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Negative look-behind operator(!!) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},o=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Beginning of string anchor(%^) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},p=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'End of string anchor(%$) found - strict ABNF specified.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},q=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:if(_d.strict){const _A=_c.utils.charsToString(_b,_C,_a.phraseLength);_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:`Back reference operator(${_A}) found - strict ABNF specified.`})}break;default:throw Error(`${C}synFile: unrecognized case.`)}},r=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:if(_d.strict){const _A=_c.utils.charsToString(_b,_C,_a.phraseLength);_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:`UDT operator found(${_A}) - strict ABNF specified.`})}break;default:throw Error(`${C}synFile: unrecognized case.`)}},s=function(_a,_b,_C){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:E.tlsOpen=_C;break;default:throw Error(`${C}synFile: unrecognized case.`)}},t=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:_d.stringTabChar=!1;break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.stringTabChar!==!1&&_d.errors.push({line:_d.findLine(_d.lines,_d.stringTabChar),char:_d.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw Error(`${C}synFile: unrecognized case.`)}},u=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.stringTabChar=_C;break;default:throw Error(`${C}synFile: unrecognized case.`)}},v=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.errors.push({line:_d.findLine(_d.lines,E.tlsOpen),char:E.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'});E.basicError=!0;E.tlsOpen=null;break;case D.MATCH:E.tlsOpen=null;break;default:throw Error(`${C}synFile: unrecognized case.`)}},w=function(_a,_b,_C){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:E.clsOpen=_C;break;default:throw Error(`${C}synFile: unrecognized case.`)}},x=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:_d.stringTabChar=!1;break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.stringTabChar!==!1&&_d.errors.push({line:_d.findLine(_d.lines,_d.stringTabChar),char:_d.stringTabChar,msg:'Tab character (\\t, x09) not allowed in literal string.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},y=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.errors.push({line:_d.findLine(_d.lines,E.clsOpen),char:E.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."});E.clsOpen=null;E.basicError=!0;break;case D.MATCH:_d.strict&&_d.errors.push({line:_d.findLine(_d.lines,E.clsOpen),char:E.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."});E.clsOpen=null;break;default:throw Error(`${C}synFile: unrecognized case.`)}},z=function(_a,_b,_C){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:E.prosValOpen=_C;break;default:throw Error(`${C}synFile: unrecognized case.`)}},aA=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:_d.stringTabChar=!1;break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.stringTabChar!==!1&&_d.errors.push({line:_d.findLine(_d.lines,_d.stringTabChar),char:_d.stringTabChar,msg:'Tab character (\\t, x09) not allowed in prose value string.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},aB=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.errors.push({line:_d.findLine(_d.lines,E.prosValOpen),char:E.prosValOpen,msg:'Prose value operator(<...>) opened but not closed.'});E.basicError=!0;E.prosValOpen=null;break;case D.MATCH:_d.errors.push({line:_d.findLine(_d.lines,E.prosValOpen),char:E.prosValOpen,msg:'Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar.'});E.prosValOpen=null;break;default:throw Error(`${C}synFile: unrecognized case.`)}},aC=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:E={groupOpen:_C,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1};_d.altStack.push(E);break;default:throw Error(`${C}synFile: unrecognized case.`)}},aD=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.errors.push({line:_d.findLine(_d.lines,E.groupOpen),char:E.groupOpen,msg:'Group "(...)" opened but not closed.'});E=_d.altStack.pop();E.groupError=!0;break;case D.MATCH:E=_d.altStack.pop();break;default:throw Error(`${C}synFile: unrecognized case.`)}},aE=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:E={groupOpen:null,groupError:!1,optionOpen:_C,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1};_d.altStack.push(E);break;default:throw Error(`${C}synFile: unrecognized case.`)}},aF=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.errors.push({line:_d.findLine(_d.lines,E.optionOpen),char:E.optionOpen,msg:'Option "[...]" opened but not closed.'});E=_d.altStack.pop();E.optionError=!0;break;case D.MATCH:E=_d.altStack.pop();break;default:throw Error(`${C}synFile: unrecognized case.`)}},aG=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:!E.basicError&&_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Unrecognized SABNF element.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},aH=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:if(_a.phraseLength==1&&_d.strict){const _A=_b[_C]==13?'CR':'LF';_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:`Line end '${_A}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw Error(`${C}synFile: unrecognized case.`)}},aI=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:break;case D.MATCH:_d.errors.push({line:_d.findLine(_d.lines,_C,_d.charsLength),char:_C,msg:'Unrecognized grammar element or characters.'});break;default:throw Error(`${C}synFile: unrecognized case.`)}},aJ=function(_a,_b,_C,_d){switch(_a.state) {case D.ACTIVE:break;case D.EMPTY:break;case D.NOMATCH:_d.repCount+=1;break;case D.MATCH:_d.repCount+=1;break;default:throw Error(`${C}synFile: unrecognized case.`)}};this.callbacks=[];this.callbacks.andop=k;this.callbacks.basicelementerr=aG;this.callbacks.clsclose=y;this.callbacks.clsopen=w;this.callbacks.clsstring=x;this.callbacks.definedaserror=j;this.callbacks.file=f;this.callbacks.groupclose=aD;this.callbacks.groupopen=aC;this.callbacks.lineenderror=aI;this.callbacks.lineend=aH;this.callbacks.notop=l;this.callbacks.optionclose=aF;this.callbacks.optionopen=aE;this.callbacks.prosvalclose=aB;this.callbacks.prosvalopen=z;this.callbacks.prosvalstring=aA;this.callbacks.repetition=aJ;this.callbacks.rule=g;this.callbacks.ruleerror=h;this.callbacks.rulenameerror=i;this.callbacks.stringtab=u;this.callbacks.tlsclose=v;this.callbacks.tlsopen=s;this.callbacks.tlsstring=t;this.callbacks.udtop=r;this.callbacks.bkaop=m;this.callbacks.bknop=n;this.callbacks.bkrop=q;this.callbacks.abgop=o;this.callbacks.aenop=p}},{"../apg-lib/node-exports":25}],17:[function(A){(function _(){globalThis.apgApi=A('./api');globalThis.apgLib=A('../apg-lib/node-exports');globalThis.apgConvApi=A('../apg-conv-api/node-exports')})()},{"../apg-conv-api/node-exports":19,"../apg-lib/node-exports":25,"./api":5}],18:[function(A,_,B){function(C){function(){var _a=A('./transformers'),_b='UTF8',_c='UTF16',D='UTF16BE',E='UTF16LE',f='UTF32',g='UTF32BE',h='UTF32LE',i='UINT7',j='ASCII',k='BINARY',l='UINT8',m='UINT16',n='UINT16LE',o='UINT16BE',p='UINT32',q='UINT32LE',r='UINT32BE',s='ESCAPED',t='STRING',u=function _B(_A){_A.type=_b;const _C=_A.data;_A.bom=0;_C.length>=3&&_C[0]==0xef&&_C[1]==0xbb&&_C[2]==0xbf&&(_A.bom=3)},v=function _B(_A){const _C=_A.data;_A.bom=0;switch(_A.type) {case _c:_A.type=D;if(_C.length>=2)_C[0]==0xfe&&_C[1]==0xff?_A.bom=2:_C[0]==0xff&&_C[1]==0xfe&&(_A.type=E,_A.bom=2);break;case D:_A.type=D;if(_C.length>=2)if(_C[0]==0xfe&&_C[1]==0xff)_A.bom=2; else if(_C[0]==0xff&&_C[1]==0xfe)throw TypeError(`src type: "${D}" specified but BOM is for "${E}"`);break;case E:_A.type=E;if(_C.length>=0)if(_C[0]==0xfe&&_C[1]==0xff)throw TypeError(`src type: "${E}" specified but BOM is for "${D}"`);else _C[0]==0xff&&_C[1]==0xfe&&(_A.bom=2);break;default:throw TypeError(`UTF16 BOM: src type "${_A.type}" unrecognized`)}},w=function _B(_A){const _C=_A.data;_A.bom=0;switch(_A.type) {case f:_A.type=g;_C.length>=4&&(!_C[0]&&!_C[1]&&_C[2]==0xfe&&_C[3]==0xff&&(_A.bom=4),_C[0]==0xff&&_C[1]==0xfe&&!_C[2]&&!_C[3]&&(_A.type=h,_A.bom=4));break;case g:_A.type=g;if(_C.length>=4){!_C[0]&&!_C[1]&&_C[2]==0xfe&&_C[3]==0xff&&(_A.bom=4);if(_C[0]==0xff&&_C[1]==0xfe&&!_C[2]&&!_C[3])throw TypeError(`src type: ${g} specified but BOM is for ${h}"`)}break;case h:_A.type=h;if(_C.length>=4){if(!_C[0]&&!_C[1]&&_C[2]==0xfe&&_C[3]==0xff)throw TypeError(`src type: "${h}" specified but BOM is for "${g}"`);_C[0]==0xff&&_C[1]==0xfe&&!_C[2]&&!_C[3]&&(_A.bom=4)}break;default:throw TypeError(`UTF32 BOM: src type "${_A.type}" unrecognized`)}},x=function _C(_A,_B){function _d(aB){const aC={type:'',base64:!1},aD=/^(base64:)?([\da-z]+)$/i,_D=aD.exec(aB);_D&&(_D[2]&&(aC.type=_D[2].toUpperCase()),_D[1]&&(aC.base64=!0));return aC}if(typeof _A!=='string'||_A=='')throw TypeError(`type: "${_A}" not recognized`);const _e=_d(_A.toUpperCase());if(_e.base64){if(_e.type==t)throw TypeError(`type: "${_A} "BASE64:" prefix not allowed with type ${t}`);if(C.isBuffer(_B))_e.data=_a.base64.decode(_B); else if(c(_B))_e.data=_a.base64.decode(C.from(_B,'ascii'));else throw TypeError(`type: "${_A} unrecognized data type: typeof(data): ${typeof _B}`)}else _e.data=_B;switch(_e.type) {case _b:u(_e);break;case _c:case D:case E:v(_e);break;case f:case g:case h:w(_e);break;case m:_e.type=o;break;case p:_e.type=r;break;case j:_e.type=i;break;case k:_e.type=l;break;case i:case l:case n:case o:case q:case r:case t:case s:break;default:throw TypeError(`type: "${_A}" not recognized`)}if(_e.type==t)if(typeof _e.data!=='string')throw TypeError(`type: "${_A}" but data is not a string`); else if(!C.isBuffer(_e.data))throw TypeError(`type: "${_A}" but data is not a Buffer`);return _e},y=function _C(_A,_B){function _d(aB){let aC,aD,_D={crlf:!1,lf:!1,base64:!1,type:''};while (TRUE) {aD=aB;aC=aB.slice(0,5);if(aC=='CRLF:'){_D.crlf=!0;aD=aB.slice(5);break}aC=aB.slice(0,3);if(aC=='LF:'){_D.lf=!0;aD=aB.slice(3);break}break}aC=aD.split(':');aC.length==1?_D.type=aC[0]:aC.length==2&&aC[1]=='BASE64'&&(_D.base64=!0,_D.type=aC[0]);return _D}if(!a(_B))throw TypeError(`dst chars: not array: "${typeof _B}`);if(typeof _A!=='string')throw TypeError(`dst type: not string: "${typeof _A}`);const _e=_d(_A.toUpperCase());switch(_e.type) {case _b:case D:case E:case g:case h:case i:case l:case n:case o:case q:case r:case s:break;case t:if(_e.base64)throw TypeError(`":BASE64" suffix not allowed with type ${t}`);break;case j:_e.type=i;break;case k:_e.type=l;break;case _c:_e.type=D;break;case f:_e.type=g;break;case m:_e.type=o;break;case p:_e.type=r;break;default:throw TypeError(`dst type unrecognized: "${_A}" : must have form [crlf:|lf:]type[:base64]`)}return _e},z=function _C(_A,_B){switch(_A) {case _b:return _a.utf8.encode(_B);case D:return _a.utf16be.encode(_B);case E:return _a.utf16le.encode(_B);case g:return _a.utf32be.encode(_B);case h:return _a.utf32le.encode(_B);case i:return _a.uint7.encode(_B);case l:return _a.uint8.encode(_B);case o:return _a.uint16be.encode(_B);case n:return _a.uint16le.encode(_B);case r:return _a.uint32be.encode(_B);case q:return _a.uint32le.encode(_B);case t:return _a.string.encode(_B);case s:return _a.escaped.encode(_B);default:throw TypeError(`encode type "${_A}" not recognized`)}},aA=function _B(_A){switch(_A.type) {case _b:return _a.utf8.decode(_A.data,_A.bom);case E:return _a.utf16le.decode(_A.data,_A.bom);case D:return _a.utf16be.decode(_A.data,_A.bom);case g:return _a.utf32be.decode(_A.data,_A.bom);case h:return _a.utf32le.decode(_A.data,_A.bom);case i:return _a.uint7.decode(_A.data);case l:return _a.uint8.decode(_A.data);case o:return _a.uint16be.decode(_A.data);case n:return _a.uint16le.decode(_A.data);case r:return _a.uint32be.decode(_A.data);case q:return _a.uint32le.decode(_A.data);case t:return _a.string.decode(_A.data);case s:return _a.escaped.decode(_A.data);default:throw TypeError(`decode type "${_A.type}" not recognized`)}};B.decode=function _C(_A,_B){return aA(x(_A,_B))};B.encode=function _C(_A,_B){let c,_e,F=y(_A,_B);if(F.crlf){c=_a.lineEnds.crlf(_B);_e=z(F.type,c)}else F.lf?(c=_a.lineEnds.lf(_B),_e=z(F.type,c)):(_e=z(F.type,_B));F.base64&&(_e=_a.base64.encode(_e));return _e};B.convert=function _d(_A,_B,_C){return B.encode(_C,B.decode(_A,_B))}}.call(this)}.call(this,A("buffer").Buffer)},{"./transformers":20,"buffer":2}],19:[function(A,_){_.exports={converter:A('./converter'),transformers:A('./transformers')}},{"./converter":18,"./transformers":20}],20:[function(A,_,B){function(C){function(){var _a=0xfffffffc,_b=0xfffffffd,_c=0xfffffffe,D=0xffffffff,E=[0,1,3,7,15,31,63,127,255,511,1023],f=['00','01','02','03','04','05','06','07','08','09','0A','0B','0C','0D','0E','0F','10','11','12','13','14','15','16','17','18','19','1A','1B','1C','1D','1E','1F','20','21','22','23','24','25','26','27','28','29','2A','2B','2C','2D','2E','2F','30','31','32','33','34','35','36','37','38','39','3A','3B','3C','3D','3E','3F','40','41','42','43','44','45','46','47','48','49','4A','4B','4C','4D','4E','4F','50','51','52','53','54','55','56','57','58','59','5A','5B','5C','5D','5E','5F','60','61','62','63','64','65','66','67','68','69','6A','6B','6C','6D','6E','6F','70','71','72','73','74','75','76','77','78','79','7A','7B','7C','7D','7E','7F','80','81','82','83','84','85','86','87','88','89','8A','8B','8C','8D','8E','8F','90','91','92','93','94','95','96','97','98','99','9A','9B','9C','9D','9E','9F','A0','A1','A2','A3','A4','A5','A6','A7','A8','A9','AA','AB','AC','AD','AE','AF','B0','B1','B2','B3','B4','B5','B6','B7','B8','B9','BA','BB','BC','BD','BE','BF','C0','C1','C2','C3','C4','C5','C6','C7','C8','C9','CA','CB','CC','CD','CE','CF','D0','D1','D2','D3','D4','D5','D6','D7','D8','D9','DA','DB','DC','DD','DE','DF','E0','E1','E2','E3','E4','E5','E6','E7','E8','E9','EA','EB','EC','ED','EE','EF','F0','F1','F2','F3','F4','F5','F6','F7','F8','F9','FA','FB','FC','FD','FE','FF'],g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),h=[],i=13,j=10;for(const _A of g)h.push(_A.charCodeAt(0));B.utf8={encode(_A){var _B=[];for(const aA of _A)if(aA>=0&&aA<=0x7f)_B.push(aA); else if(aA<=0x7ff){_B.push(0xc0+((aA>>6)&E[5]));_B.push(0x80+(aA&E[6]))} else if(aA<0xd800||(aA>0xdfff&&aA<=0xffff)){_B.push(0xe0+((aA>>12)&E[4]));_B.push(0x80+((aA>>6)&E[6]));_B.push(0x80+(aA&E[6]))} else if(aA>=0x10000&&aA<=0x10ffff){var u=(aA>>16)&E[5];_B.push(0xf0+(u>>2));_B.push(0x80+((u&E[2])<<4)+((aA>>12)&E[4]));_B.push(0x80+((aA>>6)&E[6]));_B.push(0x80+(aA&E[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${aA}`);return C.from(_B)},decode(_A,_B){function _C(aA,aB){if((aB&0xc0)!==0x80)return _b;var x=((aA&E[5])<<6)+(aB&E[6]);if(x<0x80)return _a;return x}function _d(aA,aB,aC){if((aC&0xc0)!==0x80||(aB&0xc0)!==0x80)return _b;var x=((aA&E[4])<<12)+((aB&E[6])<<6)+(aC&E[6]);if(x<0x800)return _a;if(x>=0xd800&&x<=0xdfff)return _c;return x}function _e(aA,aB,aC,_D){if((_D&0xc0)!==0x80||(aC&0xc0)!==0x80||(aB&0xc0)!==0x80)return _b;var x=((((aA&E[3])<<2)+((aB>>4)&E[2]))<<16)+((aB&E[4])<<12)+((aC&E[6])<<6)+(_D&E[6]);if(x<0x10000)return _a;if(x>0x10ffff)return _c;return x}let c,G,H,I,J,k,l=_A.length,i=_B?3:0,n=[];while (i<l) {G=_A[i];c=D;while (TRUE) {if(G>=0&&G<=0x7f){c=G;k=1;break}H=i+1;if(H<l&&G>=0xc2&&G<=0xdf){c=_C(G,_A[H]);k=2;break}I=i+2;if(I<l&&G>=0xe0&&G<=0xef){c=_d(G,_A[H],_A[I]);k=3;break}J=i+3;if(J<l&&G>=0xf0&&G<=0xf4){c=_e(G,_A[H],_A[I],_A[J]);k=4;break}break}if(c>0x10ffff){var aA=`byte[${i}]`;if(c==D)throw new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${aA}`);if(c==_b)throw new RangeError(`utf8.decode: illegal trailing byte found at: ${aA}`);if(c==_c)throw new RangeError(`utf8.decode: code point out of range found at: ${aA}`);if(c==_a)throw new RangeError(`utf8.decode: non-shortest form found at: ${aA}`);throw new RangeError(`utf8.decode: unrecognized error found at: ${aA}`)}n.push(c);i+=k}return n}};B.utf16be={encode(_A){var _B=[],_C,h,l;for(let i=0;i<_A.length;i+=1){_C=_A[i];if((_C>=0&&_C<=0xd7ff)||(_C>=0xe000&&_C<=0xffff)){_B.push((_C>>8)&E[8]);_B.push(_C&E[8])} else if(_C>=0x10000&&_C<=0x10ffff){l=_C-0x10000;h=0xd800+(l>>10);l=0xdc00+(l&E[10]);_B.push((h>>8)&E[8]);_B.push(h&E[8]);_B.push((l>>8)&E[8]);_B.push(l&E[8])}else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${i}]: ${_C}`)}return C.from(_B)},decode(_A,_B){if(_A.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${_A.length}`);var _C=[],_d=_A.length,i=_B?2:0,j=0,c,H,I,J,k,l;while (i<_d) {while (TRUE) {I=i+1;if(I<_d){k=(_A[i]<<8)+_A[I];if(k<0xd800||k>0xdfff){c=k;H=2;break}J=i+3;if(J<_d){l=(_A[i+2]<<8)+_A[J];if(k<=0xdbff&&l>=0xdc00&&l<=0xdfff){c=0x10000+((k-0xd800)<<10)+(l-0xdc00);H=4;break}}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${i}]`)}_C[j++]=c;i+=H}return _C}};B.utf16le={encode(_A){var _B=[],_C,h,l;for(let i=0;i<_A.length;i+=1){_C=_A[i];if((_C>=0&&_C<=0xd7ff)||(_C>=0xe000&&_C<=0xffff)){_B.push(_C&E[8]);_B.push((_C>>8)&E[8])} else if(_C>=0x10000&&_C<=0x10ffff){l=_C-0x10000;h=0xd800+(l>>10);l=0xdc00+(l&E[10]);_B.push(h&E[8]);_B.push((h>>8)&E[8]);_B.push(l&E[8]);_B.push((l>>8)&E[8])}else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${i}]: ${_C}`)}return C.from(_B)},decode(_A,_B){if(_A.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${_A.length}`);var _C=[],_d=_A.length,i=_B?2:0,j=0,c,H,I,J,k,l;while (i<_d) {while (TRUE) {I=i+1;if(I<_d){k=(_A[I]<<8)+_A[i];if(k<0xd800||k>0xdfff){c=k;H=2;break}J=i+3;if(J<_d){l=(_A[J]<<8)+_A[i+2];if(k<=0xdbff&&l>=0xdc00&&l<=0xdfff){c=0x10000+((k-0xd800)<<10)+(l-0xdc00);H=4;break}}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${i}]`)}_C[j++]=c;i+=H}return _C}};B.utf32be={encode(_A){var _B=C.alloc(_A.length*4),i=0;for(const aA of _A){if((aA>=0xd800&&aA<=0xdfff)||aA>0x10ffff)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${i/4}]: ${aA}`);_B[i++]=(aA>>24)&E[8];_B[i++]=(aA>>16)&E[8];_B[i++]=(aA>>8)&E[8];_B[i++]=aA&E[8]}return _B},decode(_A,_B){if(_A.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${_A.length}`);var _C=[],i=_B?4:0;for(;i<_A.length;i+=4){var aA=(_A[i]<<24)+(_A[i+1]<<16)+(_A[i+2]<<8)+_A[i+3];if((aA>=0xd800&&aA<=0xdfff)||aA>0x10ffff)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${i/4}]: ${aA}`);_C.push(aA)}return _C}};B.utf32le={encode(_A){var _B=C.alloc(_A.length*4),i=0;for(const aA of _A){if((aA>=0xd800&&aA<=0xdfff)||aA>0x10ffff)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${i/4}]: ${aA}`);_B[i++]=aA&E[8];_B[i++]=(aA>>8)&E[8];_B[i++]=(aA>>16)&E[8];_B[i++]=(aA>>24)&E[8]}return _B},decode(_A,_B){if(_A.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${_A.length}`);var _C=[],i=_B?4:0;for(;i<_A.length;i+=4){var aA=(_A[i+3]<<24)+(_A[i+2]<<16)+(_A[i+1]<<8)+_A[i];if((aA>=0xd800&&aA<=0xdfff)||aA>0x10ffff)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${i/4}]: ${aA}`);_C.push(aA)}return _C}};B.uint7={encode(_A){var _B=C.alloc(_A.length);for(let i=0;i<_A.length;i+=1){if(_A[i]>0x7f)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${i}]: ${_A[i]}`);_B[i]=_A[i]}return _B},decode(_A){var _B=[];for(let i=0;i<_A.length;i+=1){if(_A[i]>0x7f)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${i}]: ${_A[i]}`);_B[i]=_A[i]}return _B}};B.uint8={encode(_A){var _B=C.alloc(_A.length);for(let i=0;i<_A.length;i+=1){if(_A[i]>0xff)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${i}]: ${_A[i]}`);_B[i]=_A[i]}return _B},decode(_A){var _B=[];for(let i=0;i<_A.length;i+=1)_B[i]=_A[i];return _B}};B.uint16be={encode(_A){var _B=C.alloc(_A.length*2),i=0;for(const aA of _A){if(aA>0xffff)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${i/2}]: ${aA}`);_B[i++]=(aA>>8)&E[8];_B[i++]=aA&E[8]}return _B},decode(_A){if(_A.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${_A.length}`);var _B=[];for(let i=0;i<_A.length;i+=2)_B.push((_A[i]<<8)+_A[i+1]);return _B}};B.uint16le={encode(_A){var _B=C.alloc(_A.length*2),i=0;for(const aA of _A){if(aA>0xffff)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${i/2}]: ${aA}`);_B[i++]=aA&E[8];_B[i++]=(aA>>8)&E[8]}return _B},decode(_A){if(_A.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${_A.length}`);var _B=[];for(let i=0;i<_A.length;i+=2)_B.push((_A[i+1]<<8)+_A[i]);return _B}};B.uint32be={encode(_A){var _B=C.alloc(_A.length*4),i=0;for(const aA of _A){_B[i++]=(aA>>24)&E[8];_B[i++]=(aA>>16)&E[8];_B[i++]=(aA>>8)&E[8];_B[i++]=aA&E[8]}return _B},decode(_A){if(_A.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${_A.length}`);var _B=[];for(let i=0;i<_A.length;i+=4)_B.push((_A[i]<<24)+(_A[i+1]<<16)+(_A[i+2]<<8)+_A[i+3]);return _B}};B.uint32le={encode(_A){var _B=C.alloc(_A.length*4),i=0;for(const aA of _A){_B[i++]=aA&E[8];_B[i++]=(aA>>8)&E[8];_B[i++]=(aA>>16)&E[8];_B[i++]=(aA>>24)&E[8]}return _B},decode(_A){if(_A.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${_A.length}`);var _B=[];for(let i=0;i<_A.length;i+=4)_B.push((_A[i+3]<<24)+(_A[i+2]<<16)+(_A[i+1]<<8)+_A[i]);return _B}};B.string={encode(_A){return B.utf16le.encode(_A).toString('utf16le')},decode(_A){return B.utf16le.decode(C.from(_A,'utf16le'),0)}};B.escaped={encode(_A){var _B=[];for(let i=0;i<_A.length;i+=1){var aA=_A[i];if(aA==96){_B.push(aA);_B.push(aA)} else if(aA==10)_B.push(aA); else if(aA>=32&&aA<=126)_B.push(aA);else{if(aA>=0&&aA<=31)aB+=`\`x${f[aA]}`; else if(aA>=127&&aA<=255)aB+=`\`x${f[aA]}`; else if(aA>=0x100&&aA<=0xffff)aB+=`\`u${f[(aA>>8)&E[8]]}${f[aA&E[8]]}`; else if(aA>=0x10000&&aA<=0xffffffff){aB+='`u{';var aD=(aA>>24)&E[8];aD>0&&(aB+=f[aD]);aB+=`${f[(aA>>16)&E[8]]+f[(aA>>8)&E[8]]+f[aA&E[8]]}}`}else throw Error('escape.encode(char): char > 0xffffffff not allowed');var aC=C.from('');for(const b of aC)_B.push(b)}}return C.from(_B)},decode(_A){function _B(aA){if((aA>=48&&aA<=57)||(aA>=65&&aA<=70)||(aA>=97&&aA<=102))return!0;return!1}function _C(i,aA,aB){var _D={char:null,nexti:i+2,error:!0};if(aA>i+1)if(_B(aB[i])&&_B(aB[i+1])){var aC=String.fromCodePoint(aB[i],aB[i+1]);_D.char=parseInt(aC,16);!Number.isNaN(_D.char)&&(_D.error=!1)}return _D}function _d(i,aA,aB){var _D={char:null,nexti:i+4,error:!0};if(aA>i+3)if(_B(aB[i])&&_B(aB[i+1])&&_B(aB[i+2])&&_B(aB[i+3])){var aC=String.fromCodePoint(aB[i],aB[i+1],aB[i+2],aB[i+3]);_D.char=parseInt(aC,16);!Number.isNaN(_D.char)&&(_D.error=!1)}return _D}function _e(i,aA,aB){var _D={char:null,nexti:i+4,error:!0};while (i<aA&&_B(aB[i])) {_E+=String.fromCodePoint(aB[i]);i+=1}_D.char=parseInt('',16);aB[i]==125&&!Number.isNaN(_D.char)&&(_D.error=!1);_D.nexti=i+1;return _D}var F=[],G=_A.length,H,I,J,i=0;while (i<G) {while (TRUE) {J=!0;if(_A[i]!==96){F.push(_A[i]);i+=1;J=!1;break}H=i+1;if(H>=G)break;if(_A[H]==96){F.push(96);i+=2;J=!1;break}if(_A[H]==120){I=_C(H+1,G,_A);if(I.error)break;F.push(I.char);i=I.nexti;J=!1;break}if(_A[H]==117){if(_A[H+1]==123){I=_e(H+2,G,_A);if(I.error)break;F.push(I.char);i=I.nexti;J=!1;break}I=_d(H+1,G,_A);if(I.error)break;F.push(I.char);i=I.nexti;J=!1;break}break}if(J)throw Error(`escaped.decode: ill-formed escape sequence at buf[${i}]`)}return F}};B.lineEnds={crlf(_A){var _B=[],i=0;while (i<_A.length)switch(_A[i]) {case i:_A.length>i+1&&_A[i+1]==j?i+=2:i+=1;_B.push(i);_B.push(j);break;case j:_B.push(i);_B.push(j);i+=1;break;default:_B.push(_A[i]);i+=1;break}_B.length>0&&_B[_B.length-1]!==j&&(_B.push(i),_B.push(j));return _B},lf(_A){var _B=[],i=0;while (i<_A.length)switch(_A[i]) {case i:_A.length>i+1&&_A[i+1]==j?i+=2:i+=1;_B.push(j);break;case j:_B.push(j);i+=1;break;default:_B.push(_A[i]);i+=1;break}_B.length>0&&_B[_B.length-1]!==j&&_B.push(j);return _B}};B.base64={encode(_A){if(!_A.length)return C.alloc(0);let i,j,n,_e=_A.length%3,F=(_A.length+_e)/3,G=C.alloc(F*4);_e=_e>0?3-_e:0;_e>0&&(F-=1);i=0;j=0;for(let u=0;u<F;u+=1){n=_A[i++]<<16;n+=_A[i++]<<8;n+=_A[i++];G[j++]=h[(n>>18)&E[6]];G[j++]=h[(n>>12)&E[6]];G[j++]=h[(n>>6)&E[6]];G[j++]=h[n&E[6]]}if(!_e)return G;if(_e==1){n=_A[i++]<<16;n+=_A[i]<<8;G[j++]=h[(n>>18)&E[6]];G[j++]=h[(n>>12)&E[6]];G[j++]=h[(n>>6)&E[6]];G[j]=h[64];return G}if(_e==2){n=_A[i]<<16;G[j++]=h[(n>>18)&E[6]];G[j++]=h[(n>>12)&E[6]];G[j++]=h[64];G[j]=h[64];return G}},decode(_A){function _B(aA){var aB=[],aC=0;for(let i=0;i<aA.length;i+=1){var aD=aA[i];while (TRUE) {if(aD==32||aD==9||aD==10||aD==13)break;if(aD>=65&&aD<=90){aB.push(aD-65);break}if(aD>=97&&aD<=122){aB.push(aD-71);break}if(aD>=48&&aD<=57){aB.push(aD+4);break}if(aD==43){aB.push(62);break}if(aD==47){aB.push(63);break}if(aD==61){aB.push(64);aC+=1;break}throw new RangeError(`base64.decode: invalid character buf[${i}]: ${aD}`)}}if(aB.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${aB.length}`);switch(aC) {case 0:break;case 1:if(aB[aB.length-1]!==64)throw new RangeError('base64.decode: one tail character found: not last character');break;case 2:if(aB[aB.length-1]!==64||aB[aB.length-2]!==64)throw new RangeError('base64.decode: two tail characters found: not last characters');break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${aC}`)}return{tail:aC,buf:C.from(aB)}}if(!_A.length)return C.alloc(0);var _C=_B(_A),{tail:_d}=_C,_e=_C.buf,i,j,n,I=_e.length/4,J=C.alloc(I*3-_d);_d>0&&(I-=1);j=0;i=0;for(let u=0;u<I;u+=1){n=_e[i++]<<18;n+=_e[i++]<<12;n+=_e[i++]<<6;n+=_e[i++];J[j++]=(n>>16)&E[8];J[j++]=(n>>8)&E[8];J[j++]=n&E[8]}_d==1&&(n=_e[i++]<<18,n+=_e[i++]<<12,n+=_e[i]<<6,J[j++]=(n>>16)&E[8],J[j]=(n>>8)&E[8]);_d==2&&(n=_e[i++]<<18,n+=_e[i++]<<12,J[j]=(n>>16)&E[8]);return J},toString(_A){if(_A.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${_A.length}`);let _B='',_C=0;function _d(aA,aB,aC,_D){switch(_C) {case 76:_B+=`\r\n${aA}${aB}${aC}${_D}`;_C=4;break;case 75:_B+=`${aA}\r\n${aB}${aC}${_D}`;_C=3;break;case 74:_B+=`${aA+aB}\r\n${aC}${_D}`;_C=2;break;case 73:_B+=`${aA+aB+aC}\r\n${_D}`;_C=1;break;default:_B+=aA+aB+aC+_D;_C+=4;break}}function _e(c){if(c>=65&&c<=90)return!0;if(c>=97&&c<=122)return!0;if(c>=48&&c<=57)return!0;if(c==43)return!0;if(c==47)return!0;if(c==61)return!0;return!1}for(let i=0;i<_A.length;i+=4){for(let j=i;j<i+4;j+=1)if(!_e(_A[j]))throw new RangeError(`base64.toString: buf[${j}]: ${_A[j]} : not valid base64 character code`);_d(String.fromCharCode(_A[i]),String.fromCharCode(_A[i+1]),String.fromCharCode(_A[i+2]),String.fromCharCode(_A[i+3]))}return _B}}}.call(this)}.call(this,A("buffer").Buffer)},{"buffer":2}],21:[function(A,_){_.exports=function B(){var C=A('./identifiers'),_c=A('./utilities'),D='ast.js: ',E=this,f=null,g=null,h=null,i=0,j=[],k=[],l=[],m=[];this.callbacks=[];this.astObject='astObject';this.init=function _d(_a,_b,_C){l.length=0;m.length=0;j.length=0;i=0;f=_a;g=_b;h=_C;let i,F=[];for(i=0;i<f.length;i+=1)F.push(f[i].lower);for(i=0;i<g.length;i+=1)F.push(g[i].lower);i=f.length+g.length;for(i=0;i<i;i+=1){j[i]=!1;k[i]=null}for(const _A in E.callbacks){var aA=_A.toLowerCase();i=F.indexOf(aA);if(i<0)throw Error(`${D}init: node '${_A}' not a rule or udt name`);b(E.callbacks[_A])&&(j[i]=!0,k[i]=E.callbacks[_A]);E.callbacks[_A]&&(j[i]=!0)}};this.ruleDefined=function _b(_a){return j[_a]!==!1};this.udtDefined=function _b(_a){return j[f.length+_a]!==!1};this.down=function _C(_a,_b){var _d=m.length;l.push(_d);m.push({name:_b,thisIndex:_d,thatIndex:null,state:C.SEM_PRE,callbackIndex:_a,phraseIndex:null,phraseLength:null,stack:l.length});return _d};this.up=function _e(_a,_b,_C,_d){var F=m.length,G=l.pop();m.push({name:_b,thisIndex:F,thatIndex:G,state:C.SEM_POST,callbackIndex:_a,phraseIndex:_C,phraseLength:_d,stack:l.length});m[G].thatIndex=F;m[G].phraseIndex=_C;m[G].phraseLength=_d;return F};this.translate=function _b(_a){let _C,_d,_e;for(let i=0;i<m.length;i+=1){_e=m[i];_d=k[_e.callbackIndex];if(_e.state==C.SEM_PRE)_d!==null&&(_C=_d(C.SEM_PRE,h,_e.phraseIndex,_e.phraseLength,_a),_C==C.SEM_SKIP&&(i=_e.thatIndex));else _d!==null&&_d(C.SEM_POST,h,_e.phraseIndex,_e.phraseLength,_a)}};this.setLength=function _b(_a){m.length=_a;_a>0?l.length=m[_a-1].stack:l.length=0};this.getLength=function _a(){return m.length};function n(n){let _b='';for(let i=0;i<n;i+=1)_b+=' ';return _b}this.toXml=function _b(_a){let _C=_c.charsToDec,_d='decimal integer character codes',_e='',F=0;if(c(_a)&&_a.length>=3){var _A=_a.slice(0,3).toLowerCase();if(_A=='asc'){_C=_c.charsToAscii;_d='ASCII for printing characters, hex for non-printing'} else if(_A=='hex'){_C=_c.charsToHex;_d='hexadecimal integer character codes'}else _A=='uni'&&(_C=_c.charsToUnicode,_d='Unicode UTF-32 integer character codes')}_e+='<?xml version="1.0" encoding="utf-8"?>\n';_e+=`<root nodes="${m.length/2}" characters="${h.length}">\n`;_e+=`<!-- input string, ${_d} -->\n`;_e+=n(F+2);_e+=_C(h);_e+='\n';for(const aA of m)aA.state==C.SEM_PRE?(F+=1,_e+=n(F),_e+=`<node name="${aA.name}" index="${aA.phraseIndex}" length="${aA.phraseLength}">\n`,_e+=n(F+2),_e+=_C(h,aA.phraseIndex,aA.phraseLength),_e+='\n'):(_e+=n(F),_e+=`</node><!-- name="${aA.name}" -->\n`,F-=1);_e+='</root>\n';return _e};this.phrases=function _a(){var _b={},i,_d;for(i=0;i<m.length;i+=1){_d=m[i];_d.state==C.SEM_PRE&&(!a(_b[_d.name])&&(_b[_d.name]=[]),_b[_d.name].push({index:_d.phraseIndex,length:_d.phraseLength}))}return _b}}},{"./identifiers":24,"./utilities":30}],22:[function(A,_){_.exports=function B(){var C='circular-buffer.js: ',_c=-1,D=0;this.init=function _b(_a){if(typeof _a!=='number'||_a<=0)throw Error(`${C}init: circular buffer size must an integer > 0`);D=Math.ceil(_a);_c=-1};this.increment=function _a(){_c+=1;return (_c+D)%D};this.maxSize=function _a(){return D};this.items=function _a(){return _c+1};this.getListIndex=function _b(_a){if(_c==-1)return -1;if(_a<0||_a>_c)return -1;if(D<=_c-_a)return -1;return (_a+D)%D};this.forEach=function _b(_a){if(_c==-1)return;if(_c<D){for(let i=0;i<=_c;i+=1)_a(i,i);return}for(let i=_c-D+1;i<=_c;i+=1){var _A=(i+D)%D;_a(_A,i)}}}},{}],23:[function(A,_){_.exports=function B(){return'/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n'}},{}],24:[function(A,_){_.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],25:[function(A,_){_.exports={ast:A('./ast'),circular:A('./circular-buffer'),ids:A('./identifiers'),parser:A('./parser'),stats:A('./stats'),trace:A('./trace'),utils:A('./utilities'),emitcss:A('./emitcss'),style:A('./style')}},{"./ast":21,"./circular-buffer":22,"./emitcss":23,"./identifiers":24,"./parser":26,"./stats":27,"./style":28,"./trace":29,"./utilities":30}],26:[function(A,_){_.exports=function B(){var C=A('./identifiers'),_c=A('./utilities'),D='parser.js: ',E=this,f,g=null,h=null,i,j,k,l,m=0,n=0,o=0,p=null,q=null,r=null,s=null,t=null,u=0,v=Infinity,w=Infinity,x=function _d(_a,_b,_C){const _e=`${D}evaluateRule(): `,{length:F}=g;if(_a>=r.length)throw Error(`${_e}rule index: ${_a} out of range`);if(_b>=k)throw Error(`${_e}phrase index: ${_b} out of range`);g.push({type:C.RNM,index:_a});f(F,_b,_C);g.pop()},y=function(_a,_b,_C){const _d=`${D}evaluateUdt(): `,{length:_e}=g;if(_a>=s.length)throw Error(`${_d}udt index: ${_a} out of range`);if(_b>=k)throw Error(`${_d}phrase index: ${_b} out of range`);g.push({type:C.UDT,empty:s[_a].empty,index:_a});f(_e,_b,_C);g.pop()},z=function(){m=0;n=0;o=0;u=0;l=[{lookAround:C.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}];r=null;s=null;h=null;i=0;j=0;k=0;p=null;q=null;t=null;g=null},aA=function(){const _a=[],_C=function(){const _A=_a[_a.length-1],_B={};for(const bK in _A)_B[bK]=_A[bK];return _B};this.push=function _A(){_a.push(_C())};this.pop=function _B(_A){let bK=_A;!bK&&(bK=_a.length-1);if(bK<1||bK>_a.length)throw Error(`${D}backRef.pop(): bad length: ${bK}`);_a.length=bK;return _a[_a.length-1]};this.length=function _A(){return _a.length};this.savePhrase=function _d(_A,_B,bK){_a[_a.length-1][_A]={phraseIndex:_B,phraseLength:bK}};this.getPhrase=function(_A){return _a[_a.length-1][_A]};(function(){const bK={};for(const bK of r)bK.isBkr&&(bK[bK.lower]=null);if(s.length>0)for(const bK of s)bK.isBkr&&(bK[bK.lower]=null);_a.push(bK)})()},aB=function _a(){const _b=this;this.state=C.ACTIVE;this.phraseLength=0;this.ruleIndex=0;this.udtIndex=0;this.lookAround=l[l.length-1];this.uFrame=new aA();this.pFrame=new aA();this.evaluateRule=x;this.evaluateUdt=y;this.refresh=function _A(){_b.state=C.ACTIVE;_b.phraseLength=0;_b.lookAround=l[l.length-1]}},aC=function _a(){return l[l.length-1]},aD=function _a(){return l.length>1},aE=function(){return l[l.length-1].lookAround==C.LOOKAROUND_BEHIND},aF=function(){const _a=`${D}initializeAst(): `;while (TRUE) {if(E.ast==void 0){E.ast=null;break}if(E.ast==null)break;if(E.ast.astObject!=='astObject')throw Error(`${_a}ast object not recognized`);break}E.ast!==null&&E.ast.init(r,s,h)},aG=function(){const _a=`${D}initializeTrace(): `;while (TRUE) {if(E.trace==void 0){E.trace=null;break}if(E.trace==null)break;if(E.trace.traceObject!=='traceObject')throw Error(`${_a}trace object not recognized`);break}E.trace!==null&&E.trace.init(r,s,h)},aH=function(){const _a=`${D}initializeStats(): `;while (TRUE) {if(E.stats==void 0){E.stats=null;break}if(E.stats==null)break;if(E.stats.statsObject!=='statsObject')throw Error(`${_a}stats object not recognized`);break}E.stats!==null&&E.stats.init(r,s)},aI=function(_a){const _b=`${D}initializeGrammar(): `;if(!_a)throw Error(`${_b}grammar object undefined`);if(_a.grammarObject!=='grammarObject')throw Error(`${_b}bad grammar object`);r=_a.rules;s=_a.udts},aJ=function(_a){const _b=`${D}initializeStartRule(): `,_C=null;if(d(_a)){if(_a>=r.length)throw Error(`${_b}start rule index too large: max: ${r.length}: index: ${_a}`);_C=_a} else if(c(_a)){const _A=_a.toLowerCase();for(let i=0;i<r.length;i+=1)if(_A==r[i].lower){_C=r[i].index;break}if(_C==null)throw Error(`${_b}start rule name '${_a}' not recognized`)}else throw Error(`${_b}type of start rule '${typeof _a}' not recognized`);return _C},aK=function _d(_a,_b,_C){const _e=`${D}initializeInputChars(): `,F=_a,G=_b,H=_C;if(F==void 0)throw Error(`${_e}input string is undefined`);if(F==null)throw Error(`${_e}input string is null`);if(c(F))F=_c.stringToChars(F); else if(!a(F))throw Error(`${_e}input string is not a string or array`);if(F.length>0)if(typeof F[0]!=='number')throw Error(`${_e}input string not an array of integers`);if(typeof G!=='number')G=0;else{G=Math.floor(G);if(G<0||G>F.length)throw Error(`${_e}input beginning index out of range: ${G}`)}if(typeof H!=='number')H=F.length-G;else{H=Math.floor(H);if(H<0||H>F.length-G)throw Error(`${_e}input length out of range: ${H}`)}h=F;i=G;j=H;k=i+j},aL=function(){const _a=`${D}initializeCallbacks(): `,i,_C,_d=[];p=[];q=[];for(i=0;i<r.length;i+=1)p[i]=null;for(i=0;i<s.length;i+=1)q[i]=null;for(i=0;i<r.length;i+=1)_d.push(r[i].lower);for(i=0;i<s.length;i+=1)_d.push(s[i].lower);for(const _A in E.callbacks){i=_d.indexOf(_A.toLowerCase());if(i<0)throw Error(`${_a}syntax callback '${_A}' not a rule or udt name`);_C=E.callbacks[_A];!_C&&(_C=null);if(b(_C)||_C==null)i<r.length?p[i]=_C:q[i-r.length]=_C;else throw Error(`${_a}syntax callback[${_A}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(i=0;i<s.length;i+=1)if(q[i]==null)throw Error(`${_a}all UDT callbacks must be defined. UDT callback[${s[i].lower}] not a function reference`)},aM=function(_a,_b,_C){let _d,_e=`${D}parse(): `,F=aJ(_b),G=new aB();aI(_a);aL();aG();aH();aF();!(_C==void 0||_C==null)&&(t=_C);g=[{type:C.RNM,index:F}];f(0,i,G);g=null;switch(G.state) {case C.ACTIVE:throw Error(`${_e}final state should never be 'ACTIVE'`);case C.NOMATCH:_d=!1;break;case C.EMPTY:case C.MATCH:G.phraseLength==j?_d=!0:_d=!1;break;default:throw Error('unrecognized state')}return{success:_d,state:G.state,length:j,matched:G.phraseLength,maxMatched:u,maxTreeDepth:n,nodeHits:o,inputLength:h.length,subBegin:i,subEnd:k,subLength:j}},aN=function(_a,_b,_C){const _d=g[_a];for(let i=0;i<_d.children.length;i+=1){f(_d.children[i],_b,_C);if(_C.state!==C.NOMATCH)break}},aO=function(_a,_b,_C){let _d,_e,F,G,H=g[_a];E.ast&&(_e=E.ast.getLength());_d=!0;F=_b;G=0;for(let i=0;i<H.children.length;i+=1){f(H.children[i],F,_C);if(_C.state==C.NOMATCH){_d=!1;break}else{F+=_C.phraseLength;G+=_C.phraseLength}}_d?(_C.state=!G?C.EMPTY:C.MATCH,_C.phraseLength=G):(_C.state=C.NOMATCH,_C.phraseLength=0,_C.uFrame.pop(_C.uFrame.length()),_C.pFrame.pop(_C.pFrame.length()),E.ast&&E.ast.setLength(_e))},aP=function(_a,_b,_C){let _d,_e,F,G,H=g[_a];_e=_b;F=0;G=0;E.ast&&(_d=E.ast.getLength());while (TRUE) {if(_e>=k)break;f(_a+1,_e,_C);if(_C.state==C.NOMATCH)break;if(_C.state==C.EMPTY)break;G+=1;F+=_C.phraseLength;_e+=_C.phraseLength;if(G==H.max)break}if(_C.state==C.EMPTY){_C.state=!F?C.EMPTY:C.MATCH;_C.phraseLength=F}else G>=H.min?(_C.state=!F?C.EMPTY:C.MATCH,_C.phraseLength=F):(_C.state=C.NOMATCH,_C.phraseLength=0,_C.uFrame.pop(_C.uFrame.length()),_C.pFrame.pop(_C.pFrame.length()),E.ast&&E.ast.setLength(_d))},aQ=function(_a,_b,_C,_d){if(_b.phraseLength>_C){_A+=`sysData.phraseLength: ${_b.phraseLength}`;_A+=` must be <= remaining chars: ${_C}`;throw Error(`${D}opRNM(${_a.name}): callback function error: `)}switch(_b.state) {case C.ACTIVE:if(!_d)throw Error(`${D}opRNM(${_a.name}): callback function return error. ACTIVE state not allowed.`);break;case C.EMPTY:_b.phraseLength=0;break;case C.MATCH:!_b.phraseLength&&(_b.state=C.EMPTY);break;case C.NOMATCH:_b.phraseLength=0;break;default:throw Error(`${D}opRNM(${_a.name}): callback function return error. Unrecognized return state: ${_b.state}`)}},aR=function(_a,_b,_C){let _d,_e,F,G,H,I,J=g[_a],K=r[J.index],L=p[K.index],M=!aD();M&&(_e=E.ast?.ruleDefined(J.index),_e&&(_d=E.ast.getLength(),E.ast.down(J.index,r[J.index].name)),G=_C.uFrame.length(),H=_C.pFrame.length(),_C.uFrame.push(),_C.pFrame.push(),I=_C.pFrame,_C.pFrame=new aA());if(L==null){F=g;g=K.opcodes;f(0,_b,_C);g=F}else{const _A=k-_b;_C.ruleIndex=K.index;L(_C,h,_b,t);aQ(K,_C,_A,!0);_C.state==C.ACTIVE&&(F=g,g=K.opcodes,f(0,_b,_C),g=F,_C.ruleIndex=K.index,L(_C,h,_b,t),aQ(K,_C,_A,!1))}if(M){_e&&_C.state==C.NOMATCH?E.ast.setLength(_d):E.ast.up(J.index,K.name,_b,_C.phraseLength);_C.pFrame=I;if(_C.state==C.NOMATCH){_C.uFrame.pop(G);_C.pFrame.pop(H)}else K.isBkr&&(_C.pFrame.savePhrase(K.lower,_b,_C.phraseLength),_C.uFrame.savePhrase(K.lower,_b,_C.phraseLength))}},aS=function(_a,_b,_C){if(_b.phraseLength>_C){_A+=`sysData.phraseLength: ${_b.phraseLength}`;_A+=` must be <= remaining chars: ${_C}`;throw Error(`${D}opUDT(${_a.name}): callback function error: `)}switch(_b.state) {case C.ACTIVE:throw Error(`${D}opUDT(${_a.name}): callback function return error. ACTIVE state not allowed.`);case C.EMPTY:if(!_a.empty)throw Error(`${D}opUDT(${_a.name}): callback function return error. May not return EMPTY.`);else _b.phraseLength=0;break;case C.MATCH:if(!_b.phraseLength)if(!_a.empty)throw Error(`${D}opUDT(${_a.name}): callback function return error. May not return EMPTY.`);else _b.state=C.EMPTY;break;case C.NOMATCH:_b.phraseLength=0;break;default:throw Error(`${D}opUDT(${_a.name}): callback function return error. Unrecognized return state: ${_b.state}`)}},aT=function(_a,_b,_C){let _d,_e,F,G,H,I,J=g[_a],K=s[J.index],L=!aD();_C.UdtIndex=K.index;L&&(F=E.ast?.udtDefined(J.index),F&&(_e=r.length+J.index,_d=E.ast.getLength(),E.ast.down(_e,K.name)),G=_C.uFrame.length(),H=_C.pFrame.length(),_C.uFrame.push(),_C.pFrame.push(),I=_C.pFrame,_C.pFrame=new aA());q[J.index](_C,h,_b,t);aS(K,_C,k-_b);if(L){F&&_C.state==C.NOMATCH?E.ast.setLength(_d):E.ast.up(_e,K.name,_b,_C.phraseLength);_C.pFrame=I;if(_C.state==C.NOMATCH){_C.uFrame.pop(G);_C.pFrame.pop(H)}else K.isBkr&&(_C.pFrame.savePhrase(K.lower,_b,_C.phraseLength),_C.uFrame.savePhrase(K.lower,_b,_C.phraseLength))}},aU=function(_a,_b,_C){l.push({lookAround:C.LOOKAROUND_AHEAD,anchor:_b,charsEnd:k,charsLength:j});k=h.length;j=h.length-i;f(_a+1,_b,_C);const _d=l.pop();k=_d.charsEnd;j=_d.charsLength;_C.phraseLength=0;switch(_C.state) {case C.EMPTY:_C.state=C.EMPTY;break;case C.MATCH:_C.state=C.EMPTY;break;case C.NOMATCH:_C.state=C.NOMATCH;break;default:throw Error(`opAND: invalid state ${_C.state}`)}},aV=function(_a,_b,_C){l.push({lookAround:C.LOOKAROUND_AHEAD,anchor:_b,charsEnd:k,charsLength:j});k=h.length;j=h.length-i;f(_a+1,_b,_C);const _d=l.pop();k=_d.charsEnd;j=_d.charsLength;_C.phraseLength=0;switch(_C.state) {case C.EMPTY:case C.MATCH:_C.state=C.NOMATCH;break;case C.NOMATCH:_C.state=C.EMPTY;break;default:throw Error(`opNOT: invalid state ${_C.state}`)}},aW=function(_a,_b,_C){const _d=g[_a];_C.state=C.NOMATCH;_b<k&&_d.min<=h[_b]&&h[_b]<=_d.max&&(_C.state=C.MATCH,_C.phraseLength=1)},aX=function(_a,_b,_C){let i,_e=g[_a],F=_e.string.length;_C.state=C.NOMATCH;if(k>=_b+F){for(i=0;i<F;i+=1)if(h[_b+i]!==_e.string[i])return;_C.state=C.MATCH;_C.phraseLength=F}},aY=function(_a,_b,_C){let i,_e,F=g[_a],G=F.string.length;_C.state=C.NOMATCH;if(!G){_C.state=C.EMPTY;return}if(k>=_b+G){for(i=0;i<G;i+=1){_e=h[_b+i];_e>=65&&_e<=90&&(_e+=32);if(_e!==F.string[i])return}_C.state=C.MATCH;_C.phraseLength=G}},aZ=function(_a,_b,_C){_C.state=C.NOMATCH;_C.phraseLength=0;_C.state=!_b?C.EMPTY:C.NOMATCH},bA=function(_a,_b,_C){_C.state=C.NOMATCH;_C.phraseLength=0;_C.state=_b==h.length?C.EMPTY:C.NOMATCH},bB=function(_a,_b,_C){let i,_e,F,G,H=g[_a],I=H.bkrMode==C.BKR_MODE_PM?_C.pFrame.getPhrase(G):_C.uFrame.getPhrase(G),J=H.bkrCase==C.BKR_MODE_CI,K=I.phraseIndex,L=I.phraseLength;_C.state=C.NOMATCH;H.index<r.length?G=r[H.index].lower:G=s[H.index-r.length].lower;if(I==null)return;if(!L){_C.state=C.EMPTY;return}if(k>=_b+L){if(J){for(i=0;i<L;i+=1){_e=h[_b+i];F=h[K+i];_e>=65&&_e<=90&&(_e+=32);F>=65&&F<=90&&(F+=32);if(_e!==F)return}_C.state=C.MATCH;_C.phraseLength=L}else for(i=0;i<L;i+=1){_e=h[_b+i];F=h[K+i];if(_e!==F)return}_C.state=C.MATCH;_C.phraseLength=L}},bC=function(_a,_b,_C){l.push({lookAround:C.LOOKAROUND_BEHIND,anchor:_b});f(_a+1,_b,_C);l.pop();_C.phraseLength=0;switch(_C.state) {case C.EMPTY:_C.state=C.EMPTY;break;case C.MATCH:_C.state=C.EMPTY;break;case C.NOMATCH:_C.state=C.NOMATCH;break;default:throw Error(`opBKA: invalid state ${_C.state}`)}},bD=function(_a,_b,_C){l.push({lookAround:C.LOOKAROUND_BEHIND,anchor:_b});f(_a+1,_b,_C);l.pop();_C.phraseLength=0;switch(_C.state) {case C.EMPTY:case C.MATCH:_C.state=C.NOMATCH;break;case C.NOMATCH:_C.state=C.EMPTY;break;default:throw Error(`opBKN: invalid state ${_C.state}`)}},bE=function(_a,_b,_C){let _d,_e,F,G,H=g[_a];E.ast&&(_e=E.ast.getLength());_d=!0;F=_b;G=0;for(let i=H.children.length-1;i>=0;i-=1){f(H.children[i],F,_C);F-=_C.phraseLength;G+=_C.phraseLength;if(_C.state==C.NOMATCH){_d=!1;break}}_d?(_C.state=!G?C.EMPTY:C.MATCH,_C.phraseLength=G):(_C.state=C.NOMATCH,_C.phraseLength=0,_C.uFrame.pop(_C.uFrame.length()),_C.pFrame.pop(_C.pFrame.length()),E.ast&&E.ast.setLength(_e))},bF=function(_a,_b,_C){let _d,_e,F,G,H=g[_a];_e=_b;F=0;G=0;E.ast&&(_d=E.ast.getLength());while (TRUE) {if(_e<=0)break;f(_a+1,_e,_C);if(_C.state==C.NOMATCH)break;if(_C.state==C.EMPTY)break;G+=1;F+=_C.phraseLength;_e-=_C.phraseLength;if(G==H.max)break}if(_C.state==C.EMPTY){_C.state=!F?C.EMPTY:C.MATCH;_C.phraseLength=F}else G>=H.min?(_C.state=!F?C.EMPTY:C.MATCH,_C.phraseLength=F):(_C.state=C.NOMATCH,_C.phraseLength=0,_C.uFrame.pop(_C.uFrame.length()),_C.pFrame.pop(_C.pFrame.length()),E.ast&&E.ast.setLength(_d))},bG=function(_a,_b,_C){const _d=g[_a];_C.state=C.NOMATCH;_C.phraseLength=0;if(_b>0){const _A=h[_b-1];_d.min<=_A&&_A<=_d.max&&(_C.state=C.MATCH,_C.phraseLength=1)}},bH=function(_a,_b,_C){let i,_e=g[_a],F=_e.string.length,G=_b-F;_C.state=C.NOMATCH;if(G>=0){for(i=0;i<F;i+=1)if(h[G+i]!==_e.string[i])return;_C.state=C.MATCH;_C.phraseLength=F}},bI=function(_a,_b,_C){let _d,_e=g[_a],F=_e.string.length,G=_b-F;_C.state=C.NOMATCH;if(!F){_C.state=C.EMPTY;return}if(G>=0){for(let i=0;i<F;i+=1){_d=h[G+i];_d>=65&&_d<=90&&(_d+=32);if(_d!==_e.string[i])return}_C.state=C.MATCH;_C.phraseLength=F}},bJ=function(_a,_b,_C){let i,_e,F,G,H=g[_a],I=H.bkrMode==C.BKR_MODE_PM?_C.pFrame.getPhrase(G):_C.uFrame.getPhrase(G),J=H.bkrCase==C.BKR_MODE_CI,K=I.phraseIndex,L=I.phraseLength,M=_b-L;_C.state=C.NOMATCH;_C.phraseLength=0;H.index<r.length?G=r[H.index].lower:G=s[H.index-r.length].lower;if(I==null)return;if(!L){_C.state=C.EMPTY;_C.phraseLength=0;return}if(M>=0){if(J){for(i=0;i<L;i+=1){_e=h[M+i];F=h[K+i];_e>=65&&_e<=90&&(_e+=32);F>=65&&F<=90&&(F+=32);if(_e!==F)return}_C.state=C.MATCH;_C.phraseLength=L}else for(i=0;i<L;i+=1){_e=h[M+i];F=h[K+i];if(_e!==F)return}_C.state=C.MATCH;_C.phraseLength=L}};this.ast=null;this.stats=null;this.trace=null;this.callbacks=[];this.setMaxTreeDepth=function(_a){if(typeof _a!=='number')throw Error(`parser: max tree depth must be integer > 0: ${_a}`);v=Math.floor(_a);if(v<=0)throw Error(`parser: max tree depth must be integer > 0: ${_a}`)};this.setMaxNodeHits=function(_a){if(typeof _a!=='number')throw Error(`parser: max node hits must be integer > 0: ${_a}`);w=Math.floor(_a);if(w<=0)throw Error(`parser: max node hits must be integer > 0: ${_a}`)};this.parseSubstring=function G(_a,_b,_C,_d,_e,F){z();aK(_C,_d,_e);return aM(_a,_b,F)};this.parse=function _e(_a,_b,_C,_d){z();aK(_C,0,_C.length);return aM(_a,_b,_d)};f=function _d(_a,_b,_C){let _e=!0,F=g[_a];o+=1;if(o>w)throw Error(`parser: maximum number of node hits exceeded: ${w}`);m+=1;if(m>n){n=m;if(n>v)throw Error(`parser: maximum parse tree depth exceeded: ${v}`)}_C.refresh();if(E.trace!==null){var _A=aC();E.trace.down(F,_C.state,_b,_C.phraseLength,_A.anchor,_A.lookAround)}if(aE())switch(F.type) {case C.ALT:aN(_a,_b,_C);break;case C.CAT:bE(_a,_b,_C);break;case C.REP:bF(_a,_b,_C);break;case C.RNM:aR(_a,_b,_C);break;case C.UDT:aT(_a,_b,_C);break;case C.AND:aU(_a,_b,_C);break;case C.NOT:aV(_a,_b,_C);break;case C.TRG:bG(_a,_b,_C);break;case C.TBS:bH(_a,_b,_C);break;case C.TLS:bI(_a,_b,_C);break;case C.BKR:bJ(_a,_b,_C);break;case C.BKA:bC(_a,_b,_C);break;case C.BKN:bD(_a,_b,_C);break;case C.ABG:aZ(_a,_b,_C);break;case C.AEN:bA(_a,_b,_C);break;default:_e=!1;break}else switch(F.type) {case C.ALT:aN(_a,_b,_C);break;case C.CAT:aO(_a,_b,_C);break;case C.REP:aP(_a,_b,_C);break;case C.RNM:aR(_a,_b,_C);break;case C.UDT:aT(_a,_b,_C);break;case C.AND:aU(_a,_b,_C);break;case C.NOT:aV(_a,_b,_C);break;case C.TRG:aW(_a,_b,_C);break;case C.TBS:aX(_a,_b,_C);break;case C.TLS:aY(_a,_b,_C);break;case C.BKR:bB(_a,_b,_C);break;case C.BKA:bC(_a,_b,_C);break;case C.BKN:bD(_a,_b,_C);break;case C.ABG:aZ(_a,_b,_C);break;case C.AEN:bA(_a,_b,_C);break;default:_e=!1;break}!aD()&&u<_b+_C.phraseLength&&(u=_b+_C.phraseLength);E.stats!==null&&E.stats.collect(F,_C);if(E.trace!==null){var bK=aC();E.trace.up(F,_C.state,_b,_C.phraseLength,bK.anchor,bK.lookAround)}m-=1;return _e}}},{"./identifiers":24,"./utilities":30}],27:[function(A,_){_.exports=function B(){var C=A('./identifiers'),_c=A('./utilities'),D=A('./style'),E='stats.js: ',f=[],g=[],h=[],i,j=[],k=[],l='stats',m=function _C(_a,_b){if(_a.lower<_b.lower)return -1;if(_a.lower>_b.lower)return 1;return 0},n=function _C(_a,_b){if(_a.total<_b.total)return 1;if(_a.total>_b.total)return -1;return m(_a,_b)},o=function _C(_a,_b){if(_a.index<_b.index)return -1;if(_a.index>_b.index)return 1;return 0},p=function _a(){this.empty=0;this.match=0;this.nomatch=0;this.total=0},q=function _a(){h.length=0;i=new p();h[C.ALT]=new p();h[C.CAT]=new p();h[C.REP]=new p();h[C.RNM]=new p();h[C.TRG]=new p();h[C.TBS]=new p();h[C.TLS]=new p();h[C.UDT]=new p();h[C.AND]=new p();h[C.NOT]=new p();h[C.BKR]=new p();h[C.BKA]=new p();h[C.BKN]=new p();h[C.ABG]=new p();h[C.AEN]=new p();j.length=0;for(let i=0;i<f.length;i+=1)j.push({empty:0,match:0,nomatch:0,total:0,name:f[i].name,lower:f[i].lower,index:f[i].index});if(g.length>0){k.length=0;for(let i=0;i<g.length;i+=1)k.push({empty:0,match:0,nomatch:0,total:0,name:g[i].name,lower:g[i].lower,index:g[i].index})}},r=function _C(_a,_b){_a.total+=1;switch(_b) {case C.EMPTY:_a.empty+=1;break;case C.MATCH:_a.match+=1;break;case C.NOMATCH:_a.nomatch+=1;break;default:throw Error(`${E}collect(): incStat(): unrecognized state: ${_b}`)}},s=function _C(_a,_b){let _d='';_d+='<tr>';_d+=`<td class="${D.CLASS_ACTIVE}">${_a}</td>`;_d+=`<td class="${D.CLASS_EMPTY}">${_b.empty}</td>`;_d+=`<td class="${D.CLASS_MATCH}">${_b.match}</td>`;_d+=`<td class="${D.CLASS_NOMATCH}">${_b.nomatch}</td>`;_d+=`<td class="${D.CLASS_ACTIVE}">${_b.total}</td>`;_d+='</tr>\n';return _d},t=function _a(){let _b='';_b+=s('ALT',h[C.ALT]);_b+=s('CAT',h[C.CAT]);_b+=s('REP',h[C.REP]);_b+=s('RNM',h[C.RNM]);_b+=s('TRG',h[C.TRG]);_b+=s('TBS',h[C.TBS]);_b+=s('TLS',h[C.TLS]);_b+=s('UDT',h[C.UDT]);_b+=s('AND',h[C.AND]);_b+=s('NOT',h[C.NOT]);_b+=s('BKR',h[C.BKR]);_b+=s('BKA',h[C.BKA]);_b+=s('BKN',h[C.BKN]);_b+=s('ABG',h[C.ABG]);_b+=s('AEN',h[C.AEN]);_b+=s('totals',i);return _b},u=function _a(){let _b='';_b+='<tr><th></th><th></th><th></th><th></th><th></th></tr>\n';_b+='<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n';for(let i=0;i<f.length;i+=1)j[i].total>0&&(_b+='<tr>',_b+=`<td class="${D.CLASS_ACTIVE}">${j[i].name}</td>`,_b+=`<td class="${D.CLASS_EMPTY}">${j[i].empty}</td>`,_b+=`<td class="${D.CLASS_MATCH}">${j[i].match}</td>`,_b+=`<td class="${D.CLASS_NOMATCH}">${j[i].nomatch}</td>`,_b+=`<td class="${D.CLASS_ACTIVE}">${j[i].total}</td>`,_b+='</tr>\n');if(g.length>0){_b+='<tr><th></th><th></th><th></th><th></th><th></th></tr>\n';_b+='<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n';for(let i=0;i<g.length;i+=1)k[i].total>0&&(_b+='<tr>',_b+=`<td class="${D.CLASS_ACTIVE}">${k[i].name}</td>`,_b+=`<td class="${D.CLASS_EMPTY}">${k[i].empty}</td>`,_b+=`<td class="${D.CLASS_MATCH}">${k[i].match}</td>`,_b+=`<td class="${D.CLASS_NOMATCH}">${k[i].nomatch}</td>`,_b+=`<td class="${D.CLASS_ACTIVE}">${k[i].total}</td>`,_b+='</tr>\n')}return _b};this.statsObject='statsObject';this.validate=function _b(_a){let _C=!1;c(_a)&&l==_a&&(_C=!0);return _C};this.init=function _C(_a,_b){f=_a;g=_b;q()};this.collect=function _C(_a,_b){r(i,_b.state,_b.phraseLength);r(h[_a.type],_b.state,_b.phraseLength);_a.type==C.RNM&&r(j[_a.index],_b.state,_b.phraseLength);_a.type==C.UDT&&r(k[_a.index],_b.state,_b.phraseLength)};this.toHtml=function _C(_a,_b){let _d='';_d+=`<table class="${D.CLASS_STATS}">\n`;c(_b)&&(_d+=`<caption>${_b}</caption>\n`);_d+=`<tr><th class="${D.CLASS_ACTIVE}">ops</th>\n`;_d+=`<th class="${D.CLASS_EMPTY}">EMPTY</th>\n`;_d+=`<th class="${D.CLASS_MATCH}">MATCH</th>\n`;_d+=`<th class="${D.CLASS_NOMATCH}">NOMATCH</th>\n`;_d+=`<th class="${D.CLASS_ACTIVE}">totals</th></tr>\n`;while (test) {if(_a==void 0){_d+=t();break}if(_a==null){_d+=t();break}if(_a=='ops'){_d+=t();break}if(_a=='index'){j.sort(o);k.length>0&&k.sort(o);_d+=t();_d+=u();break}if(_a=='hits'){j.sort(n);k.length>0&&k.sort(o);_d+=t();_d+=u();break}if(_a=='alpha'){j.sort(m);k.length>0&&k.sort(m);_d+=t();_d+=u();break}break}_d+='</table>\n';return _d};this.toHtmlPage=function _d(_a,_b,_C){return _c.htmlToPage(this.toHtml(_a,_b),_C)}}},{"./identifiers":24,"./style":28,"./utilities":30}],28:[function(A,_){_.exports={CLASS_MONOSPACE:'apg-mono',CLASS_ACTIVE:'apg-active',CLASS_EMPTY:'apg-empty',CLASS_MATCH:'apg-match',CLASS_NOMATCH:'apg-nomatch',CLASS_LOOKAHEAD:'apg-lh-match',CLASS_LOOKBEHIND:'apg-lb-match',CLASS_REMAINDER:'apg-remainder',CLASS_CTRLCHAR:'apg-ctrl-char',CLASS_LINEEND:'apg-line-end',CLASS_ERROR:'apg-error',CLASS_PHRASE:'apg-phrase',CLASS_EMPTYPHRASE:'apg-empty-phrase',CLASS_STATE:'apg-state',CLASS_STATS:'apg-stats',CLASS_TRACE:'apg-trace',CLASS_GRAMMAR:'apg-grammar',CLASS_RULES:'apg-rules',CLASS_RULESLINK:'apg-rules-link',CLASS_ATTRIBUTES:'apg-attrs'}},{}],29:[function(A,_){_.exports=function B(){var C=A('./utilities'),_c=A('./style'),D=new A('./circular-buffer')(),E=A('./identifiers'),f='trace.js: ',g=this,h=16,i=10,j=8,k=32,l=80,m=5,n=[],o=5000,p=-1,q=0,r=0,s=[],t=null,u=null,v=null,w=[],x=[],y=`<span class="${_c.CLASS_LINEEND}">&bull;</span>`,z=`<span class="${_c.CLASS_LINEEND}">&hellip;</span>`,aA=`<span class="${_c.CLASS_EMPTY}">&#120634;</span>`,aB=function(){const _a=function(_A){w[E.ALT]=_A;w[E.CAT]=_A;w[E.REP]=_A;w[E.TLS]=_A;w[E.TBS]=_A;w[E.TRG]=_A;w[E.AND]=_A;w[E.NOT]=_A;w[E.BKR]=_A;w[E.BKA]=_A;w[E.BKN]=_A;w[E.ABG]=_A;w[E.AEN]=_A},_b=0;for(const _A in g.filter.operators)_b+=1;if(!_b){_a(!1);return}for(const _A in g.filter.operators){const aS=_A.toUpperCase();if(aS=='<ALL>'){_a(!0);return}if(aS=='<NONE>'){_a(!1);return}}_a(!1);for(const _A in g.filter.operators){const aS=_A.toUpperCase();if(aS=='ALT')w[E.ALT]=g.filter.operators[_A]==!!w[E.ALT]; else if(aS=='CAT')w[E.CAT]=g.filter.operators[_A]==!!w[E.CAT]; else if(aS=='REP')w[E.REP]=g.filter.operators[_A]==!!w[E.REP]; else if(aS=='AND')w[E.AND]=g.filter.operators[_A]==!!w[E.AND]; else if(aS=='NOT')w[E.NOT]=g.filter.operators[_A]==!!w[E.NOT]; else if(aS=='TLS')w[E.TLS]=g.filter.operators[_A]==!!w[E.TLS]; else if(aS=='TBS')w[E.TBS]=g.filter.operators[_A]==!!w[E.TBS]; else if(aS=='TRG')w[E.TRG]=g.filter.operators[_A]==!!w[E.TRG]; else if(aS=='BKR')w[E.BKR]=g.filter.operators[_A]==!!w[E.BKR]; else if(aS=='BKA')w[E.BKA]=g.filter.operators[_A]==!!w[E.BKA]; else if(aS=='BKN')w[E.BKN]=g.filter.operators[_A]==!!w[E.BKN]; else if(aS=='ABG')w[E.ABG]=g.filter.operators[_A]==!!w[E.ABG]; else if(aS=='AEN')w[E.AEN]=g.filter.operators[_A]==!!w[E.AEN];else throw Error(`${f}initOpratorFilter: '${_A}' not a valid operator name.`+` Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},aC=function(){const _a=function(_A){w[E.RNM]=_A;w[E.UDT]=_A;const _B=u.length+v.length;x.length=0;for(let i=0;i<_B;i+=1)x.push(_A)},_b,i,_d=[];for(i=0;i<u.length;i+=1)_d.push(u[i].lower);for(i=0;i<v.length;i+=1)_d.push(v[i].lower);x.length=0;_b=0;for(const _A in g.filter.rules)_b+=1;if(!_b){_a(!0);return}for(const _A in g.filter.rules){const aS=_A.toLowerCase();if(aS=='<all>'){_a(!0);return}if(aS=='<none>'){_a(!1);return}}_a(!1);w[E.RNM]=!0;w[E.UDT]=!0;for(const _A in g.filter.rules){i=_d.indexOf(_A.toLowerCase());if(i<0)throw Error(`${f}initRuleFilter: '${_A}' not a valid rule or udt name`);x[i]=g.filter.rules[_A]==!!x[i]}},aD=function(_a){let _b=!1;if(_a.type==E.RNM)w[_a.type]&&x[_a.index]?_b=!0:_b=!1;else _a.type==E.UDT?w[_a.type]&&x[u.length+_a.index]?_b=!0:_b=!1:_b=w[_a.type];return _b},aE=function(_a){if(p==-1)return!0;if(_a<=p)return!0;return!1},aF=function(){function _a(_A,_B){let aS,_D,_E;if(_B){_A.op={id:_B.type,name:C.opcodeToString(_B.type)};_A.opData=void 0;switch(_B.type) {case E.RNM:_A.opData=u[_B.index].name;break;case E.UDT:_A.opData=v[_B.index].name;break;case E.BKR:_B.index<u.length?aS=u[_B.index].name:aS=v[_B.index-u.length].name;_D=_B.bkrCase==E.BKR_MODE_CI?'%i':'%s';_E=_B.bkrMode==E.BKR_MODE_UM?'%u':'%p';_A.opData=`\\\\${_D}${_E}${aS}`;break;case E.TLS:_A.opData=[];for(let i=0;i<_B.string.length;i+=1)_A.opData.push(_B.string[i]);break;case E.TBS:_A.opData=[];for(let i=0;i<_B.string.length;i+=1)_A.opData.push(_B.string[i]);break;case E.TRG:_A.opData=[_B.min,_B.max];break;case E.REP:_A.opData=[_B.min,_B.max];break;default:throw Error('unrecognized opcode')}}else{_A.op={id:void 0,name:void 0};_A.opData=void 0}}function _b(_A,_B,aS){if(_A==E.MATCH)return{index:_B,length:aS};if(_A==E.NOMATCH)return{index:_B,length:0};if(_A==E.EMPTY)return{index:_B,length:0};return null}let _C=-1,F=0,G=-1,H=1,K=[],L,M,N,O,P=!0,Q=_d(null,null,-1),R=L,S={},T;function _d(_A,_B,aS){const _D={id:_C++,branch:-1,parent:_A,up:!1,down:!1,depth:aS,children:[]};_B?(_D.down=!0,_D.state={id:_B.state,name:C.stateToString(_B.state)},_D.phrase=null,_a(_D,_B.opcode)):(_D.state={id:void 0,name:void 0},_D.phrase=_b(),_a(_D,void 0));return _D}function _e(_A,_B){_B&&(_A.up=!0,_A.state={id:_B.state,name:C.stateToString(_B.state)},_A.phrase=_b(_B.state,_B.phraseIndex,_B.phraseLength),!_A.down&&_a(_A,_B.opcode))}function I(_A){G+=1;_A.branch=H;G>r&&(r=G);if(!_A.children.length)F+=1;else for(let i=0;i<_A.children.length;i+=1){i>0&&(H+=1);_A.children[i].leftMost=!1;_A.children[i].rightMost=!1;_A.leftMost&&(_A.children[i].leftMost=!i);_A.rightMost&&(_A.children[i].rightMost=i==_A.children.length-1);I(_A.children[i])}G-=1}function J(_A,_B){let aS,_D={};_D.id=_A.id;_D.branch=_A.branch;_D.leftMost=_A.leftMost;_D.rightMost=_A.rightMost;aS=_A.state.name?_A.state.name:'ACTIVE';_D.state={id:_A.state.id,name:aS};aS=_A.op.name?_A.op.name:'?';_D.op={id:_A.op.id,name:aS};if(c(_A.opData))_D.opData=_A.opData; else if(a(_A.opData)){_D.opData=[];for(let i=0;i<_A.opData.length;i+=1)_D.opData[i]=_A.opData[i]}else _D.opData=void 0;_A.phrase?_D.phrase={index:_A.phrase.index,length:_A.phrase.length}:_D.phrase=null;_D.depth=_A.depth;_D.children=[];for(let i=0;i<_A.children.length;i+=1)_D.children[i]=J(_A.children[i],_B,i!==_A.children.length-1);return _D}K.push(Q);M=Q;for(const _A of D){O=n[_A];if(P){P=!1;if(O.depth>0){const aS=O.dirUp?O.depth+1:O.depth;for(let i=0;i<aS;i+=1){N=M;M=_d(M,null,i);K.push(M);N.children.push(M)}}}O.dirUp?(M=K.pop(),_e(M,O),M=K[K.length-1]):(N=M,M=_d(M,O,O.depth),K.push(M),N.children.push(M))}while (K.length>1) {M=K.pop();_e(M,null)}if(!Q.children.length)throw Error('trace.toTree(): parse tree has no nodes');if(!K.length)throw Error('trace.toTree(): integrity check: dummy root node disappeared?');L=Q.children[0];while (L&&!L.down&&!L.up) {R=L;L=L.children[0]}L=R;L.leftMost=!0;L.rightMost=!0;I(L);L.branch=0;S.string=[];for(let i=0;i<t.length;i+=1)S.string[i]=t[i];S.rules=[];for(let i=0;i<u.length;i+=1)S.rules[i]=u[i].name;S.udts=[];for(let i=0;i<v.length;i+=1)S.udts[i]=v[i].name;S.id={};S.id.ALT={id:E.ALT,name:'ALT'};S.id.CAT={id:E.CAT,name:'CAT'};S.id.REP={id:E.REP,name:'REP'};S.id.RNM={id:E.RNM,name:'RNM'};S.id.TLS={id:E.TLS,name:'TLS'};S.id.TBS={id:E.TBS,name:'TBS'};S.id.TRG={id:E.TRG,name:'TRG'};S.id.UDT={id:E.UDT,name:'UDT'};S.id.AND={id:E.AND,name:'AND'};S.id.NOT={id:E.NOT,name:'NOT'};S.id.BKR={id:E.BKR,name:'BKR'};S.id.BKA={id:E.BKA,name:'BKA'};S.id.BKN={id:E.BKN,name:'BKN'};S.id.ABG={id:E.ABG,name:'ABG'};S.id.AEN={id:E.AEN,name:'AEN'};S.id.ACTIVE={id:E.ACTIVE,name:'ACTIVE'};S.id.MATCH={id:E.MATCH,name:'MATCH'};S.id.EMPTY={id:E.EMPTY,name:'EMPTY'};S.id.NOMATCH={id:E.NOMATCH,name:'NOMATCH'};S.treeDepth=r;S.leafNodes=F;L.down?L.up?T='none':T='right':L.up?T='left':T='both';S.branchesIncomplete=T;S.tree=J(L,L.depth,!1);return S},aG=function(_a,_b){let _C,_d='';switch(_a) {case h:_C='hexadecimal';break;case i:_C='decimal';break;case j:_C='ASCII';break;case k:_C='UNICODE';break;default:throw Error(`${f}htmlHeader: unrecognized mode: ${_a}`)}_d+=`<p>display mode: ${_C}</p>\n`;_d+=`<table class="${_c.CLASS_TRACE}">\n`;c(_b)&&(_d+=`<caption>${_b}</caption>`);return _d},aH=function(){let _a='';_a+='</table>\n';_a+=`<p class="${_c.CLASS_MONOSPACE}">legend:<br>\n`;_a+='(a)&nbsp;-&nbsp;line number<br>\n';_a+='(b)&nbsp;-&nbsp;matching line number<br>\n';_a+='(c)&nbsp;-&nbsp;phrase offset<br>\n';_a+='(d)&nbsp;-&nbsp;phrase length<br>\n';_a+='(e)&nbsp;-&nbsp;tree depth<br>\n';_a+='(f)&nbsp;-&nbsp;operator state<br>\n';_a+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`;_a+='operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n';_a+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${l} characters of the phrase being matched<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_MATCH}">matched characters</span><br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${_c.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${aA} empty string<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${y} end of input string<br>\n`;_a+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${z} input string display truncated<br>\n`;_a+='</p>\n';_a+=`<p class="${_c.CLASS_MONOSPACE}">\n`;_a+='<sup>&dagger;</sup>original ABNF operators:<br>\n';_a+='ALT - alternation<br>\n';_a+='CAT - concatenation<br>\n';_a+='REP - repetition<br>\n';_a+='RNM - rule name<br>\n';_a+='TRG - terminal range<br>\n';_a+='TLS - terminal literal string (case insensitive)<br>\n';_a+='TBS - terminal binary string (case sensitive)<br>\n';_a+='<br>\n';_a+='<sup>&Dagger;</sup>super set SABNF operators:<br>\n';_a+='UDT - user-defined terminal<br>\n';_a+='AND - positive look ahead<br>\n';_a+='NOT - negative look ahead<br>\n';_a+='BKA - positive look behind<br>\n';_a+='BKN - negative look behind<br>\n';_a+='BKR - back reference<br>\n';_a+='ABG - anchor - begin of input string<br>\n';_a+='AEN - anchor - end of input string<br>\n';_a+='</p>\n';return _a},aI=function(_a,_b){let _C='';if(_b.type==E.TRG)if(_a==h||_a==k){let _A=_b.min.toString(16).toUpperCase();_A.length%2&&(_A=`0${_A}`);_C+=_a==h?'%x':'U+';_C+=_A;_A=_b.max.toString(16).toUpperCase();_A.length%2&&(_A=`0${_A}`);_C+=`&ndash;${_A}`}else _C=`%d${_b.min.toString(10)}&ndash;${_b.max.toString(10)}`;return _C},aJ=function(_a,_b){let _C='';if(_b.type==E.REP)if(_a==h){let _A=_b.min.toString(16).toUpperCase();_A.length%2&&(_A=`0${_A}`);_C=`x${_A}`;if(_b.max<Infinity){_A=_b.max.toString(16).toUpperCase();_A.length%2&&(_A=`0${_A}`)}else _A='inf';_C+=`&ndash;${_A}`}else _b.max<Infinity?_C=`${_b.min.toString(10)}&ndash;${_b.max.toString(10)}`:_C=`${_b.min.toString(10)}&ndash;inf`;return _C},aK=function(_a,_b){let _C='';if(_b.type==E.TBS){const _A=Math.min(_b.string.length,m*2);if(_a==h||_a==k){_C+=_a==h?'%x':'U+';for(let i=0;i<_A;i+=1){let aS;i>0&&(_C+='.');aS=_b.string[i].toString(16).toUpperCase();aS.length%2&&(aS=`0${aS}`);_C+=aS}}else{_C='%d';for(let i=0;i<_A;i+=1){i>0&&(_C+='.');_C+=_b.string[i].toString(10)}}_A<_b.string.length&&(_C+=z)}return _C},aL=function(_a,_b){let _C='';if(_b.type==E.TLS){const _A=Math.min(_b.string.length,m);if(_a==h||_a==i){let aS,_B,aT;_a==h?(_C='%x',aT=16):(_C='%d',aT=10);for(let i=0;i<_A;i+=1){i>0&&(_C+='.');_B=_b.string[i];if(_B>=97&&_B<=122){aS=_B-32;_C+=`${aS.toString(aT)}/${_B.toString(aT)}`.toUpperCase()}else _B>=65&&_B<=90?(aS=_B,_B+=32,_C+=`${aS.toString(aT)}/${_B.toString(aT)}`.toUpperCase()):(_C+=_B.toString(aT).toUpperCase())}_A<_b.string.length&&(_C+=z)}else{_C='"';for(let i=0;i<_A;i+=1)_C+=C.asciiChars[_b.string[i]];_A<_b.string.length&&(_C+=z);_C+='"'}}return _C},aM=function(_a,_b,_C,_d,_e){if(!_d)return'';let F='',G=_e?',':'';switch(_a) {case h:F=G+C.charsToHex(_b,_C,_d);break;case i:if(_e)return`,${C.charsToDec(_b,_C,_d)}`;F=G+C.charsToDec(_b,_C,_d);break;case k:F=C.charsToUnicode(_b,_C,_d);break;case j:default:F=C.charsToAsciiHtml(_b,_C,_d);break}return F},aN=function(_a,_b,_C,_d,_e,F){let G='',H,I,J,K,L=y,M=`<span class="${_c.CLASS_LOOKBEHIND}">`,N=`<span class="${_c.CLASS_REMAINDER}">`,O='</span>',P=!1;switch(_C) {case E.EMPTY:G+=aA;case E.NOMATCH:case E.MATCH:case E.ACTIVE:H=_d-_e;I=F-H;J=F;K=_b.length-J;break;default:throw Error('unrecognized state')}L=y;if(I>l){I=l;L=z;K=0}else l<I+K&&(L=z,K=l-I);I>0&&(G+=M,G+=aM(_a,_b,H,I,P),G+=O,P=!0);K>0&&(G+=N,G+=aM(_a,_b,J,K,P),G+=O);return G+L},aO=function(_a,_b,_C,_d,_e,F){let G='',H,I,J,K,L=y,M=`<span class="${_c.CLASS_REMAINDER}">`,N='</span>',O=!1;switch(_C) {case E.EMPTY:G+=aA;case E.NOMATCH:case E.ACTIVE:H=_d;I=0;J=_d;K=_b.length-J;break;case E.MATCH:H=_d;I=_e;J=_d+I;K=_b.length-J;break;default:throw Error('unrecognized state')}L=y;if(I>l){I=l;L=z;K=0}else l<I+K&&(L=z,K=l-I);I>0&&(G+=F,G+=aM(_a,_b,H,I,O),G+=N,O=!0);K>0&&(G+=M,G+=aM(_a,_b,J,K,O),G+=N);return G+L},aP=function(_a,_b,_C,_d,_e){return aO(_a,_b,_C,_d,_e,`<span class="${_c.CLASS_LOOKAHEAD}">`)},aQ=function(_a,_b,_C,_d,_e){return aO(_a,_b,_C,_d,_e,`<span class="${_c.CLASS_MATCH}">`)},aR=function(_a){if(u==null)return'';let _b='',_C,_d,_e,F,G,H;_b+='<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>';_b+='<th>operator</th><th>phrase</th></tr>\n';for(const _A of D){const aS=n[_A];_C=aS.thisLine;_d=aS.thatLine!==void 0?aS.thatLine:'--';_e=!1;F=!1;G=!1;aS.lookAround==E.LOOKAROUND_AHEAD&&(_e=!0,G=!0,H=aS.lookAnchor);aS.opcode.type==E.AND||aS.opcode.type==E.NOT&&(_e=!0,G=!0,H=aS.phraseIndex);aS.lookAround==E.LOOKAROUND_BEHIND&&(F=!0,G=!0,H=aS.lookAnchor);aS.opcode.type==E.BKA||aS.opcode.type==E.BKN&&(F=!0,G=!0,H=aS.phraseIndex);_b+='<tr>';_b+=`<td>${_C}</td><td>${_d}</td>`;_b+=`<td>${aS.phraseIndex}</td>`;_b+=`<td>${aS.phraseLength}</td>`;_b+=`<td>${aS.depth}</td>`;_b+='<td>';switch(aS.state) {case E.ACTIVE:_b+=`<span class="${_c.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case E.MATCH:_b+=`<span class="${_c.CLASS_MATCH}">&uarr;M</span>`;break;case E.NOMATCH:_b+=`<span class="${_c.CLASS_NOMATCH}">&uarr;N</span>`;break;case E.EMPTY:_b+=`<span class="${_c.CLASS_EMPTY}">&uarr;E</span>`;break;default:_b+=`<span class="${_c.CLASS_ACTIVE}">--</span>`;break}_b+='</td>';_b+='<td>';_b+=g.indent(aS.depth);_e?_b+=`<span class="${_c.CLASS_LOOKAHEAD}">`:F&&(_b+=`<span class="${_c.CLASS_LOOKBEHIND}">`);_b+=C.opcodeToString(aS.opcode.type);aS.opcode.type==E.RNM&&(_b+=`(${u[aS.opcode.index].name}) `);if(aS.opcode.type==E.BKR){const aT=aS.opcode.bkrCase==E.BKR_MODE_CI?'%i':'%s',_B=aS.opcode.bkrMode==E.BKR_MODE_UM?'%u':'%p';_b+=`(\\${aT}${_B}${u[aS.opcode.index].name}) `}aS.opcode.type==E.UDT&&(_b+=`(${v[aS.opcode.index].name}) `);aS.opcode.type==E.TRG&&(_b+=`(${aI(_a,aS.opcode)}) `);aS.opcode.type==E.TBS&&(_b+=`(${aK(_a,aS.opcode)}) `);aS.opcode.type==E.TLS&&(_b+=`(${aL(_a,aS.opcode)}) `);aS.opcode.type==E.REP&&(_b+=`(${aJ(_a,aS.opcode)}) `);G&&(_b+='</span>');_b+='</td>';_b+='<td>';F?_b+=aN(_a,t,aS.state,aS.phraseIndex,aS.phraseLength,H):_e?_b+=aP(_a,t,aS.state,aS.phraseIndex,aS.phraseLength):_b+=aQ(_a,t,aS.state,aS.phraseIndex,aS.phraseLength);_b+='</td></tr>\n'}_b+='<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>';_b+='<th>operator</th><th>phrase</th></tr>\n';_b+='</table>\n';return _b};this.traceObject='traceObject';this.filter={operators:[],rules:[]};this.setMaxRecords=function(_a,_b){p=-1;if(d(_a)&&_a>0)o=Math.ceil(_a);else{o=0;return}d(_b)&&(p=Math.floor(_b),p<0&&(p=-1))};this.getMaxRecords=function(){return o};this.getLastRecord=function(){return p};this.init=function(_a,_b,_C){n.length=0;s.length=0;q=0;r=0;t=_C;u=_a;v=_b;aB();aC();D.init(o)};this.down=function(_a,_b,_C,_d,_e,F){aE(q)&&aD(_a)&&(s.push(q),n[D.increment()]={dirUp:!1,depth:r,thisLine:q,thatLine:void 0,opcode:_a,state:_b,phraseIndex:_C,phraseLength:_d,lookAnchor:_e,lookAround:F},q+=1,r+=1)};this.up=function(_a,_b,_C,_d,_e,F){if(aE(q)&&aD(_a)){var _A=q,_B=s.pop(),aS=D.getListIndex(_B);aS!==-1&&(n[aS].thatLine=_A);r-=1;n[D.increment()]={dirUp:!0,depth:r,thisLine:_A,thatLine:_B,opcode:_a,state:_b,phraseIndex:_C,phraseLength:_d,lookAnchor:_e,lookAround:F};q+=1}};this.toTree=function(_a){var _b=aF();if(_a)return JSON.stringify(_b);return _b};this.toHtmlPage=function(_a,_b,_C){return C.htmlToPage(this.toHtml(_a,_b),_C)};this.indent=function(_a){let _b='';for(let i=0;i<_a;i+=1)_b+='.';return _b};this.toHtml=function(_a,_b){let _C=j,_d='';if(c(_a)&&_a.length>=3){var _A=_a.toLowerCase().slice(0,3);if(_A=='hex')_C=h;else _A=='dec'?_C=i:_A=='uni'&&(_C=k)}_d+=aG(_C,_b);_d+=aR(_C);_d+=aH();return _d}}},{"./circular-buffer":22,"./identifiers":24,"./style":28,"./utilities":30}],30:[function(A,_,B){var D=A('./style'),E=A('../apg-conv-api/converter'),f=A('./emitcss'),g=A('./identifiers'),h='utilities.js: ',i=function(C,_b,_c){let _d,_e=_b;while (TRUE) {if(C<=0){_e=0;_d=0;break}if(typeof _e!=='number'){_e=0;_d=C;break}if(_e>=C){_e=C;_d=C;break}if(typeof _c!=='number'){_d=C;break}_d=_e+_c;if(_d>C){_d=C;break}break}return{beg:_e,end:_d}};B.htmlToPage=(C,_b)=>{let _c,_d='';if(typeof C!=='string')throw Error(`${h}htmlToPage: input HTML is not a string`);typeof _b!=='string'?_c='htmlToPage':_c=_b;_d+='<!DOCTYPE html>\n';_d+='<html lang="en">\n';_d+='<head>\n';_d+='<meta charset="utf-8">\n';_d+=`<title>${_c}</title>\n`;_d+='<style>\n';_d+=f();_d+='</style>\n';_d+='</head>\n<body>\n';_d+=`<p>${new Date()}</p>\n`;_d+=C;_d+='</body>\n</html>\n';return _d};B.parserResultToHtml=(C,_b)=>{let _c=null,_d,_e,F='';c(_b)&&_b!==''&&(_c=_b);C.success?_d=`<span class="${D.CLASS_MATCH}">true</span>`:_d=`<span class="${D.CLASS_NOMATCH}">false</span>`;if(C.state==g.EMPTY)_e=`<span class="${D.CLASS_EMPTY}">EMPTY</span>`;else C.state==g.MATCH?_e=`<span class="${D.CLASS_MATCH}">MATCH</span>`:C.state==g.NOMATCH?_e=`<span class="${D.CLASS_NOMATCH}">NOMATCH</span>`:_e=`<span class="${D.CLASS_NOMATCH}">unrecognized</span>`;F+=`<table class="${D.CLASS_STATE}">\n`;_c&&(F+=`<caption>${_c}</caption>\n`);F+='<tr><th>state item</th><th>value</th><th>description</th></tr>\n';F+=`<tr><td>parser success</td><td>${_d}</td>\n`;F+=`<td><span class="${D.CLASS_MATCH}">true</span> if the parse succeeded,\n`;F+=` <span class="${D.CLASS_NOMATCH}">false</span> otherwise`;F+='<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n';F+=`<tr><td>parser state</td><td>${_e}</td>\n`;F+=`<td><span class="${D.CLASS_EMPTY}">EMPTY</span>, `;F+=`<span class="${D.CLASS_MATCH}">MATCH</span> or \n`;F+=`<span class="${D.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`;F+=`<tr><td>string length</td><td>${C.length}</td><td>length of the input (sub)string</td></tr>\n`;F+=`<tr><td>matched length</td><td>${C.matched}</td><td>number of input string characters matched</td></tr>\n`;F+=`<tr><td>max matched</td><td>${C.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`;F+=`<tr><td>max tree depth</td><td>${C.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`;F+=`<tr><td>node hits</td><td>${C.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`;F+=`<tr><td>input length</td><td>${C.inputLength}</td><td>length of full input string</td></tr>\n`;F+=`<tr><td>sub-string begin</td><td>${C.subBegin}</td><td>sub-string first character index</td></tr>\n`;F+=`<tr><td>sub-string end</td><td>${C.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`;F+=`<tr><td>sub-string length</td><td>${C.subLength}</td><td>sub-string length</td></tr>\n`;F+='</table>\n';return F};B.charsToString=(C,_b,_c)=>{let _d,_e;if(d(_b)){if(_b>=C.length)return'';_d=_b<0?0:_b}else _d=0;if(d(_c)){if(_c<=0)return'';_e=_c>C.length-_d?C.length:_d+_c}else _e=C.length;if(_d<_e)return E.encode('UTF16LE',C.slice(_d,_e)).toString('utf16le');return''};B.stringToChars=string=>E.decode('STRING',string);B.opcodeToString=C=>{let _b='unknown';switch(C) {case g.ALT:_b='ALT';break;case g.CAT:_b='CAT';break;case g.RNM:_b='RNM';break;case g.UDT:_b='UDT';break;case g.AND:_b='AND';break;case g.NOT:_b='NOT';break;case g.REP:_b='REP';break;case g.TRG:_b='TRG';break;case g.TBS:_b='TBS';break;case g.TLS:_b='TLS';break;case g.BKR:_b='BKR';break;case g.BKA:_b='BKA';break;case g.BKN:_b='BKN';break;case g.ABG:_b='ABG';break;case g.AEN:_b='AEN';break;default:throw Error('unrecognized opcode')}return _b};B.stateToString=C=>{let _b='unknown';switch(C) {case g.ACTIVE:_b='ACTIVE';break;case g.MATCH:_b='MATCH';break;case g.EMPTY:_b='EMPTY';break;case g.NOMATCH:_b='NOMATCH';break;default:throw Error('unrecognized state')}return _b};B.asciiChars=['NUL','SOH','STX','ETX','EOT','ENQ','ACK','BEL','BS','TAB','LF','VT','FF','CR','SO','SI','DLE','DC1','DC2','DC3','DC4','NAK','SYN','ETB','CAN','EM','SUB','ESC','FS','GS','RS','US','&nbsp;','!','&#34;','#','$','%','&#38;','&#39;','(',')','*','+',',','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&#60;','=','&#62;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[','&#92;',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','DEL'];B.charToHex=C=>{let _b=C.toString(16).toUpperCase();switch(_b.length) {case 1:case 3:case 7:_b=`0${_b}`;break;case 2:case 6:_b=`00${_b}`;break;case 4:break;case 5:_b=`000${_b}`;break;default:throw Error('unrecognized option')}return _b};B.charsToDec=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToDec: input must be an array of integers`);if(_e.end>_e.beg){_d+=C[_e.beg];for(let i=_e.beg+1;i<_e.end;i+=1)_d+=`,${C[i]}`}return _d};B.charsToHex=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToHex: input must be an array of integers`);if(_e.end>_e.beg){_d+=`\\x${B.charToHex(C[_e.beg])}`;for(let i=_e.beg+1;i<_e.end;i+=1)_d+=`,\\x${B.charToHex(C[i])}`}return _d};B.charsToHtmlEntities=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToHex: input must be an array of integers`);if(_e.end>_e.beg)for(let i=_e.beg;i<_e.end;i+=1)_d+=`&#x${C[i].toString(16)};`;return _d};function j(C){if(C>=0xd800&&C<=0xdfff)return!1;if(C>0x10ffff)return!1;return!0}B.charsToUnicode=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToUnicode: input must be an array of integers`);if(_e.end>_e.beg)for(let i=_e.beg;i<_e.end;i+=1)j(C[i])?_d+=`&#${C[i]};`:_d+=` U+${B.charToHex(C[i])}`;return _d};B.charsToJsUnicode=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToJsUnicode: input must be an array of integers`);if(_e.end>_e.beg){_d+=`\\u${B.charToHex(C[_e.beg])}`;for(let i=_e.beg+1;i<_e.end;i+=1)_d+=`,\\u${B.charToHex(C[i])}`}return _d};B.charsToAscii=(C,_b,_c)=>{let _d='',_e=i(C.length,_b,_c);if(!a(C))throw Error(`${h}charsToAscii: input must be an array of integers`);for(let i=_e.beg;i<_e.end;i+=1){var _a=C[i];_a>=32&&_a<=126?_d+=String.fromCharCode(_a):_d+=`\\x${B.charToHex(_a)}`}return _d};B.charsToAsciiHtml=(C,_b,_c)=>{if(!a(C))throw Error(`${h}charsToAsciiHtml: input must be an array of integers`);let _d='',_e,F=i(C.length,_b,_c);for(let i=F.beg;i<F.end;i+=1){_e=C[i];_e<32||_e==127?_d+=`<span class="${D.CLASS_CTRLCHAR}">${B.asciiChars[_e]}</span>`:_e>127?_d+=`<span class="${D.CLASS_CTRLCHAR}">U+${B.charToHex(_e)}</span>`:_d+=B.asciiChars[_e]}return _d};B.stringToAsciiHtml=function(C){return this.charsToAsciiHtml(E.decode('STRING',C))}},{"../apg-conv-api/converter":18,"./emitcss":23,"./identifiers":24,"./style":28}]},{},[17]);
